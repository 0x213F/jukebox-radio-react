{"version":3,"sources":["components/ModalApp/TrackDetail/TrackDetail.module.css","components/ModalApp/Welcome/Welcome.module.css","components/SearchApp/SearchApp.module.css","config/global.js","utils/network.js","components/FeedApp/network.js","config/api.js","components/Login/network.js","components/PlaybackApp/StreamEngine/network.js","components/ModalApp/UserSettings/network.js","components/QueueApp/network.js","config/views/modal.js","utils/reducers/modal.js","utils/reducers/streamEngine.js","config/tabs.js","config/motives.js","utils/reducers/trackDetail.js","config/services.js","utils/reducers/search.js","components/PlaybackApp/utils.js","utils/reducers/feed.js","utils/reducers/marker.js","utils/reducers/playback.js","utils/reducers/queue.js","utils/reducers/main.js","components/QueueApp/utils.js","utils/reducers/stream.js","utils/reducers/textComment.js","utils/reducers/notesApp.js","utils/reducers/textCommentModification.js","utils/reducers/voiceRecording.js","utils/reducers/userSettings.js","utils/reducers/sideBar.js","utils/redux.js","icons.js","components/Login/Login.js","components/SpotifySync/network.js","components/SpotifySync/SpotifySync.js","components/FeedApp/TextComment/network.js","components/FeedApp/icons.js","components/TheoryNotation/TheoryNotation.js","components/FeedApp/TheoryNotationDisplay/TheoryNotationDisplay.js","components/FeedApp/VoiceRecording/network.js","components/FeedApp/VoiceRecording/VoiceRecording.js","components/PlaybackApp/StreamEngine/actions.js","config/formats.js","components/FeedApp/NotableText/constants.js","components/FeedApp/NotableText/network.js","components/FeedApp/NotableText/NotableText.js","components/FeedApp/TextComment/TextComment.js","components/FeedApp/SystemAction/SystemAction.js","components/FeedApp/FeedApp.js","config/model.js","components/QueueApp/icons.js","components/QueueApp/QueueTrack/QueueTrack.js","components/QueueApp/QueueCollection/QueueCollection.js","components/QueueApp/QueueApp.js","components/QueueApp/MiniQueue/MiniQueue.js","components/SearchApp/network.js","components/SearchApp/SearchResult/SearchResult.js","components/SearchApp/icons.js","components/SearchApp/SearchApp.js","components/SearchApp/MiniNotes/MiniNotes.js","components/ModalApp/Upload/network.js","components/ModalApp/Upload/Upload.js","components/ModalApp/TrackDetail/Marker/network.js","components/ModalApp/TrackDetail/Interval/network.js","components/ModalApp/TrackDetail/icons.js","components/ModalApp/TrackDetail/Interval/icons.js","components/PlaybackApp/ProgressBar/utils.js","components/ModalApp/TrackDetail/TrackDetail.js","components/ModalApp/UserSettings/UserSettings.js","components/ModalApp/NotationCompose/NotationCompose.js","components/ModalApp/Welcome/Welcome.js","components/ModalApp/ModalApp.js","components/PlaybackApp/PlaybackEngine/controls.js","components/PlaybackApp/icons.js","components/PlaybackApp/ProgressBar/ChildProgressBar/ChildProgressBar.js","components/PlaybackApp/ProgressBar/ProgressBarMarker/ProgressBarMarker.js","components/PlaybackApp/ProgressBar/ProgressBar.js","utils/strings.js","components/MainRouter/BottomBar/icons.js","components/MainRouter/BottomBar/BottomBar.js","components/MainRouter/SideBar/SideBar.js","components/MainRouter/Session/icons.js","components/MainRouter/Session/Session.js","components/MainRouter/MainRouter.js","components/FeedApp/utils.js","components/PlaybackApp/StreamEngine/utils.js","components/PlaybackApp/StreamEngine/effects.js","components/PlaybackApp/StreamEngine/StreamEngine.js","utils/async.js","components/PlaybackApp/PlaybackEngine/PlaybackEngine.js","App.js","reportWebVitals.js","index.js","components/ModalApp/Upload/Upload.module.css","components/FeedApp/FeedApp.module.css","components/MainRouter/BottomBar/BottomBar.module.css","components/QueueApp/QueueApp.module.css","components/QueueApp/QueueCollection/QueueCollection.module.css","components/QueueApp/QueueTrack/QueueTrack.module.css","components/SearchApp/SearchResult/SearchResult.module.css","components/ModalApp/UserSettings/UserSettings.module.css","components/PlaybackApp/ProgressBar/ProgressBarMarker/ProgressBarMarker.module.css","components/MainRouter/SideBar/SideBar.module.css","components/Login/Login.module.css","components/PlaybackApp/ProgressBar/ChildProgressBar/ChildProgressBar.module.css","components/MainRouter/Session/Session.module.css","components/FeedApp/TheoryNotationDisplay/TheoryNotationDisplay.module.css","components/FeedApp/VoiceRecording/VoiceRecording.module.css","components/FeedApp/TextComment/TextComment.module.css","components/ModalApp/NotationCompose/NotationCompose.module.css","components/PlaybackApp/ProgressBar/ProgressBar.module.css","components/FeedApp/NotableText/NotableText.module.css","components/FeedApp/SystemAction/SystemAction.module.css","components/ModalApp/ModalApp.module.css","components/PlaybackApp/PlaybackEngine/PlaybackEngine.module.css","components/QueueApp/MiniQueue/MiniQueue.module.css","components/SearchApp/MiniNotes/MiniNotes.module.css"],"names":["module","exports","BACKEND_DOMAIN","process","TYPE_GET","TYPE_POST","fetchBackend","a","method","url","data","formData","FormData","Object","entries","key","value","append","requestOptions","headers","token","localStorage","getItem","Authorization","request","Request","fetch","mode","body","response","searchParams","URLSearchParams","set","getUrl","toString","fetchTextCommentCreate","text","format","trackUuid","textCommentTimestamp","json","responseJson","fetchTextCommentList","fetchVoiceRecordingList","fetchAuthToken","username","password","fetchInitializeStream","fetchVerifyToken","status","undefined","fetchStreamGet","fetchTrackGetFiles","fetchNextTrack","isPlanned","fetchPauseTrack","fetchPlayTrack","startedAt","fetchPrevTrack","nowPlayingTotalDurationMilliseconds","fetchScan","fetchGetUserSettings","fetchUpdateUserSettings","field","fetchQueueList","fetchDeleteQueue","queueUuid","WELCOME","TRACK_DETAIL","NOTATION_COMPOSE","UPLOAD_TRACK","USER_SETTINGS","DEFAULT_CONFIG","closable","bottomBar","VIEW_CONFIG","initialState","isOpen","view","open","state","payload","modal","config","close","loadedQueueUuids","Set","queueLoaded","streamEngine","add","MARKERS","INTERVALS","LISTEN","CREATE","DELETE","tab","tabs","motive","motives","form","marker","timestamp","name","interval","modification","lowerBoundMarkerUuid","upperBoundMarkerUuid","setTab","trackDetail","setMotive","setForm","reset","APPLE_MUSIC","SPOTIFY","YOUTUBE","AUDIUS","JUKEBOX_RADIO","service","query","cache","setService","userSettings","setItem","services","music","window","MusicKit","getInstance","musicUserToken","authorize","spotify","accessToken","location","href","authorizationUrl","search","setQuery","setCache","queryCache","getPositionMilliseconds","queue","seekTimeout","progress","getProgress","instruments","playbackIntervalIdx","cumulativeProgress","playbackInterval","playbackIntervals","playbackIntervalDuration","endPosition","startPosition","remainingProgress","vocals","push","drums","bass","piano","other","length","shift","getProgressMilliseconds","position","isPositionValid","statusAt","Date","now","cycleVolumeLevel","volumeLevel","feedUpdate","feedApp","stream","nowPlaying","queueMap","nowPlayingUuid","track","uuid","feed","filter","el","stickiedAt","hiddenAt","stickyDuration","addedFeed","textCommentUuids","trackMap","voiceRecordingUuids","textCommentMap","voiceRecordingMap","textComments","map","voiceRecordings","lastRender","lowerBound","timestampMilliseconds","allIntervals","forceDisplay","sort","b","class","displayedAt","feedTakeAction","action","feedAppSetContentContainer","contentContainer","feedAppSetTextComment","textComment","feedAppResetTextComment","markerCreate","markerMap","markerDelete","markers","playbackMount","playback","isPlaying","playbackSpotify","spotifyApi","playbackYouTube","youTubeApi","playbackYouTubeTriggerAutoplay","youTubeAutoplay","autoplay","playbackLoaded","loaded","playbackSetSeekTimeoutId","seekTimeoutId","timeoutId","playbackClearSeekTimeoutId","clearTimeout","playbackDisable","controlsEnabled","playbackEnable","playbackLoadFiles","files","onplay","onpause","onseeked","audioObj","Audio","audioUrl","audiosObj","all","stems","stem","instrument","playbackLoadAudius","id","playbackCycleVolumeLevelAudio","audioLevel","audio","playbackAction","main","staleAction","autoplayTimeoutId","finalizeQueues","queues","newState","finalizeQueue","copy","newQueueMap","children","collection","imageUrl","replace","anotherNewState","childUuids","obj","anotherNewMap","intervals","trackDurationMilliseconds","durationMilliseconds","purpose","lastBound","lowerBoundUuid","upperBound","upperBoundUuid","i","queueListSet","lastUpQueues","nextUpQueues","o","_lastPlayed","lastUpQueueUuids","nextUpQueueUuids","queueUpdate","queueDeleteNode","filteredQueueUuids","queueDeleteChildNode","parentQueue","parentUuid","mainEnable","enabled","mainDisable","mainAddAction","actions","mainActionStart","mainActionShift","mainSetAutoplayTimeoutId","mainClearAutoplayTimeoutId","getQueues","queueUuids","getLeafQueue","getQueueDuration","getDuration","reduce","total","curr","durationPretty","s","pad","n","z","slice","secs","mins","durationWords","hrs","retStr","streamSetWrapper","streamSet","lastUp","streamPlay","streamPause","streamPrevTrack","nextUpUuid","nextUp","nextUpCollection","unshift","nextNowPlayingUuid","pop","streamNextTrack","nextNowPlaying","textCommentListSet","hasOwnProperty","textCommentCreate","textCommentDelete","textCommentUuid","notesAppSet","notesApp","notesStore","store","JSON","stringify","textCommentModificationCreate","existingIdx","textCommentModifications","modifiedModification","modified","deletedModifications","deleted","modifications","findIndex","t","startPtr","idx","deletedModification","textCommentClearModifications","voiceRecordingListSet","voiceRecording","voiceRecordingCreate","voiceRecordingDelete","voiceRecordingUuid","voiceRecordingPause","currentlyPlayingUuids","pause","voiceRecordingTimeoutId","update","voiceRecordingPlay","console","log","x","has","paused","positionMilliseconds","currentTime","play","voiceRecordingSchedulePlay","userSettingsUpdate","userGetSettings","sideBarSelectTab","sideBar","voice","youTube","appleMusic","audius","jukeboxRadio","pending","youtube","parse","createStore","reducers","reducerCategory","reducerObject","reducerName","reducerFunc","type","__REDUX_DEVTOOLS_EXTENSION__","trace","iconLogo","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","cx","cy","r","iconLogoAlt","iconSpotify","version","style","iconYouTube","opacity","gradientUnits","x1","y1","x2","y2","gradientTransform","offset","stopColor","iconAppleMusic","iconFolder","maxWidth","maxHeight","stroke","strokeWidth","strokeLinecap","strokeLinejoin","iconBack","iconAudius","src","alt","iconAudius26","Login","props","useState","setUsername","setPassword","handleSubmit","e","access","refresh","removeItem","className","styles","LoginContainer","Logo","FormBlock","onChange","target","marginBottom","Submit","onClick","fetchUserConnectSpotify","code","error","SpotifySync","useEffect","queryString","urlParams","get","postData","fetchDeleteTextComment","fetchListDeleteTextCommentModifications","iconTrash","iconErase","iconPlay","connect","markedKeys","parseChord","chordParserFactory","renderChord","chordRendererFactory","chord","rootDisplacement","input","rootNote","normalized","semitones","st","join","bbRef","useRef","current","ratio","devicePixelRatio","canvas","context","getContext","rect","getBoundingClientRect","bbChordRenderer","BbFormat","clearRect","font","fillChordSymbol","ref","marginLeft","notation","engraverParams","staffwidth","abcNotationUuid","abcNotation","hovering","setHovering","deleteAbcNotation","dispatch","redux","ABCNotationDisplayContainer","onMouseEnter","onMouseLeave","HoverBuffer","ABCNotationDisplay","HoverContainer","ABCNotationDisplayDeleted","fetchCreateVoiceRecording","audioFile","transcriptData","transcriptFinal","voiceRecordingTimestamp","fetchDeleteVoiceRecording","handleDelete","VoiceRecordingContainer","VoiceRecording","VoiceRecordingDeleted","fake","api","next","settings","skip","TEXT","STYLE_BOLD","STYLE_ITALICIZE","STYLE_STRIKETHROUGH","STYLE_HIGHLIGHT","fetchCreateTextCommentModification","anchorOffset","focusOffset","selectableRef","selectableIsShowable","setSelectableIsShowable","setAnchorOffset","setFocusOffset","handleNotation","onTextSelect","selection","getSelection","anchorValue","parseInt","anchorNode","parentNode","getAttribute","focusValue","focusNode","onTextUnselect","NotableText","color","textCommentText","j","endPtr","textCommentHtml","char","stylesObj","renderTextComment","selectionRef","Popover","fontWeight","fontStyle","textDecoration","backgroundColor","nowPlayingTrackUuid","deleteTextComment","clearModifications","TextCommentContainer","TextComment","top","TextCommentDeleted","systemAction","SystemActionContainer","SystemAction","isRecording","setIsRecording","MicRecorder","bitRate","recorder","createTextComment","preventDefault","streamEngineActions","formats","useSpeechRecognition","transcript","resetTranscript","browserSupportsSpeechRecognition","containerRect","periodicTask","setInterval","clearInterval","FeedApp","ContentContainer","ImageContainer","artistName","FeedWrapper","Feed","index","ComposeBar","onSubmit","NotationButton","modalViews","disabled","RecordButton","start","SpeechRecognition","startListening","continuous","stopListening","stop","getMp3","then","buffer","blob","file","File","lastModified","arr","autoComplete","SubmitButton","iconEdit","iconRemove","iconRemoveDisabled","iconExpand","iconCollapse","iconCollapseDisabled","mainClass","infoClass","buttonClass","durationClass","AlbumArtContainer","ButtonContainer","destroy","isCurrentlyPlayingCollection","reveal","setReveal","QueueCollection","QueueCollectionMain","QueueInformation","DurationContainer","cursor","Children","queueDuration","destroyQueueItem","QueueApp","NowPlaying","NowPlayingArt","NowPlayingInformation","NowPlayingDuration","QueueContainer","PlaybackDuration","to","AddToQueue","MiniQueue","fetchSearchMusicLibrary","fetchCreateQueue","genericUuid","SearchResult","serviceSvg","searchResult","addToQueue","isSubmitting","setIsSubmitting","isSubmitted","setIsSubmitted","handleAddToQueue","imgUrl","img_url","provider","SearchResultSubmitted","ImageParent","ResultInformation","artist_name","ServiceLogo","ggSpinner","iconUpload","searchResults","setSearchResults","autoSearchTimeoutId","setAutoSearchTimeoutId","fetchSearch","generateServiceHandler","responseJsonQueueList","SearchApp","SearchBarContainer","spellCheck","placeholder","SearchBar","onKeyDown","event","setTimeout","Upload","SearchResultsContainer","ServiceCheckboxContainer","ServiceCheckbox","border","ServiceCheckboxLogoContainer","SearchResults","extraStyle","content","marginTop","MiniNotes","nextContent","fetchCreateTrack","imageFile","trackName","albumName","inputKey","setInputKey","isDisabled","setIsDisabled","setAudioFile","setImageFile","setTrackName","setArtistName","setAlbumName","prev","ModalClose","ModalContent","Title","FormLabel","FileInput","FormSubmit","fetchStreamMarkerCreate","fetchStreamMarkerDelete","markerUuid","fetchStreamQueueIntervalCreate","repeatCount","parentQueueUuid","stemVocals","stemDrums","stemBass","stemPiano","stemOther","fetchStreamQueueIntervalDelete","queueIntervalUuid","iconMiniCheckboxChecked","y","iconMiniCheckboxUnchecked","iconInstrumentMicrophone","rx","iconInstrumentDrums","iconInstrumentBass","iconInstrumentPiano","iconInstrumentOther","getMarkers","values","cleanMarkers","duration","alreadyForceDisplay","m","runningMark","pix","styleLeft","stoppable","notPlayable","playable","intervalModificationsOptions","stemChoices","display","formMarkerTimestamp","formMarkerName","progressBarUtils","createTrackMarker","markerTimestamp","Math","round","updateNewMarkerTimestamp","createQueueInterval","positionMillisecondsRaw","CloseModal","QueueName","TabButtonContainer","MotiveContainer","MotiveCheckboxContainer","Form","FormInput","FormSelect","StemCheckbox","setControlsEnabled","checked","idleQueue","speakVoice","focusMode","setText","closeModal","createABCNotation","NotationContainer","RenderingContainer","RenderingWrapper","WelcomeContainer","WelcomeHeader","PlaybackOptionContainer","PlaybackOption","PlaybackOptionLogo","PlaybackOptionService","PlaybackOptionDescription","modalClassName","ModalOverlay","playbackService","setQueue","song","externalId","startTime","musicVideo","uris","position_ms","getPlayerState","setVolume","seekTo","floor","playVideo","volume","seek","seekToTime","audios","aud","iconNextTrack","iconPrevTrack","iconMarker","iconSmallCircle","iconMarkerExtension","allowIntervalPlay","allowIntervalDelete","editable","cleanedPurpose","intervalWidth","progressClass","includes","charAt","toUpperCase","classHoverContainer","classHoverPointer","deleteTrackInterval","seekToInterval","ProgressHoverPurpose","ProgressHoverDelete","hoveringEnabled","deleteable","classPointer","classPointerExt","deleteTrackMarker","seekToMarker","ProgressBarMarker","left","setMarkerHover","markerHover","ProgressBarMarkerName","Delete","Play","pointerLeftDistance","draggableRef","progressRef","stickyPointerLeftDistance","setStickyPointerLeftDistance","dragOffset","setDragOffset","tempMarker","trim","substring","MAX_STRING_LENGTH","handleDragStop","ui","cursorRect","progressRect","playbackPercent","offsetWidth","nextPosition","setAnimationStatus","nextProgress","animationStatus","animationPeriodicTask","setAnimationPeriodicTask","setCounter","ProgressBar","axis","bounds","nodeRef","onStart","onDrag","onStop","ProgressPointer","ProgressMarkerContainer","iconPlayCircle","iconPauseCircle","iconGear","iconForward1000","iconForward100","iconBackward100","iconBackward1000","audioVolumeLevel","nowPlayingTrackService","playbackIsStream","handleNext","direction","handlePlayPause","BottomBar","ProgressBarContainer","playbackControls","Settings","bottomBarIcons","Volume","nextVolumeLevel","controls","circleRatio","buildStyles","rotation","pathColor","trailColor","pathTransitionDuration","IconContainer","Playback","handleTab","SideBar","MenuContainer","Menu","LiSelected","BlockContainer","Block","pathname","Session","Content","path","PrimaryContent","SecondaryContent","fetchUpdateFeed","responseJsonTextCommentList","responseJsonVoiceRecordingList","getState","reduxState","handlePrev","scheduleSpeakVoiceRecordings","nextVoiceRecordingDelay","timeoutMilliseconds","loadAudio","loadFeed","handleSkip","streamNowPlaying","mount","openModal","remainingMilliseconds","kickoffAutoplay","initializeAutoplay","timeoutDelay","lastIdx","resetStartedAt","queuesAlreadyLoading","queuesAlreadyLoadingFeed","appendScript","scriptPath","Promise","resolve","script","document","createElement","async","onload","appendChild","SpotifyWebApi","require","spotifySDKReady","setSpotifySDKReady","spotifySDKDeviceID","setSpotifySDKDeviceID","pauseVideo","skipToNextItem","skipToNext","shouldQueueAppleMusic","shouldQueueSpotify","onDeck","playNext","seekTimeoutDuration","appendSpotifySDK","appendAppleMusicSDK","onSpotifyWebPlaybackSDKReady","player","Spotify","Player","getOAuthToken","cb","spotifyAccessToken","setAccessToken","addListener","device_id","transferMyPlayback","updateSpotifyPlayer","appleMusicContainerStyle","appleMusicWidth","zIndex","right","boxShadow","addEventListener","configure","developerToken","app","build","youTubeContainerStyle","youTubeWidth","currentQueue","isYouTube","youTubeStart","youTubeVideoId","youTubeOpts","playerVars","disablekb","fs","iv_load_policy","modestbranding","origin","playsinline","YouTubeContainer","videoId","opts","onReady","onPause","onPlay","AppleMusicContainer","App","setStatus","textCommentsJsonResponse","voiceRecordingsJsonResponse","TimeAgo","addDefaultLocale","en","loadData","navigator","serviceWorker","register","scope","registration","textAlign","lineHeight","fontSize","letterSpacing","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a6d90599.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"CloseModal\":\"TrackDetail_CloseModal__bJV9e\",\"TabButtonContainer\":\"TrackDetail_TabButtonContainer__3JNlW\",\"TabButton\":\"TrackDetail_TabButton__2RqxS\",\"TabButtonActive\":\"TrackDetail_TabButtonActive__oIu1b\",\"MotiveContainer\":\"TrackDetail_MotiveContainer__2apv0\",\"MotiveCheckboxContainer\":\"TrackDetail_MotiveCheckboxContainer__QKeFB\",\"Form\":\"TrackDetail_Form__35UbB\",\"FormLabel\":\"TrackDetail_FormLabel__2hfc0\",\"FormInput\":\"TrackDetail_FormInput__3AD0g\",\"FormSelect\":\"TrackDetail_FormSelect__3UaZO\",\"FormSubmit\":\"TrackDetail_FormSubmit__2KJzp\",\"ModalContent\":\"TrackDetail_ModalContent__1dASr\",\"QueueName\":\"TrackDetail_QueueName__1D_ty\",\"ProgressBar\":\"TrackDetail_ProgressBar__2bLSS\",\"StemCheckbox\":\"TrackDetail_StemCheckbox__39upz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WelcomeContainer\":\"Welcome_WelcomeContainer__8nsrj\",\"Logo\":\"Welcome_Logo__12ocq\",\"WelcomeHeader\":\"Welcome_WelcomeHeader__bCUVK\",\"PlaybackOptionContainer\":\"Welcome_PlaybackOptionContainer__QoqCK\",\"PlaybackOption\":\"Welcome_PlaybackOption__1TTVu\",\"PlaybackOptionLogo\":\"Welcome_PlaybackOptionLogo__4tbRi\",\"PlaybackOptionService\":\"Welcome_PlaybackOptionService__3w4JH\",\"PlaybackOptionDescription\":\"Welcome_PlaybackOptionDescription__3n8RT\",\"ModalOverlay\":\"Welcome_ModalOverlay__3nd-Z\",\"Modal\":\"Welcome_Modal__1JXHn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchApp\":\"SearchApp_SearchApp__Mfcqz\",\"SearchBarContainer\":\"SearchApp_SearchBarContainer__2dvew\",\"SearchBar\":\"SearchApp_SearchBar__CS1zo\",\"Upload\":\"SearchApp_Upload__3mgyx\",\"SearchResultsContainer\":\"SearchApp_SearchResultsContainer__3SEWt\",\"ServiceCheckboxContainer\":\"SearchApp_ServiceCheckboxContainer__2AWhG\",\"ServiceCheckbox\":\"SearchApp_ServiceCheckbox__5og-e\",\"ServiceCheckboxLogoContainer\":\"SearchApp_ServiceCheckboxLogoContainer__3Fbpr\",\"SearchResults\":\"SearchApp_SearchResults__p1J6y\"};","const BACKEND_DOMAIN = process.env.REACT_APP_BACKEND_DOMAIN;\nconst TYPE_GET = 'GET';\nconst TYPE_POST = 'POST';\n\nexport { BACKEND_DOMAIN, TYPE_GET, TYPE_POST }\n","import { BACKEND_DOMAIN } from '../config/global'\n\n\nasync function fetchBackend(method = '', url = '', data = {}) {\n  let response;\n\n  url = BACKEND_DOMAIN + url;\n\n  if(method !== 'GET') {\n\n    // aggregate form data in one place\n    const formData = new FormData();\n    for (const [key, value] of Object.entries(data)) {\n      formData.append(key, value);\n    }\n    // for (const [key, value] of Object.entries(files)) {\n    //   formData.append(key, value);\n    // }\n\n    // authenticate request if possible\n    let requestOptions = {headers: {}}\n    const token = localStorage.getItem('accessToken');\n    if(token) {\n      requestOptions.headers.Authorization = `Bearer ${token}`;\n    }\n    const request = new Request(url, requestOptions);\n\n    // make the request\n    response = await fetch(request, {\n      method: method,\n      mode: 'cors',\n      body: formData,\n    });\n  } else {\n\n    // translate form data for GET\n    let searchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(data)) {\n      searchParams.set(key, value);\n    }\n    const getUrl = url + '/?' + searchParams.toString();\n\n    // authenticate request if possible\n    let requestOptions = {headers: {'Content-Type': 'application/json'}}\n    const token = localStorage.getItem('accessToken');\n    if(token) {\n      requestOptions.headers.Authorization = `Bearer ${token}`;\n    }\n    const request = new Request(getUrl, requestOptions);\n\n    // make the request\n    response = await fetch(request, {\n      method: method,\n      mode: 'cors',\n    });\n  }\n\n  return response;\n}\n\nexport { fetchBackend }\n","import {\n  ENDPOINT_TEXT_COMMENT_CREATE,\n  ENDPOINT_TEXT_COMMENT_LIST,\n  ENDPOINT_VOICE_RECORDING_LIST,\n} from '../../config/api';\nimport { TYPE_GET, TYPE_POST } from '../../config/global';\nimport { fetchBackend } from '../../utils/network';\n\n\n/*\n * Creates a \"text comment.\" Usually of format \"text\" or \"abc_notation.\"\n */\nexport const fetchTextCommentCreate = async (text, format, trackUuid, textCommentTimestamp) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_TEXT_COMMENT_CREATE,\n    { text, format, trackUuid, textCommentTimestamp },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Gets a list of all \"text comments.\" Usually of format \"text\" or\n * \"abc_notation.\"\n */\nexport const fetchTextCommentList = async (trackUuid) => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_TEXT_COMMENT_LIST,\n    { trackUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Gets a list of all voice recordings.\n */\nexport const fetchVoiceRecordingList = async (trackUuid) => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_VOICE_RECORDING_LIST,\n    { trackUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","// NOTE: If the API endpoint is a GET, then there is no ending slash.\n//       Else, the endpoint is probably a POST and there should be a slash.\n\n\n// AUTHENTICATION\nexport const ENDPOINT_OBTAIN_TOKENS = '/auth/obtain-tokens/'\nexport const ENDPOINT_REFRESH_TOKEN = '/auth/refresh-token/'\nexport const ENDPOINT_VERIFY_TOKEN = '/auth/verify-token/'\n\n// USER\nexport const ENDPOINT_USER_GET_SETTINGS = '/users/user/get-settings'\nexport const ENDPOINT_USER_UPDATE_SETTINGS = '/users/user/update-settings/'\nexport const ENDPOINT_USER_CONNECT_SPOTIFY = '/users/user/connect-spotify/'\n\n// TEXT COMMENT\nexport const ENDPOINT_TEXT_COMMENT_CREATE = '/comments/text-comment/create/'\nexport const ENDPOINT_TEXT_COMMENT_DELETE = '/comments/text-comment/delete/'\nexport const ENDPOINT_TEXT_COMMENT_LIST = '/comments/text-comment/list'\n\n// TEXT COMMENT MODIFICATION\nexport const ENDPOINT_TEXT_COMMENT_MODIFICATION_CREATE = '/comments/text-comment-modification/create/'\nexport const ENDPOINT_TEXT_COMMENT_MODIFICATION_LIST_DELETE = '/comments/text-comment-modification/list-delete/'\n\n// VOICE RECORDING\nexport const ENDPOINT_VOICE_RECORDING_CREATE = '/comments/voice-recording/create/'\nexport const ENDPOINT_VOICE_RECORDING_DELETE = '/comments/voice-recording/delete/'\nexport const ENDPOINT_VOICE_RECORDING_LIST = '/comments/voice-recording/list'\n\n// TRACK\nexport const ENDPOINT_TRACK_CREATE = '/music/track/create/'\nexport const ENDPOINT_TRACK_GET_FILES = '/music/track/get-files'\n\n// MUSIC\nexport const ENDPOINT_MUSIC_SEARCH = '/music/search'\n\n// QUEUE\nexport const ENDPOINT_QUEUE_CREATE = '/streams/queue/create/'\nexport const ENDPOINT_QUEUE_DELETE = '/streams/queue/delete/'\nexport const ENDPOINT_QUEUE_LIST = '/streams/queue/list'\n\n// STREAM\nexport const ENDPOINT_STREAM_GET = '/streams/stream/get'\nexport const ENDPOINT_STREAM_INITIALIZE = '/streams/stream/initialize/'\nexport const ENDPOINT_STREAM_NEXT_TRACK = '/streams/stream/next-track/'\nexport const ENDPOINT_STREAM_PAUSE_TRACK = '/streams/stream/pause-track/'\nexport const ENDPOINT_STREAM_PLAY_TRACK = '/streams/stream/play-track/'\nexport const ENDPOINT_STREAM_PREV_TRACK = '/streams/stream/prev-track/'\nexport const ENDPOINT_STREAM_SCAN = '/streams/stream/scan/'\n\n// MARKER\nexport const ENDPOINT_MARKER_CREATE = '/streams/marker/create/'\nexport const ENDPOINT_MARKER_DELETE = '/streams/marker/delete/'\n\n// QUEUE INTERVAL\nexport const ENDPOINT_QUEUE_INTERVAL_CREATE = '/streams/queue-interval/create/'\nexport const ENDPOINT_QUEUE_INTERVAL_DELETE = '/streams/queue-interval/delete/'\nexport const ENDPOINT_QUEUE_INTERVAL_STOP = '/streams/queue-interval/stop/'\n","import {\n  ENDPOINT_OBTAIN_TOKENS,\n  ENDPOINT_STREAM_INITIALIZE,\n  ENDPOINT_VERIFY_TOKEN,\n} from '../../config/api';\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchAuthToken = async (username, password) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_OBTAIN_TOKENS,\n    { username, password },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * This does some required work before \"officially logging in.\" The stream must\n * be \"initialized.\" This is some dirty backend work that needs to be\n * refactored.\n */\nexport const fetchInitializeStream = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_STREAM_INITIALIZE,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Verifies an auth token.\n */\nexport const fetchVerifyToken = async () => {\n  const token = localStorage.getItem('accessToken');\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_VERIFY_TOKEN,\n    { token },\n  );\n  if(response.status !== 200) {\n    // throw new Error(\"Not logged in!\");\n    return undefined;\n  }\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import {\n  ENDPOINT_STREAM_GET,\n  ENDPOINT_TRACK_GET_FILES,\n  ENDPOINT_STREAM_NEXT_TRACK,\n  ENDPOINT_STREAM_PAUSE_TRACK,\n  ENDPOINT_STREAM_PLAY_TRACK,\n  ENDPOINT_STREAM_PREV_TRACK,\n  ENDPOINT_STREAM_SCAN,\n} from '../../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../../config/global'\nimport { fetchBackend } from '../../../utils/network'\n\n\n/*\n * Fetches...\n */\nconst fetchStreamGet = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_STREAM_GET,\n  );\n  return await response.json();\n};\n\n\nconst fetchTrackGetFiles = async(trackUuid) => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_TRACK_GET_FILES,\n    { trackUuid },\n  );\n  return await response.json();\n}\n\n\n/*\n * Fetches...\n */\nconst fetchNextTrack = async (isPlanned) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_STREAM_NEXT_TRACK,\n    { isPlanned }\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchPauseTrack = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_STREAM_PAUSE_TRACK,\n    {},\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchPlayTrack = async (startedAt) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_STREAM_PLAY_TRACK,\n    { startedAt },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchPrevTrack = async (nowPlayingTotalDurationMilliseconds) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_STREAM_PREV_TRACK,\n    { nowPlayingTotalDurationMilliseconds },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchScan = async (startedAt) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_STREAM_SCAN,\n    { startedAt },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\nexport {\n  fetchStreamGet,\n  fetchNextTrack,\n  fetchPauseTrack,\n  fetchPlayTrack,\n  fetchPrevTrack,\n  fetchScan,\n  fetchTrackGetFiles,\n}\n","import {\n  ENDPOINT_USER_GET_SETTINGS,\n  ENDPOINT_USER_UPDATE_SETTINGS,\n} from '../../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../../config/global'\nimport { fetchBackend } from '../../../utils/network'\n\n/*\n * Fetches an user settings from the server.\n */\nexport const fetchGetUserSettings = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_USER_GET_SETTINGS,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Set user settings on the server.\n */\nexport const fetchUpdateUserSettings = async (field, value) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_USER_UPDATE_SETTINGS,\n    { field, value },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import { ENDPOINT_QUEUE_LIST, ENDPOINT_QUEUE_DELETE } from '../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches...\n */\nexport const fetchQueueList = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_QUEUE_LIST,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nexport const fetchDeleteQueue = async (queueUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_QUEUE_DELETE,\n    { queueUuid: queueUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","export const DEFAULT = null;\nexport const WELCOME = 'welcome';\nexport const TRACK_DETAIL = 'track_detail';\nexport const NOTATION_COMPOSE = 'notation_compose';\nexport const UPLOAD_TRACK = 'upload_track';\nexport const USER_SETTINGS = 'user_settings';\n","import * as modalViews from '../../config/views/modal';\n\n\nconst DEFAULT_CONFIG = { closable: true, bottomBar: true },\n      VIEW_CONFIG = {};\nVIEW_CONFIG[modalViews.WELCOME] = { closable: false, bottomBar: false };\n\n/*\n * Returns the intial state value for the modal component.\n */\nexport const initialState = function() {\n  return {\n    isOpen: false,\n    view: modalViews.DEFAULT,\n  };\n}\n\n/*\n * Opens the modal, displaying a specific view.\n */\nexport const open = function(state, payload) {\n  const view = payload.view,\n        data = payload.data,\n        modal = {\n          ...state.modal,\n          view,\n          data,\n          isOpen: true,\n          config: VIEW_CONFIG[view] || DEFAULT_CONFIG,\n        };\n  return { ...state, modal };\n}\n\n/*\n * Closes the modal.\n */\nexport const close = function(state, payload) {\n  const modal = initialState();\n  return { ...state, modal };\n}\n","\n/*\n * Returns the intial state value for the streamEngine component.\n */\nexport const initialState = function() {\n  return {\n    loadedQueueUuids: new Set(),\n  };\n}\n\n\n/*\n * Adds a queueUuid to the set of loaded queueUuids.\n */\nexport const queueLoaded = function(state, payload) {\n  const queueUuid = payload.queueUuid,\n        streamEngine = { ...state.streamEngine };\n  streamEngine.loadedQueueUuids.add(queueUuid);\n  return { ...state, streamEngine };\n}\n","export const MARKERS = 'markers';\nexport const INTERVALS = 'intervals';\n","export const LISTEN = 'listen';\nexport const CREATE = 'create';\nexport const DELETE = 'delete';\n","import * as tabs from '../../config/tabs';\nimport * as motives from '../../config/motives';\n\n\n/*\n * Returns the intial state value for the trackDetail component.\n */\nexport const initialState = function() {\n  return {\n    tab: tabs.MARKERS,\n    motive: motives.LISTEN,\n    form: {\n      marker: {\n        timestamp: '',\n        name: '',\n      },\n      interval: {\n        modification: 'muted',\n        lowerBoundMarkerUuid: 'null',\n        upperBoundMarkerUuid: 'null',\n      },\n    }\n  };\n}\n\n/*\n * Sets active tab.\n */\nexport const setTab = function(state, payload) {\n  const { tab } = payload,\n        trackDetail = { ...state.trackDetail };\n  trackDetail.tab = tab;\n  return { ...state, trackDetail };\n}\n\n/*\n * Sets active motive.\n */\nexport const setMotive = function(state, payload) {\n  const { motive } = payload,\n        trackDetail = { ...state.trackDetail };\n  trackDetail.motive = motive;\n  return { ...state, trackDetail };\n}\n\n/*\n * Set form data for the marker and interval forms.\n */\nexport const setForm = function(state, payload) {\n  const { marker, interval } = payload,\n        trackDetail = { ...state.trackDetail };\n  trackDetail.form = {\n    marker: { ...trackDetail.form.marker, ...marker },\n    interval: { ...trackDetail.form.interval, ...interval },\n  }\n  return { ...state, trackDetail };\n}\n\n/*\n * Reset track detail data.\n */\nexport const reset = function(state, payload) {\n  const trackDetail = initialState();\n  return { ...state, trackDetail };\n}\n","export const APPLE_MUSIC = 'apple_music';\nexport const SPOTIFY = 'spotify';\nexport const YOUTUBE = 'youtube';\nexport const AUDIUS = 'audius';\nexport const JUKEBOX_RADIO = 'jukebox_radio';\n","import * as services from '../../config/services';\n\n/*\n * Returns the intial state value for the modal component.\n */\nexport const initialState = function() {\n  return {\n    service: (localStorage.getItem('searchService') || null),\n    query: '',\n    cache: {},\n  };\n}\n\n/*\n * Set service used for search.\n */\nexport const setService = function(state, payload) {\n  const { service } = payload,\n        { userSettings } = state;\n\n  localStorage.setItem('searchService', service);\n\n  if(service === services.APPLE_MUSIC) {\n    const music = window.MusicKit.getInstance();\n    if(!music.musicUserToken) {\n      music.authorize();\n      return state;\n    }\n  } else if(service === services.SPOTIFY) {\n    if(userSettings && !userSettings.spotify.accessToken) {\n      window.location.href = userSettings.spotify.authorizationUrl;\n      return state;\n    }\n  }\n\n  return {\n    ...state,\n    search: { ...state.search, service },\n  }\n}\n\n/*\n * Set search query.\n */\nexport const setQuery = function(state, payload) {\n  const { query } = payload;\n\n  return {\n    ...state,\n    search: { ...state.search, query },\n  };\n}\n\n/*\n * Set search query.\n */\nexport const setCache = function(state, payload) {\n  const { query, service, responseJson } = payload,\n        cache = { ...state.search.cache },\n        queryCache = { ...cache[query] } || {};\n\n  queryCache[service] = responseJson;\n  cache[query] = queryCache;\n\n  return {\n    ...state,\n    search: { ...state.search, cache },\n  };\n}\n","/*\n * This gets the position that the track should be at.\n *\n * @return [\n *   progress: Time in milliseconds,\n *   seekTimeout: Time in milliseconds until the next seek should happen,\n * ]\n */\nexport const getPositionMilliseconds = function(queue, startedAt) {\n  if(!queue) {\n    return [undefined, undefined];\n  }\n\n  let progress = getProgress(queue);\n\n  let instruments = ['all'],\n      seekTimeout,\n      playbackIntervalIdx = 0,\n      cumulativeProgress = 0;\n  while(true) {\n    const playbackInterval = queue.playbackIntervals[playbackIntervalIdx],\n          playbackIntervalDuration = playbackInterval.endPosition - playbackInterval.startPosition,\n          remainingProgress = progress - cumulativeProgress;\n    if(remainingProgress < playbackIntervalDuration) {\n      progress = playbackInterval.startPosition + remainingProgress;\n      if(playbackInterval.vocals) instruments.push('vocals');\n      if(playbackInterval.drums) instruments.push('drums');\n      if(playbackInterval.bass) instruments.push('bass');\n      if(playbackInterval.piano) instruments.push('piano');\n      if(playbackInterval.other) instruments.push('other');\n      if(instruments.length > 1) instruments.shift();\n      seekTimeout = playbackInterval.endPosition - progress;\n      break;\n    }\n    playbackIntervalIdx += 1;\n    cumulativeProgress += playbackIntervalDuration;\n  }\n\n  if(playbackIntervalIdx === queue.playbackIntervals.length - 1) {\n    seekTimeout = undefined;\n  }\n\n  return [progress, seekTimeout, instruments];\n}\n\n\nexport const getProgressMilliseconds = function(queue, position) {\n  if(!queue) {\n    return undefined;\n  }\n\n  let progress = 0,\n      playbackIntervalIdx = 0,\n      cumulativeProgress = 0;\n  while(true) {\n    const playbackInterval = queue.playbackIntervals[playbackIntervalIdx],\n          playbackIntervalDuration = playbackInterval.endPosition - playbackInterval.startPosition;\n    if(position >= playbackInterval.startPosition && position < playbackInterval.endPosition) {\n      progress = position - playbackInterval.startPosition + cumulativeProgress;\n      break;\n    }\n    playbackIntervalIdx += 1;\n    cumulativeProgress += playbackIntervalDuration;\n  }\n  return progress;\n}\n\n\n/*\n *\n */\nexport const isPositionValid = function(queue, position) {\n  if(!queue) {\n    return false;\n  }\n\n  let playbackIntervalIdx = 0;\n  while(playbackIntervalIdx < queue.playbackIntervals.length) {\n    const playbackInterval = queue.playbackIntervals[playbackIntervalIdx];\n    if(position > playbackInterval.endPosition - 5000 && position < playbackInterval.endPosition) {\n      return false;\n    } else if(position > playbackInterval.startPosition && position < playbackInterval.endPosition) {\n      return true;\n    }\n    playbackIntervalIdx += 1;\n  }\n  return false;\n}\n\n\n/*\n * Get the progress of a stream.\n */\nexport const getProgress = function(queue) {\n  if(queue.status === \"paused\") {\n    return queue.statusAt - queue.startedAt;\n  } else if(queue.status === 'played') {\n    return Date.now() - queue.startedAt;\n  } else {\n    return 0;\n  }\n};\n\n\n/*\n *\n */\nexport const updateSpotifyPlayer = function(playback, device_id) {\n  setTimeout(function() {\n    playback.spotifyApi.transferMyPlayback([device_id]);\n  }, 1000);\n}\n\n\nexport const cycleVolumeLevel = function(volumeLevel) {\n  const MUTED = 0.00,\n        LOW = 0.30,\n        HIGH = 0.60,\n        FULL = 1.00;\n  if(volumeLevel > HIGH) {\n    return HIGH;\n  } else if(volumeLevel > LOW) {\n    return LOW;\n  } else if(volumeLevel > MUTED) {\n    return MUTED;\n  } else {\n    return FULL;\n  }\n}\n\n\nexport const featureIsEnabled = function(stateLike) {\n  return !stateLike.main.actions.length;\n  // const { queueMap, playback, action, main } = stateLike,\n  //       queue = queueMap[playback.nowPlayingUuid];\n  //\n  // if(!queue) {\n  //   return false;\n  // }\n  //\n  // const service = queue.track?.service;\n  // if(!service) {\n  //   return false;\n  // }\n  //\n  // const isLoaded = playback.loaded[service];\n  // if(!isLoaded) {\n  //   return false;\n  // }\n  //\n  // const pendingAction = playback.action;\n  // if(pendingAction) {\n  //   return false;\n  // }\n  //\n  // return true;\n}\n","import { getPositionMilliseconds } from '../../components/PlaybackApp/utils';\n\n/*\n * Regenerates the feed. When regenerating the feed, it takes the previous\n * feed, then adds new items and removes stale items. This is exported because\n * other reducers need to re-generate the feed.\n */\nexport const feedUpdate = function(state, payload) {\n\n  const feedApp = { ...state.feedApp };\n\n  const stream = state.stream,\n        queueMap = state.queueMap,\n        nowPlaying = queueMap[stream.nowPlayingUuid];\n\n  if(!nowPlaying?.track?.uuid || nowPlaying.status === 'paused') {\n    return { ...state, feedApp };\n  }\n\n  // eslint-disable-next-line\n  const arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt),\n        position = arr[0];\n  const now = Date.now();\n  let feed = [...state.feedApp.feed];\n\n  // Remove stale items from the feed.\n  feed = feed.filter(el => {\n    if(el.stickiedAt) {\n      return true;\n    }\n    return now < el.hiddenAt + el.stickyDuration;\n  });\n\n  // Get relevant feed items\n  const textCommentUuids = [...(state.feedApp.trackMap[nowPlaying.track.uuid]?.textCommentUuids || [])],\n        voiceRecordingUuids = [...(state.feedApp.trackMap[nowPlaying.track.uuid]?.voiceRecordingUuids || [])];\n\n  const textCommentMap = { ...state.textCommentMap },\n        voiceRecordingMap = { ...state.voiceRecordingMap };\n\n  const textComments = textCommentUuids.map(uuid => textCommentMap[uuid]),\n        voiceRecordings = voiceRecordingUuids.map(uuid => voiceRecordingMap[uuid]);\n\n  // Determine the last time the feed was generated\n  const lastRender = feedApp.lastRender,\n        lowerBound = (\n          (\n            lastRender?.trackUuid &&\n            lastRender.trackUuid === nowPlaying.track.uuid &&\n            lastRender.timestampMilliseconds  // TODO is int\n          ) ?\n          lastRender.timestampMilliseconds : nowPlaying.allIntervals[0].startPosition\n        );\n\n  // Get items that should be added to the feed\n  let addedFeed;\n  addedFeed = [...textComments, ...voiceRecordings];\n  addedFeed = addedFeed.filter(el => {\n    return (\n      (\n        el.timestampMilliseconds > lowerBound &&\n        el.timestampMilliseconds <= position\n      ) ||\n      el.forceDisplay\n    );\n  });\n\n  // Sort them by timestamp\n  addedFeed = addedFeed.sort((a, b) => {\n    return a.timestampMilliseconds - b.timestampMilliseconds;\n  });\n\n  // Set statistics for current generation/ rendering\n  feedApp.lastRender = {\n    trackUuid: nowPlaying.track.uuid,\n    timestampMilliseconds: position,\n  };\n\n  // Modify and slim down the feed data\n  addedFeed = addedFeed.map(el => {\n    if(el.forceDisplay) {\n      if(el.class === 'TextComment') {\n        delete el.forceDisplay;\n        textCommentMap[el.uuid] = { ...el };\n      } else if(el.class === 'VoiceRecording') {\n        delete el.forceDisplay;\n        voiceRecordingMap[el.uuid] = { ...el };\n      }\n    }\n    return {\n      uuid: el.uuid,\n      class: el.class,\n      format: el.format,\n      displayedAt: now,\n      hiddenAt: now + 60000,\n      stickiedAt: null,\n      stickyDuration: 0,\n    }\n  });\n\n  // NOTE: The feed must be sorted once more by the displayedAt property - this\n  //       is important!\n  feed = [...feed, ...addedFeed];\n  feed = feed.sort((a, b) => {\n    return a.displayedAt - b.displayedAt;\n  });\n\n  feedApp.feed = feed;\n\n  return { ...state, feedApp, textCommentMap, voiceRecordingMap };\n}\n\n\n/*\n * Generates the feed.\n */\nexport const feedTakeAction = function(state, payload) {\n  const feedApp = { ...state.feedApp },\n        action = payload.action,\n        now = Date.now();\n  let feed = [...state.feedApp.feed];\n\n  feed.push({\n    class: \"SystemAction\",\n    timestampMilliseconds: payload.timestampMilliseconds,\n    trackUuid: payload.trackUuid,\n    action: payload.action,\n    displayedAt: now,\n    hiddenAt: now + 60000,\n    stickiedAt: null,\n    stickyDuration: 0,\n  });\n\n  if(action === \"paused\") {\n    feed = feed.map(el => {\n      return {\n        ...el,\n        stickiedAt: now,\n      };\n    });\n  } else if(action === 'played') {\n    feed = feed.map(el => {\n      const stickyDuration = (\n        el.stickiedAt ?\n        el.stickyDuration + (now - el.stickiedAt) : 0\n      );\n      return { ...el, stickyDuration, stickiedAt: null };\n    });\n  }\n\n  feedApp.feed = feed;\n  feedApp.lastRender = {\n    trackUuid: payload.trackUuid,\n    timestampMilliseconds: payload.timestampMilliseconds,\n  };\n  return { ...state, feedApp };\n}\n\n\n\nexport const feedAppSetContentContainer = function(state, payload) {\n  const contentContainer = payload.contentContainer,\n        feedApp = { ...state.feedApp, contentContainer };\n  return { ...state, feedApp };\n}\n\nexport const feedAppSetTextComment = function(state, payload) {\n  const { textComment } = payload;\n  return { ...state, feedApp: { ...state.feedApp, textComment } };\n}\n\nexport const feedAppResetTextComment = function(state, payload) {\n  const textComment = { text: '', trackUuid: undefined, position: undefined };\n  return { ...state, feedApp: { ...state.feedApp, textComment } };\n}\n","/*\n * Create a marker relevant to a queue item (track).\n */\nexport const markerCreate = function(state, action) {\n  const markerMap = { ...state.markerMap },\n        marker = action.marker;\n\n  if(markerMap[marker.trackUuid] === undefined || markerMap[marker.trackUuid].length === 0) {\n    markerMap[marker.trackUuid] = {};\n  }\n\n  markerMap[marker.trackUuid][marker.uuid] = marker;\n\n  return {\n    ...state,\n    markerMap: markerMap,\n  };\n}\n\n\n/*\n * Delete a marker relevant to a queue item (track).\n */\nexport const markerDelete = function(state, payload) {\n  const markerMap = { ...state.markerMap },\n        marker = payload.marker,\n        markers = { ...markerMap[marker.trackUuid] };\n\n  delete markers[marker.uuid];\n  markerMap[marker.trackUuid] = markers;\n\n  return { ...state, markerMap };\n}\n","import { cycleVolumeLevel } from '../../components/PlaybackApp/utils';\n\n\nexport const playbackMount = function(state, payload) {\n  let nowPlayingUuid = undefined;\n  if(payload.queue) {\n    nowPlayingUuid = payload.queue.uuid;\n  } else if(payload.queueUuid) {\n    nowPlayingUuid = payload.queueUuid;\n  } else {\n    nowPlayingUuid = state.stream.nowPlayingUuid;\n  }\n\n  // const queueMap = { ...state.queueMap },\n  //       queue = queueMap[nowPlayingUuid],\n  //       now = Date.now();\n\n  // if(queue) {\n  //   queue.status = \"paused\";\n  //   queue.statusAt = now;\n  //   queue.startedAt = now;\n  //   queueMap[queue.uuid] = queue;\n  // }\n\n  return {\n    ...state,\n    playback: {\n      ...state.playback,\n      nowPlayingUuid,\n      isPlaying: false,\n    },\n    // queueMap: queueMap,\n  }\n}\n\nexport const playbackSpotify = function(state, payload) {\n  return {\n    ...state,\n    playback: {\n      ...state.playback,\n      spotifyApi: payload.spotifyApi,\n    }\n  }\n}\n\nexport const playbackYouTube = function(state, payload) {\n  return {\n    ...state,\n    playback: {\n      ...state.playback,\n      youTubeApi: payload.youTubeApi,\n      // TODO refactor ready flags\n    }\n  }\n}\n\nexport const playbackYouTubeTriggerAutoplay = function(state, payload) {\n  return {\n    ...state,\n    playback: {\n      ...state.playback,\n      youTubeAutoplay: payload.autoplay ? 1 : 0,\n    }\n  }\n}\n\nexport const playbackLoaded = function(state, payload) {\n  const service = payload.service,\n        playback = { ...state.playback },\n        loaded = { ...state.playback.loaded };\n  loaded[service] = true;\n  playback.loaded = loaded;\n\n  return { ...state, playback };\n}\n\n/*\n * Assumptions:\n *   - There is currently something playing in the stream.\n *   - We are not certain that something is up next.\n */\n// export const playbackAddToQueue = function(state) {\n//   const nextUp = getLeafQueue(state.nextUpQueueUuids[0], state.queueMap);\n//   if(!nextUp) {\n//     return { ...state };\n//   }\n//\n//   const playback = { ...state.playback },\n//         queueMap = state.queueMap,\n//         nowPlaying = queueMap[state.stream.nowPlayingUuid],\n//         appleMusicShouldAddToQueue = (\n//           nowPlaying.track.service === SERVICE_APPLE_MUSIC &&\n//           nextUp.track.service === SERVICE_APPLE_MUSIC &&\n//           nextUp.playbackIntervals[0].startPosition === 0\n//         ),\n//         spotifyShouldAddToQueue = (\n//           nowPlaying.track.service === SERVICE_SPOTIFY &&\n//           nextUp.track.service === SERVICE_SPOTIFY &&\n//           nextUp.playbackIntervals[0].startPosition === 0\n//         );\n//\n//   if(appleMusicShouldAddToQueue) {\n//     playback.queuedUp = true;\n//\n//     const playbackIntervals = nowPlaying.playbackIntervals,\n//           lastInterval = (\n//             playbackIntervals[playbackIntervals.length - 1]\n//           );\n//     if(lastInterval.endPosition === nowPlaying.track.durationMilliseconds) {\n//       playback.noopNextTrack = true;\n//     }\n//   }\n//\n//   if(spotifyShouldAddToQueue) {\n//     playback.queuedUp = true;\n//\n//     const playbackIntervals = nowPlaying.playbackIntervals,\n//           lastInterval = (\n//             playbackIntervals[playbackIntervals.length - 1]\n//           );\n//     if(lastInterval.endPosition === nowPlaying.track.durationMilliseconds) {\n//       playback.noopNextTrack = true;\n//     }\n//   }\n//\n//   return {\n//     ...state,\n//     playback: playback,\n//   }\n// }\n\nexport const playbackSetSeekTimeoutId = function(state, payload) {\n  const playback = { ...state.playback, seekTimeoutId: payload.timeoutId };\n  return { ...state, playback };\n}\n\nexport const playbackClearSeekTimeoutId = function(state, payload) {\n  clearTimeout(state.playback.seekTimeoutId);\n  const playback = { ...state.playback, seekTimeoutId: false };\n  return { ...state, playback };\n}\n\n\nexport const playbackDisable = function(state) {\n  return {\n    ...state,\n    playback: {\n      ...state.playback,\n      controlsEnabled: false,\n    }\n  }\n}\n\n\nexport const playbackEnable = function(state) {\n  return {\n    ...state,\n    playback: {\n      ...state.playback,\n      controlsEnabled: true,\n    }\n  }\n}\n\n\nexport const playbackLoadFiles = function(state, payload) {\n  const playback = { ...state.playback },\n        files = { ...state.playback.files };\n\n  const { onplay, onpause, onseeked } = payload;\n\n  let audioObj = new Audio(payload.track.audioUrl);\n  audioObj.onpause = onpause;\n  audioObj.onplay = onplay;\n  audioObj.onseeked = onseeked;\n\n  const audiosObj = { all: audioObj };\n\n  for(const stem of payload.track.stems) {\n    audioObj = new Audio(stem.audioUrl);\n    audioObj.onpause = onpause;\n    audioObj.onplay = onplay;\n    audioObj.onseeked = onseeked;\n\n    audiosObj[stem.instrument] = audioObj;\n  }\n\n  files[payload.track.uuid] = audiosObj;\n  return {\n    ...state,\n    playback: {\n      ...playback,\n      files: files,\n    }\n  };\n}\n\n\nexport const playbackLoadAudius = function(state, payload) {\n  const playback = { ...state.playback },\n        files = { ...state.playback.files };\n\n  const { onplay, onpause, onseeked } = payload;\n\n  const audioObj = new Audio(`https://discoveryprovider.audius5.prod-us-west-2.staked.cloud/v1/tracks/${payload.id}/stream?app_name=Jukebox Radio`);\n  audioObj.onpause = onpause;\n  audioObj.onplay = onplay;\n  audioObj.onseeked = onseeked;\n\n  files[payload.trackUuid] = audioObj;\n\n  return {\n    ...state,\n    playback: {\n      ...playback,\n      files: files,\n    }\n  };\n}\n\n\nexport const playbackCycleVolumeLevelAudio = function(state) {\n  const volumeLevel = { ...state.playback.volumeLevel },\n        audioLevel = volumeLevel.audio;\n\n  volumeLevel.audio = cycleVolumeLevel(audioLevel);\n\n  return {\n    ...state,\n    playback: { ...state.playback, volumeLevel },\n  }\n}\n\n/*\n * Setting the \"action\" of playback aquires a lock - only one action can happen\n * at a time.\n *\n * You might be wondering how the lock is lifted. The lock is lifted when\n * \"action === null.\" This case happens inside service event handlers (e.g. the\n * Spotify SDK) that signal that the action has successfully taken place.\n */\nexport const playbackAction = function(state, payload) {\n  const action = payload.action,\n        playback = { ...state.playback, action },\n        queueMap = { ...state.queueMap },\n        main = { ...state.main };\n\n  if(!action) {\n    const staleAction = state.playback.action;\n    if(staleAction === 'played') {\n      playback.isPlaying = true;\n    } else if(staleAction === 'paused') {\n      playback.isPlaying = false;\n      // NOTE: This must happen here.\n      clearTimeout(state.main.autoplayTimeoutId);\n      main.autoplayTimeoutId = false;\n    }\n  }\n\n  return { ...state, playback, queueMap };\n}\n","import * as services from './../../config/services';\n\n\nexport const finalizeQueues = function(state, queues) {\n  let newState = { ...state };\n  for(const queue of queues) {\n    newState = finalizeQueue(newState, queue);\n  }\n  return newState;\n}\n\n/*\n * A queue object is returned from the server with an assortment of\n * intervals. These intervals must be interpreted on the front-end\n * to put together the full picture - how long is the queue item\n * expected to play for?\n */\nexport const finalizeQueue = function(state, queue) {\n  const copy = { ...queue },\n        newState = { ...state },\n        newQueueMap = { ...state.queueMap};\n\n  // Recursive case: parent node (queue item of format collection)\n  if(copy.children?.length) {\n    if(copy.collection?.service === services.APPLE_MUSIC) {\n      copy.collection.imageUrl = copy.collection.imageUrl.replace(\"{w}\", \"300\");\n      copy.collection.imageUrl = copy.collection.imageUrl.replace(\"{h}\", \"300\");\n    }\n    // newQueueMap[copy.uuid] = copy;\n    const anotherNewState = finalizeQueues(newState, copy.children);\n    copy.childUuids = copy.children.map(obj => obj.uuid);\n    delete copy.children;\n\n    const anotherNewMap = { ...anotherNewState.queueMap }\n    anotherNewMap[copy.uuid] = copy;\n    anotherNewState.queueMap = anotherNewMap;\n    return anotherNewState;\n  }\n\n  delete copy.children;\n  copy.childUuids = [];\n\n  // Some data cleaning that probably shouldn't happen here.\n  if(copy.track?.service === services.APPLE_MUSIC) {\n    copy.track.imageUrl = copy.track.imageUrl.replace(\"{w}\", \"300\");\n    copy.track.imageUrl = copy.track.imageUrl.replace(\"{h}\", \"300\");\n  }\n\n  const intervals = copy.intervals,\n        trackDurationMilliseconds = copy.track?.durationMilliseconds;\n\n  // Gotta update the marker map\n  const markerMap = { ...state.markerMap };\n  for(const marker of queue.markers) {\n    if(markerMap[marker.trackUuid] === undefined || markerMap[marker.trackUuid].length === 0) {\n      markerMap[marker.trackUuid] = {};\n    }\n    markerMap[marker.trackUuid][marker.uuid] = marker;\n  }\n  newState.markerMap = markerMap;\n\n  // Base case: no configured intervals\n  if(!intervals.length) {\n    copy.playbackIntervals = [\n      {\n        startPosition: 0,\n        endPosition: trackDurationMilliseconds,\n        purpose: \"all\",\n        uuid: null,\n      }\n    ];\n    copy.allIntervals = [\n      {\n        startPosition: 0,\n        endPosition: trackDurationMilliseconds,\n        purpose: \"all\",\n        uuid: null,\n      }\n    ];\n    newQueueMap[copy.uuid] = copy;\n    newState.queueMap = newQueueMap;\n    return newState;\n  }\n\n  const allIntervals = [],\n        trackUuid = queue.track.uuid;\n  let lastBound;\n  for(const interval of intervals) {\n    const lowerBound = markerMap[trackUuid][interval.lowerBoundUuid]?.timestampMilliseconds,\n          upperBound = markerMap[trackUuid][interval.upperBoundUuid]?.timestampMilliseconds;\n\n    ////////////////////////////////////////////////////////////////////////////\n    // TRIMMED\n    if(interval.purpose === 'muted') {\n\n\n\n      // Trimmed && No LOWER bound\n      // Meaning, the beginning of the track is trimmed.\n      if(!interval.lowerBoundUuid) {\n        allIntervals.push({\n          startPosition: 0,\n          endPosition: upperBound,\n          purpose: \"muted\",\n          uuid: interval.uuid,\n        });\n        lastBound = upperBound;\n        continue;\n      }\n\n      // Base case: need to add playback window upfront.\n      if(!allIntervals.length) {\n        allIntervals.push({\n          startPosition: 0,\n          endPosition: lowerBound,\n          purpose: \"all\",\n          uuid: undefined,\n        });\n      }\n\n      // Trimmed && No UPPER bound\n      // Meaning, the end of the track is trimmed.\n      if(!interval.upperBoundUuid) {\n\n        // One more case to consider here...\n        // Same concept as the ** below\n        if(lastBound && lastBound !== lowerBound) {\n          allIntervals.push({\n            startPosition: lastBound,\n            endPosition: lowerBound,\n            purpose: \"all\",\n            uuid: undefined,\n          });\n        }\n\n        allIntervals.push({\n          startPosition: lowerBound || 0,\n          endPosition: trackDurationMilliseconds,\n          purpose: \"muted\",\n          uuid: interval.uuid,\n        });\n        lastBound = undefined;\n        continue;\n      }\n\n      // Trimmed && Mismatched last bound **\n      // Meaning, there is an implicit normal playback interval.\n      if(lastBound && lastBound !== lowerBound) {\n        allIntervals.push({\n          startPosition: lastBound,\n          endPosition: lowerBound,\n          purpose: \"all\",\n          uuid: undefined,\n        });\n        // NO CONTINUE\n      }\n\n      allIntervals.push({\n        startPosition: lowerBound,\n        endPosition: upperBound,\n        purpose: interval.purpose,\n        uuid: interval.uuid,\n      });\n\n      lastBound = upperBound;\n      continue;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////\n    // STEM SEPERATION\n\n    // No LOWER bound\n    // Meaning, the beginning of the track is an implicit normal playback\n    // interval.\n    if(interval.lowerBound && lowerBound !== 0) {\n      allIntervals.push({\n        startPosition: 0,\n        endPosition: lowerBound,\n        purpose: \"all\",\n        uuid: undefined,\n      });\n    }\n\n    allIntervals.push({\n      startPosition: lowerBound || 0,\n      endPosition: upperBound || trackDurationMilliseconds,\n      purpose: interval.purpose,\n      uuid: interval.uuid,\n      vocals: interval.vocals,\n      drums: interval.drums,\n      bass: interval.bass,\n      piano: interval.piano,\n      other: interval.other,\n    });\n\n    lastBound = upperBound;\n    continue;\n  }\n\n  //////////////////////////////////////////////////////////////////////////////\n  // LAST BUT NOT LEAST...\n  if(lastBound && lastBound !== trackDurationMilliseconds) {\n    allIntervals.push({\n      startPosition: lastBound,\n      endPosition: trackDurationMilliseconds,\n      purpose: \"all\",\n      uuid: undefined,\n    });\n  }\n\n  const playbackIntervals = allIntervals.filter(i => i.purpose !== \"muted\");\n\n  copy.playbackIntervals = playbackIntervals;\n  copy.allIntervals = allIntervals;\n\n  newQueueMap[copy.uuid] = copy;\n  newState.queueMap = newQueueMap;\n  return newState;\n}\n\n\n/*\n * A queue object is returned from the server with an assortment of\n * intervals. These intervals must be interpreted on the front-end\n * to put together the full picture - how long is the queue item\n * expected to play for?\n */\nexport const queueListSet = function(state, payload) {\n  let newState = { ...state };\n  newState = finalizeQueues(newState, payload.lastUpQueues);\n  newState = finalizeQueues(newState, payload.nextUpQueues);\n\n  let lastUpQueues = payload.lastUpQueues.map(o => o.uuid),\n      nextUpQueues = payload.nextUpQueues.map(o => o.uuid);\n\n  const _lastPlayed = newState._lastPlayed;\n  if(_lastPlayed) {\n    lastUpQueues.push(_lastPlayed.uuid);\n  }\n\n  let stream = newState.stream,\n      queueMap = newState.queueMap,\n      nowPlaying = queueMap[stream.nowPlayingUuid];\n  if(nowPlaying?.status !== \"played\" && nowPlaying?.status !== 'paused' && nowPlaying) {\n    lastUpQueues.push(stream.nowPlayingUuid);\n    stream = { ...stream, nowPlayingUuid: undefined }\n  }\n\n  return {\n    ...newState,\n    stream: stream,\n    lastUpQueueUuids: lastUpQueues,\n    nextUpQueueUuids: nextUpQueues,\n    queueMap: newState.queueMap,\n  }\n}\n\nexport const queueUpdate = function(state, action) {\n  return finalizeQueues(state, action.queues);\n}\n\n\nexport const queueDeleteNode = function(state, action) {\n  const queueUuids = state.nextUpQueueUuids,\n        filteredQueueUuids = queueUuids.filter(uuid => uuid !== action.queueUuid);\n\n  return {\n    ...state,\n    nextUpQueueUuids: filteredQueueUuids,\n  }\n}\n\n\nexport const queueDeleteChildNode = function(state, action) {\n  const queueMap = { ...state.queueMap },\n        parentQueue = { ...state.queueMap[action.parentUuid] };\n  parentQueue.childUuids = parentQueue.childUuids.filter(uuid => uuid !== action.queueUuid);\n\n  queueMap[parentQueue.uuid] = parentQueue;\n\n  return { ...state, queueMap };\n}\n","export const mainEnable = function(state, payload) {\n  const main = { ...state.main };\n  main.enabled = true;\n\n  return { ...state, main };\n}\n\nexport const mainDisable = function(state, payload) {\n  const main = { ...state.main };\n  main.enabled = false;\n\n  return { ...state, main };\n}\n\nexport const mainAddAction = function(state, payload) {\n  const action = payload.action,\n        main = { ...state.main };\n  main.actions = [...main.actions, action];\n\n  return { ...state, main };\n}\n\nexport const mainActionStart = function(state, payload) {\n  const main = { ...state.main },\n        actions = [...main.actions],\n        action = { ...actions[0] };\n  action.status = 'pending';\n  actions[0] = action;\n  main.actions = actions;\n\n  return { ...state, main };\n}\n\nexport const mainActionShift = function(state, payload) {\n  const main = { ...state.main },\n        actions = [...main.actions];\n  actions.shift();\n  main.actions = actions;\n\n  return { ...state, main };\n}\n\nexport const mainSetAutoplayTimeoutId = function(state, payload) {\n  const main = { ...state.main, autoplayTimeoutId: payload.timeoutId };\n  return { ...state, main };\n}\n\nexport const mainClearAutoplayTimeoutId = function(state, payload) {\n  clearTimeout(state.main.autoplayTimeoutId);\n  const main = { ...state.main, autoplayTimeoutId: false };\n  return { ...state, main };\n}\n","import { getProgress } from '../PlaybackApp/utils';\n\n\n/*\n * Gets queues from queueUuids\n */\nexport const getQueues = function(queueUuids, queueMap) {\n  return queueUuids.map(uuid => queueMap[uuid]);\n}\n\n\n/*\n * Returns the (track) queue item that will be played next.\n */\nexport const getLeafQueue = function(queueUuid, queueMap) {\n  if(!queueUuid) {\n    return null;\n  }\n  let queue = queueMap[queueUuid];\n  if(!queue.childUuids.length) {\n    return queue;\n  }\n  return getLeafQueue(queue.childUuids[0], queueMap);\n}\n\n\n/*\n *\n */\nexport const flattenQueues = function(queues, queueMap) {\n  if(!queues.length) {\n    return undefined;\n  }\n\n  const flattenedQueues = [];\n  for(let queue of queues) {\n    if(queue.childUuids.length) {\n      for(let childUuid of queue.childUuids) {\n        flattenedQueues.push(queueMap[childUuid]);\n      }\n    } else {\n      flattenedQueues.push(queue);\n    }\n  }\n\n  return flattenedQueues;\n}\n\n\n/*\n * Returns the (track) queue item that will be played next.\n */\nexport const getQueueDuration = function(queues, nowPlaying) {\n\n  // Determines the duration of a queue object.\n  const getDuration = function(queue) {\n    return queue.durationMilliseconds;\n  }\n\n  // Reducer function which reduces an array of queues into total duration.\n  const reducer = function(total, curr) {\n    if(typeof(total) !== 'number') {\n      total = getDuration(total);\n    }\n    total += getDuration(curr);\n    return total;\n  };\n\n  // In addition to whatever is queued up, we must add the remaining progress\n  // of whatever is now playing in the stream.\n  const progress = nowPlaying ? getProgress(nowPlaying) : 0;\n  let remainingProgress = 0;\n  if(progress) {\n    remainingProgress = nowPlaying.durationMilliseconds - progress;\n  }\n\n  // Now add determine the total length of all queue objects.\n  // NOTE: Reduce works differently in JavaScript than in Python! Someone\n  //       explain this madness to me!! 0x213F\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\n  if(!queues.length) {\n    return remainingProgress + 0;\n  } else if (queues.length === 1) {\n    return remainingProgress + getDuration(queues[0]);\n  } else {\n    return remainingProgress + queues.reduce(reducer);\n  }\n}\n\nexport const durationPretty = function(durationMilliseconds) {\n  var s = durationMilliseconds;\n\n  // Pad to 2 or 3 digits, default is 2\n  function pad(n, z) {\n    z = z || 2;\n    return ('00' + n).slice(-z);\n  }\n\n  var ms = s % 1000;\n  s = (s - ms) / 1000;\n  var secs = s % 60;\n  s = (s - secs) / 60;\n  var mins = s % 60;\n  var hrs = (s - mins) / 60;\n\n  if(durationMilliseconds >= 1000 * 60 * 60) {\n    return hrs + ':' + pad(mins) + ':' + pad(secs);\n  } else {\n    return mins + ':' + pad(secs);\n  }\n}\n\nexport const durationWords = function(durationMilliseconds) {\n  if(durationMilliseconds < 60000) {\n    return \"shortly\";\n  }\n\n  var s = durationMilliseconds;\n  var ms = s % 1000;\n  s = (s - ms) / 1000;\n  var secs = s % 60;\n  s = (s - secs) / 60;\n  var mins = s % 60;\n  var hrs = (s - mins) / 60;\n\n  var retStr = 'in ';\n  if(hrs) {\n    if(hrs === 1) {\n      retStr += `${hrs} hour`;\n    } else {\n      retStr += `${hrs} hours`;\n    }\n\n    if(mins) {\n      retStr += \" \";\n    }\n  }\n  if(mins) {\n    if(mins === 1) {\n      retStr += `${mins} minute`;\n    } else {\n      retStr += `${mins} minutes`;\n    }\n  }\n\n  return retStr;\n}\n","import { getLeafQueue } from '../../components/QueueApp/utils';\nimport { finalizeQueues } from './queue';\n\n\nexport const streamSetWrapper = function(state, payload) {\n  const obj = streamSet(state, payload);\n\n  const stream = { ...obj.stream },\n        queueMap = obj.queueMap,\n        nowPlaying = queueMap[stream.nowPlayingUuid];\n  if(!nowPlaying?.track?.uuid) {\n    return obj;\n  }\n\n  // Gotta update the marker map\n  const markerMap = { ...state.markerMap };\n  if(markerMap[nowPlaying.track.uuid] === undefined || markerMap[nowPlaying.track.uuid].length === 0) {\n    markerMap[nowPlaying.track.uuid] = {};\n  }\n  for(const marker of nowPlaying.markers) {\n    markerMap[nowPlaying.track.uuid][marker.uuid] = marker;\n  }\n  obj.markerMap = markerMap;\n  return {\n    ...obj,\n    stream: stream,\n  };\n}\n\n\n/*\n * ...\n */\nexport const streamSet = function(state, payload) {\n  const stream = payload.stream,\n        nowPlaying = stream.nowPlaying;  // from server, this is a full obj!\n  let obj = { ...state };\n\n  if(nowPlaying) {\n    obj = finalizeQueues(obj, [nowPlaying]);\n\n    // stream.nowPlaying = obj.queueMap[nowPlaying.uuid];\n  }\n\n  obj.stream = stream;\n  const progress = (\n          stream.nowPlaying.status === \"played\" ?\n          Date.now() - stream.nowPlaying.startedAt : stream.nowPlaying.statusAt - stream.nowPlaying.startedAt\n        );\n  const notPlaying = (\n    (stream.nowPlaying.status !== \"played\" && stream.nowPlaying.status !== 'paused' && stream.nowPlaying) ||\n    (progress && progress >= stream.nowPlaying.durationMilliseconds)\n  )\n\n  if(notPlaying) {\n    obj.lastUp = stream.nowPlaying;\n    obj._lastPlayed = stream.nowPlaying;\n    obj.stream.nowPlaying = undefined;\n  }\n\n  // clean nowPlaying\n  if(obj.stream.nowPlaying) {\n    const nowPlayingUuid = obj.stream.nowPlaying.uuid;\n    delete obj.stream.nowPlaying;\n    obj.stream.nowPlayingUuid = nowPlayingUuid;\n  } else {\n    delete obj.stream.nowPlaying;\n    obj.stream.nowPlayingUuid = undefined;\n  }\n\n  return obj;\n}\n\n\n/*\n * ...\n */\nexport const streamPlay = function(state, payload) {\n  const queueMap = { ...state.queueMap },\n        queue = {\n          ...queueMap[state.stream.nowPlayingUuid],\n          startedAt: payload.startedAt,\n          statusAt: payload.statusAt,\n          status: payload.status,\n        };\n  queueMap[queue.uuid] = queue;\n\n  return {\n    ...state,\n    queueMap\n  };\n\n  // const updatedPayload = {\n  //   queueMap: queueMap,\n  // };\n  // return streamSet(state, updatedPayload);\n}\n\n\n/*\n * ...\n */\nexport const streamPause = function(state, payload) {\n  const queueMap = { ...state.queueMap },\n        queue = {\n          ...queueMap[state.stream.nowPlayingUuid],\n          statusAt: payload.statusAt,\n          status: payload.status,\n        };\n  queueMap[queue.uuid] = queue;\n\n  return {\n    ...state,\n    queueMap\n  };\n\n  // const updatedPayload = {\n  //   queueMap: queueMap,\n  // };\n  // return streamSet(state, updatedPayload);\n}\n\n\n/*\n * Set the stream context.\n */\nexport const streamPrevTrack = function(state, payload) {\n  const lastUpQueueUuids = [...state.lastUpQueueUuids],\n        nextUpQueueUuids = [...state.nextUpQueueUuids],\n        nowPlayingUuid = state.stream.nowPlayingUuid,\n        queueMap = { ...state.queueMap };\n\n  const nextUpUuid = nextUpQueueUuids[0],\n        nextUp = getLeafQueue(nextUpUuid, queueMap);\n\n  if(nowPlayingUuid) {\n    const nowPlaying = { ...queueMap[nowPlayingUuid] };\n    if(!nextUp) {\n      if(nowPlaying.parentUuid) {\n        nextUpQueueUuids.unshift(nowPlaying.parentUuid);\n        const nextUpCollection = { ...queueMap[nowPlaying.parentUuid] };\n        nextUpCollection.childUuids.unshift(nowPlayingUuid);\n      } else {\n        nextUpQueueUuids.unshift(nowPlayingUuid);\n      }\n    } else if(nextUp.uuid !== nextUpUuid) {\n      let nextUpCollection;\n      nextUpCollection = { ...queueMap[nextUpUuid] };\n      if(nowPlaying.parentUuid !== nextUpCollection.uuid) {\n        nextUpQueueUuids.unshift(nowPlaying.parentUuid);\n        nextUpCollection = { ...queueMap[nowPlaying.parentUuid] };\n      }\n      nextUpCollection.childUuids.unshift(nowPlayingUuid);\n      queueMap[nextUpCollection.uuid] = nextUpCollection;\n    } else {\n      nextUpQueueUuids.unshift(nowPlayingUuid);\n    }\n  }\n\n  const nextNowPlayingUuid = lastUpQueueUuids.pop();\n\n  return {\n      ...state,\n      stream: {\n        ...state.stream,\n        nowPlayingUuid: nextNowPlayingUuid,\n      },\n      lastUpQueueUuids: lastUpQueueUuids,\n      nextUpQueueUuids: nextUpQueueUuids,\n      queueMap: queueMap,\n      _lastPlayed: undefined,\n  };\n}\n\n\n/*\n * ...\n */\nexport const streamNextTrack = function(state, payload) {\n  const lastUpQueueUuids = [...state.lastUpQueueUuids],\n        nextUpQueueUuids = [...state.nextUpQueueUuids],\n        nowPlayingUuid = state.stream.nowPlayingUuid,\n        queueMap = state.queueMap;\n\n  lastUpQueueUuids.push(nowPlayingUuid);\n\n  const nextUpUuid = nextUpQueueUuids.shift();\n  const nextNowPlaying = { ...getLeafQueue(nextUpUuid, queueMap) };\n\n  // Handle leaf node. (playing a track inside a collection)\n  if(nextUpUuid !== nextNowPlaying.uuid) {\n    // Pop the child from the collection.\n    let nextUp;\n    nextUp = { ...state.queueMap[nextUpUuid] };\n    nextUp.childUuids.shift();\n    queueMap[nextUp.uuid] = nextUp;\n    if(nextUp.childUuids.length > 0) {\n      // If no more children, pop the collection from the queue.\n      nextUpQueueUuids.unshift(nextUpUuid);\n    }\n  }\n\n  nextNowPlaying.startedAt = Date.now();\n  queueMap[nextNowPlaying.uuid] = nextNowPlaying;\n\n  return {\n      ...state,\n      stream: {\n        ...state.stream,\n        nowPlayingUuid: nextNowPlaying.uuid,\n      },\n      lastUpQueueUuids: lastUpQueueUuids,\n      nextUpQueueUuids: nextUpQueueUuids,\n      queueMap: queueMap,\n      _lastPlayed: undefined,\n  };\n}\n","/*\n * ...\n */\nexport const textCommentListSet = function(state, payload) {\n  const textComments = payload.textComments,\n        trackUuid = payload.trackUuid,\n        textCommentMap = { ...state.textCommentMap },\n        feedApp = { ...state.feedApp },\n        trackMap = { ...state.feedApp.trackMap };\n\n  for(let textComment of textComments) {\n    textCommentMap[textComment.uuid] = textComment;\n  }\n\n  if(!trackMap.hasOwnProperty(trackUuid)) {\n    trackMap[trackUuid] = {};\n  }\n  const textCommentUuids = textComments.map(obj => obj.uuid);\n  trackMap[trackUuid].textCommentUuids = textCommentUuids;\n  feedApp.trackMap = trackMap;\n\n  return { ...state, feedApp, textCommentMap };\n}\n\n\n/*\n *\n */\nexport const textCommentCreate = function(state, payload) {\n  const textComment = payload.textComment,\n        trackUuid = textComment.trackUuid,\n        textCommentMap = { ...state.textCommentMap },\n        feedApp = { ...state.feedApp },\n        textCommentUuids = [...state.feedApp.trackMap[trackUuid].textCommentUuids];\n\n  textComment.forceDisplay = true;\n  textCommentMap[textComment.uuid] = textComment;\n  textCommentUuids.push(textComment.uuid);\n  feedApp.trackMap[trackUuid].textCommentUuids = textCommentUuids;\n\n  return { ...state, feedApp, textCommentMap };\n}\n\n\n/*\n *\n */\nexport const textCommentDelete = function(state, payload) {\n  const textCommentUuid = payload.textCommentUuid,\n        trackUuid = payload.trackUuid,\n        textCommentMap = { ...state.textCommentMap },\n        feedApp = { ...state.feedApp },\n        trackMap = { ...state.feedApp.trackMap };\n\n  let textCommentUuids;\n  const deleteByUuid = uuid => uuid !== textCommentUuid;\n  textCommentUuids = [...trackMap[trackUuid].textCommentUuids];\n  textCommentUuids = textCommentUuids.filter(deleteByUuid);\n\n  trackMap[trackUuid].textCommentUuids = textCommentUuids;\n  feedApp.trackMap = trackMap;\n\n  delete textCommentMap[textCommentUuid];\n\n  return { ...state, feedApp, textCommentMap };\n}\n","\n\nexport const notesAppSet = function(state, payload) {\n  const notesApp = { ...state.notesApp },\n        notesStore = { ...state.notesApp.store },\n        { key, value } = payload;\n\n  notesStore[key] = value;\n  notesApp.store = notesStore;\n  localStorage.setItem('notesStore', JSON.stringify(notesStore));\n\n  return { ...state, notesApp };\n}\n","/*\n * ...\n */\nexport const textCommentModificationCreate = function(state, payload) {\n  const textCommentMap = { ...state.textCommentMap },\n        textCommentModifications = payload.textCommentModifications,\n        modifiedModification = textCommentModifications.modified,\n        deletedModifications = textCommentModifications.deleted,\n        textCommentUuid = payload.textCommentUuid,\n        textComment = { ...state.textCommentMap[textCommentUuid] };\n\n  let modifications = [...textComment.modifications],\n      existingIdx;\n  existingIdx = modifications.findIndex(t => (\n    t.uuid === modifiedModification.uuid\n  ));\n  if(existingIdx !== -1) {\n    modifications[existingIdx] = modifiedModification;\n  } else {\n    modifications.push(modifiedModification);\n    modifications = modifications.sort((a, b) => {\n      return a.startPtr - b.startPtr;\n    });\n  }\n\n  if(deletedModifications) {\n    for(let idx=0; idx < deletedModifications.length; idx++) {\n      const deletedModification = deletedModifications[idx];\n      existingIdx = modifications.findIndex(t => (\n        t.uuid === deletedModifications.uuid\n      ));\n      if(existingIdx !== -1) {\n        modifications = modifications.filter(i => i.uuid !== deletedModification.uuid);\n      }\n    }\n  }\n\n  textComment.modifications = modifications;\n  textCommentMap[textComment.uuid] = textComment;\n\n  return { ...state, textCommentMap };\n}\n\n\n/*\n * ...\n */\nexport const textCommentClearModifications = function(state, payload) {\n  const textCommentMap = { ...state.textCommentMap },\n        textCommentUuid = payload.textCommentUuid,\n        textComment = textCommentMap[textCommentUuid];\n\n  textComment.modifications = [];\n  textCommentMap[textCommentUuid] = textComment;\n\n  return { ...state, textCommentMap };\n}\n","import { getPositionMilliseconds } from '../../components/PlaybackApp/utils';\n\n\n/*\n * ...\n */\nexport const voiceRecordingListSet = function(state, payload) {\n  const voiceRecordings = payload.voiceRecordings,\n        trackUuid = payload.trackUuid,\n        voiceRecordingMap = { ...state.voiceRecordingMap },\n        feedApp = { ...state.feedApp },\n        trackMap = { ...state.feedApp.trackMap };\n\n  for(let voiceRecording of voiceRecordings) {\n    voiceRecordingMap[voiceRecording.uuid] = voiceRecording;\n  }\n\n  if(!trackMap.hasOwnProperty(trackUuid)) {\n    trackMap[trackUuid] = {};\n  }\n  const voiceRecordingUuids = voiceRecordings.map(obj => obj.uuid);\n  trackMap[trackUuid].voiceRecordingUuids = voiceRecordingUuids;\n  feedApp.trackMap = trackMap;\n\n  return { ...state, feedApp, voiceRecordingMap };\n}\n\n\n/*\n * ...\n */\nexport const voiceRecordingCreate = function(state, payload) {\n  const voiceRecording = payload.voiceRecording,\n        trackUuid = voiceRecording.trackUuid,\n        voiceRecordingMap = { ...state.voiceRecordingMap },\n        feedApp = { ...state.feedApp },\n        voiceRecordingUuids = [...state.feedApp.trackMap[trackUuid].voiceRecordingUuids];\n\n  // TODO: set lastRender\n\n  voiceRecording.forceDisplay = true;\n  voiceRecordingMap[voiceRecording.uuid] = voiceRecording;\n  voiceRecordingUuids.push(voiceRecording.uuid);\n  feedApp.trackMap[trackUuid].voiceRecordingUuids = voiceRecordingUuids;\n\n  return { ...state, feedApp, voiceRecording, voiceRecordingMap };\n}\n\n\n/*\n * ...\n */\nexport const voiceRecordingDelete = function(state, payload) {\n  const voiceRecordingUuid = payload.voiceRecordingUuid,\n        trackUuid = payload.trackUuid,\n        voiceRecordingMap = { ...state.voiceRecordingMap },\n        feedApp = { ...state.feedApp },\n        trackMap = { ...state.feedApp.trackMap };\n\n  let voiceRecordingUuids;\n  const deleteByUuid = uuid => uuid !== voiceRecordingUuid;\n  voiceRecordingUuids = [...trackMap[trackUuid].voiceRecordingUuids];\n  voiceRecordingUuids = voiceRecordingUuids.filter(deleteByUuid);\n\n  trackMap[trackUuid].voiceRecordingUuids = voiceRecordingUuids;\n  feedApp.trackMap = trackMap;\n\n  delete voiceRecordingMap[voiceRecordingUuid];\n\n  return { ...state, feedApp, voiceRecordingMap };\n}\n\n\n/*\n * ...\n */\nexport const voiceRecordingPause = function(state, payload) {\n  const currentlyPlayingUuids = state.voiceRecordings.currentlyPlayingUuids;\n\n  for(let voiceRecordingUuid of currentlyPlayingUuids) {\n    const audio = state.playback.files[voiceRecordingUuid];\n    audio.pause();\n  }\n\n  clearTimeout(state.voiceRecordingTimeoutId);\n\n  return {\n    ...state,\n    voiceRecordings: {\n      ...state.voiceRecordings,\n      currentlyPlayingUuids: new Set(),\n      update: state.voiceRecordings.update + 1,\n    }\n  };\n}\n\n\nexport const voiceRecordingPlay = function(state, payload) {\n  console.log('PLAYING!')\n\n  const currentlyPlayingUuids = state.voiceRecordings.currentlyPlayingUuids,\n        voiceRecordingMap = { ...state.voiceRecordingMap },\n        files = { ...state.playback.files },\n        nowPlaying = state.queueMap[state.playback.nowPlayingUuid],\n        arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt),\n        position = arr[0],\n        playback = { ...state.playback };\n\n  let voiceRecordingUuids = [...(state.feedApp.trackMap[nowPlaying.track.uuid]?.voiceRecordingUuids || [])];\n  voiceRecordingUuids = voiceRecordingUuids.filter(x => !currentlyPlayingUuids.has(x));\n\n  for(let voiceRecordingUuid of voiceRecordingUuids) {\n    const voiceRecording = voiceRecordingMap[voiceRecordingUuid],\n          lowerBound = voiceRecording.timestampMilliseconds,\n          upperBound = lowerBound + voiceRecording.durationMilliseconds;\n    if(position < lowerBound || position > upperBound) {\n      continue;\n    }\n\n    let audio = state.playback.files[voiceRecordingUuid];\n    if(!audio) {\n      audio = new Audio(voiceRecording.audioUrl);\n      playback.files[voiceRecordingUuid] = audio;\n    }\n    if(!audio.paused) {\n      continue;\n    }\n\n    const positionMilliseconds = position - voiceRecording.timestampMilliseconds;\n    if(positionMilliseconds > 10) {\n      audio.currentTime = positionMilliseconds / 1000;\n    }\n\n    audio.play();\n\n    files[voiceRecording.uuid] = audio;\n    currentlyPlayingUuids.add(voiceRecording.uuid)\n  }\n\n  const voiceRecordingTimeoutId = (\n    state.voiceRecordingTimeoutId > 0 ? -1 : state.voiceRecordingTimeoutId - 1\n  );\n\n  return {\n    ...state,\n    playback,\n    voiceRecordings: {\n      ...state.voiceRecordings,\n      currentlyPlayingUuids: currentlyPlayingUuids,\n      update: state.voiceRecordings.update + 1,\n    },\n    voiceRecordingTimeoutId: voiceRecordingTimeoutId,\n  };\n}\n\n\nexport const voiceRecordingSchedulePlay = function(state, payload) {\n  const voiceRecordingTimeoutId = payload.timeoutId;\n\n  return { ...state, voiceRecordingTimeoutId };\n}\n","export const userSettingsUpdate = function(state, payload) {\n  return {\n    ...state,\n    userSettings: {\n        ...state.userSettings,\n        ...payload,\n    }\n  }\n}\n\n\nexport const userGetSettings = function(state, action) {\n  return {\n    ...state,\n    userSettings: action.userSettings,\n  }\n}\n","export const sideBarSelectTab = function(state, payload) {\n  return {\n    ...state,\n    sideBar: {\n      ...state.sideBar,\n      tab: payload.tab,\n    }\n  };\n}\n","import { createStore } from 'redux';\n\nimport * as modal from './reducers/modal';\nimport * as streamEngine from './reducers/streamEngine';\nimport * as trackDetail from './reducers/trackDetail';\nimport * as search from './reducers/search';\n\nimport {\n  feedUpdate,\n  feedTakeAction,\n  feedAppSetContentContainer,\n  feedAppSetTextComment,\n  feedAppResetTextComment,\n} from './reducers/feed';\nimport {\n  markerCreate,\n  markerDelete,\n} from './reducers/marker';\nimport {\n  playbackMount,\n  playbackSpotify,\n  playbackLoaded,\n  playbackYouTube,\n  playbackYouTubeTriggerAutoplay,\n  playbackSetSeekTimeoutId,\n  playbackClearSeekTimeoutId,\n  playbackDisable,\n  playbackEnable,\n  playbackLoadFiles,\n  playbackLoadAudius,\n  playbackCycleVolumeLevelAudio,\n  playbackAction,\n} from './reducers/playback';\nimport {\n  queueListSet,\n  queueUpdate,\n  queueDeleteNode,\n  queueDeleteChildNode,\n} from './reducers/queue';\nimport {\n  mainEnable,\n  mainDisable,\n  mainAddAction,\n  mainActionShift,\n  mainActionStart,\n  mainSetAutoplayTimeoutId,\n  mainClearAutoplayTimeoutId,\n} from './reducers/main';\nimport {\n  streamSetWrapper,\n  streamPlay,\n  streamPause,\n  streamPrevTrack,\n  streamNextTrack,\n} from './reducers/stream';\nimport {\n  textCommentListSet,\n  textCommentCreate,\n  textCommentDelete,\n} from './reducers/textComment';\nimport {\n  notesAppSet\n} from './reducers/notesApp';\nimport {\n  textCommentModificationCreate,\n  textCommentClearModifications,\n} from './reducers/textCommentModification';\nimport {\n  voiceRecordingListSet,\n  voiceRecordingCreate,\n  voiceRecordingDelete,\n  voiceRecordingPause,\n  voiceRecordingPlay,\n  voiceRecordingSchedulePlay,\n} from './reducers/voiceRecording';\nimport {\n  userSettingsUpdate,\n  userGetSettings,\n} from './reducers/userSettings';\nimport {\n  sideBarSelectTab,\n} from './reducers/sideBar';\n\n\nconst initialState = {\n  nextUpQueueUuids: [],\n  lastUpQueueUuids: [],\n  _lastPlayed: undefined,\n  userSettings: undefined,\n  markerMap: {},\n  queueMap: {},\n  textCommentMap: {},\n  voiceRecordingMap: {},\n  voiceRecordings: {\n    currentlyPlayingUuids: new Set(),\n    update: 0,\n  },\n  voiceRecordingTimeoutId: -1,\n  main: {\n    actions: [],\n    enabled: true,\n    autoplayTimeoutId: false,\n  },\n  playback: {\n    spotifyApi: undefined,\n    youTubeApi: undefined,\n    youTubeAutoplay: 0,\n    isPlaying: false,\n    // queuedUp: false,\n    // addToQueueTimeoutId: undefined,\n    seekTimeoutId: false,\n    files: {},\n    volumeLevel: {\n      audio: 1.00,\n      voice: 1.00,\n    },\n    loaded: {\n      spotify: false,\n      youTube: false,\n      appleMusic: false,\n      audius: true,\n      jukeboxRadio: true,\n    },\n    pending: {\n      spotify: false,\n      youtube: false,\n      appleMusic: false,\n      audius: false,\n      jukeboxRadio: false,\n    },\n    action: null,\n    nowPlayingUuid: undefined,\n  },\n  // UI\n  search: search.initialState(),\n  feedApp: {\n    contentContainer: null,\n    feed: [],\n    trackMap: {},\n    lastRender: {},\n    textComment: {\n      text: '',\n      trackUuid: undefined,\n      position: undefined,\n    },\n  },\n  notesApp: {\n    store: (JSON.parse(localStorage.getItem('notesStore')) || {}),\n  },\n  sideBar: {\n    tab: null,\n  },\n  modal: modal.initialState(),\n  streamEngine: streamEngine.initialState(),\n  trackDetail: trackDetail.initialState(),\n}\n\n\nconst reducer = (state = initialState, action) => {\n\n  const reducers = {\n    modal, streamEngine, trackDetail, search,\n  };\n  for(const [reducerCategory, reducerObject] of Object.entries(reducers)) {\n    // reducerCategory:  e.g. \"modal\"\n    // reducerObject:    e.g. \"./reducers/modal.js\"\n\n    for(const [reducerName, reducerFunc] of Object.entries(reducerObject)) {\n      // reducerName:    e.g. \"close\"\n      // reducerFunc:    e.g. \"(state, payload) => { ... }\"\n\n      if(reducerName === \"initialState\") {\n        continue;\n      }\n\n      if(action.type === `${reducerCategory}/${reducerName}`) {\n        return reducerFunc(state, action.payload);\n      }\n    }\n  }\n\n  switch (action.type) {\n    ////////////////////////////////////////////////////////////////////////////\n    // STREAM\n    case \"stream/set\":\n      return streamSetWrapper(state, action.payload);\n    case \"stream/play\":\n      return streamPlay(state, action.payload);\n    case \"stream/pause\":\n      return streamPause(state, action.payload);\n    case \"stream/prevTrack\":\n      return streamPrevTrack(state, action.payload);\n    case \"stream/nextTrack\":\n      return streamNextTrack(state, action.payload);\n    ////////////////////////////////////////////////////////////////////////////\n    // QUEUE\n    case \"queue/listSet\":\n      return queueListSet(state, action.payload);\n    case \"queue/deleteNode\":\n      return queueDeleteNode(state, action);\n    case \"queue/deleteChildNode\":\n      return queueDeleteChildNode(state, action);\n    case \"queue/update\":\n      return queueUpdate(state, action.payload);\n    case \"textComment/listSet\":\n    ////////////////////////////////////////////////////////////////////////////\n    // TEXT COMMENT\n      return textCommentListSet(state, action.payload);\n    case \"textComment/create\":\n      return textCommentCreate(state, action.payload);\n    case \"textComment/delete\":\n      return textCommentDelete(state, action.payload);\n    case \"textCommentModification/create\":\n      return textCommentModificationCreate(state, action.payload);\n    case \"textComment/clearModifications\":\n      return textCommentClearModifications(state, action.payload);\n    ////////////////////////////////////////////////////////////////////////////\n    // VOICE RECORDING\n    case \"voiceRecording/create\":\n      return voiceRecordingCreate(state, action.payload);\n    case \"voiceRecording/listSet\":\n      return voiceRecordingListSet(state, action.payload);\n    case \"voiceRecording/delete\":\n      return voiceRecordingDelete(state, action.payload);\n    case \"voiceRecording/pause\":\n      return voiceRecordingPause(state, action.payload);\n    case \"voiceRecording/play\":\n      return voiceRecordingPlay(state, action.payload);\n    case \"voiceRecording/schedulePlay\":\n      return voiceRecordingSchedulePlay(state, action.payload);\n    ////////////////////////////////////////////////////////////////////////////\n    // FEED\n    case \"feed/update\":\n      return feedUpdate(state);\n    case \"feed/takeAction\":\n      return feedTakeAction(state, action.payload);\n    case \"feedApp/setContentContainer\":\n      return feedAppSetContentContainer(state, action.payload);\n    case \"feedApp/setTextComment\":\n      return feedAppSetTextComment(state, action.payload);\n    case \"feedApp/resetTextComment\":\n      return feedAppResetTextComment(state, action.payload);\n    ////////////////////////////////////////////////////////////////////////////\n    // USER\n    case \"user/get-settings\":\n      return userGetSettings(state, action);\n    case \"userSettings/update\":\n      return userSettingsUpdate(state, action.payload);\n    ////////////////////////////////////////////////////////////////////////////\n    // MARKER\n    case \"marker/create\":\n      return markerCreate(state, action.payload);\n    case \"marker/delete\":\n      return markerDelete(state, action.payload);\n    ////////////////////////////////////////////////////////////////////////////\n    // PLAYBACK\n    case \"playback/mount\":\n      return playbackMount(state, action.payload);\n    case \"playback/disable\":\n      return playbackDisable(state);\n    case \"playback/enable\":\n      return playbackEnable(state);\n    case \"playback/spotify\":\n      return playbackSpotify(state, action.payload);\n    case \"playback/loaded\":\n      return playbackLoaded(state, action.payload);\n    case \"playback/youTube\":\n      return playbackYouTube(state, action.payload);\n    case \"playback/youTubeTriggerAutoplay\":\n      return playbackYouTubeTriggerAutoplay(state, action.payload);\n    case \"playback/setSeekTimeoutId\":\n      return playbackSetSeekTimeoutId(state, action.payload);\n    case \"playback/clearSeekTimeoutId\":\n      return playbackClearSeekTimeoutId(state, action.payload);\n    case \"playback/loadFiles\":\n      return playbackLoadFiles(state, action.payload);\n    case \"playback/loadAudius\":\n      return playbackLoadAudius(state, action.payload);\n    case \"playback/cycleVolumeLevelAudio\":\n      return playbackCycleVolumeLevelAudio(state);\n    case \"playback/action\":\n      return playbackAction(state, action.payload);\n    case \"main/enable\":\n      return mainEnable(state, action.payload);\n    case \"main/disable\":\n      return mainDisable(state, action.payload);\n    case \"main/addAction\":\n      return mainAddAction(state, action.payload);\n    case \"main/actionShift\":\n      return mainActionShift(state, action.payload);\n    case \"main/actionStart\":\n      return mainActionStart(state, action.payload);\n    case \"main/setAutoplayTimeoutId\":\n      return mainSetAutoplayTimeoutId(state, action.payload);\n    case \"main/clearAutoplayTimeoutId\":\n      return mainClearAutoplayTimeoutId(state, action.payload);\n    case \"sideBar/selectTab\":\n      return sideBarSelectTab(state, action.payload);\n    case \"notesApp/set\":\n      return notesAppSet(state, action.payload);\n    // case \"@redux/INIT\":\n    //   return state;\n    default:\n      return state;\n      // throw new Error(`Unregistered Redux event: ${action.type}`);\n  }\n}\n\n\nexport const store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({ trace: true }));\n","export const iconLogo = (\n  <svg width=\"38\" height=\"38\" viewBox=\"0 0 213 213\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect width=\"213\" height=\"213\" fill=\"#0047FF\"/>\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M65.9999 172.354L65.9999 140.822C93.3189 140.822 115.465 118.675 115.465 91.3561L115.465 91.3535L147 91.3535L147 91.3544C147 136.089 110.735 172.354 66 172.354C66 172.354 65.9999 172.354 65.9999 172.354Z\" fill=\"white\"/>\n    <circle cx=\"130.924\" cy=\"56.7267\" r=\"16.0763\" fill=\"white\"/>\n  </svg>\n);\n\nexport const iconLogoAlt = (\n  <svg height=\"24\" viewBox=\"0 0 131 213\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M-5.72619e-06 213C72.3493 213 131 154.349 131 82L80 82C80 126.183 44.1828 162 -3.49691e-06 162L-5.72619e-06 213Z\" fill=\"#0047FF\"/>\n    <circle cx=\"105\" cy=\"26\" r=\"26\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconCheckboxUnchecked = (\n  <svg width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"#FFF\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"1\" y=\"1\" width=\"23\" height=\"23\" rx=\"5\" stroke=\"#0047FF\" strokeWidth=\"2\"/>\n  </svg>\n);\n\n\nexport const iconCheckboxChecked = (\n  <svg width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"#FFF\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"1\" y=\"1\" width=\"23\" height=\"23\" rx=\"5\" stroke=\"#0047FF\" strokeWidth=\"2\"/>\n    <path d=\"M19 8L10.75 17L7 12.9091\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\n\nexport const iconSpotify = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 168 168\" style={{width: \"24px\"}}>\n   <path fill=\"#1ED760\" d=\"m83.996 0.277c-46.249 0-83.743 37.493-83.743 83.742 0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l0.001-0.004zm38.404 120.78c-1.5 2.46-4.72 3.24-7.18 1.73-19.662-12.01-44.414-14.73-73.564-8.07-2.809 0.64-5.609-1.12-6.249-3.93-0.643-2.81 1.11-5.61 3.926-6.25 31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-0.903-8.148-4.35-1.04-3.453 0.907-7.093 4.354-8.143 30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-0.001zm0.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219-1.254-4.14 1.08-8.513 5.221-9.771 29.581-8.98 78.756-7.245 109.83 11.202 3.73 2.209 4.95 7.016 2.74 10.733-2.2 3.722-7.02 4.949-10.73 2.739z\"/>\n  </svg>\n);\n\n\nexport const iconYouTube = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1024 721\" style={{width: \"24px\"}}>\n    <path fill=\"#FFF\" d=\"M407 493l276-143-276-144v287z\" />\n    <path\n      opacity={0.12}\n      fill=\"#420000\"\n      d=\"M407 206l242 161.6 34-17.6-276-144z\"\n    />\n    <linearGradient\n      id=\"prefix__a\"\n      gradientUnits=\"userSpaceOnUse\"\n      x1={512.5}\n      y1={719.7}\n      x2={512.5}\n      y2={1.2}\n      gradientTransform=\"matrix(1 0 0 -1 0 721)\"\n    >\n      <stop offset={0} stopColor=\"#e52d27\" />\n      <stop offset={1} stopColor=\"#bf171d\" />\n    </linearGradient>\n    <path\n      fill=\"url(#prefix__a)\"\n      d=\"M1013 156.3s-10-70.4-40.6-101.4C933.6 14.2 890 14 870.1 11.6 727.1 1.3 512.7 1.3 512.7 1.3h-.4s-214.4 0-357.4 10.3C135 14 91.4 14.2 52.6 54.9 22 85.9 12 156.3 12 156.3S1.8 238.9 1.8 321.6v77.5C1.8 481.8 12 564.4 12 564.4s10 70.4 40.6 101.4c38.9 40.7 89.9 39.4 112.6 43.7 81.7 7.8 347.3 10.3 347.3 10.3s214.6-.3 357.6-10.7c20-2.4 63.5-2.6 102.3-43.3 30.6-31 40.6-101.4 40.6-101.4s10.2-82.7 10.2-165.3v-77.5c0-82.7-10.2-165.3-10.2-165.3zM407 493V206l276 144-276 143z\"\n    />\n  </svg>\n);\n\nexport const iconAppleMusic = (\n  <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 73 73\"\n      style={{width: \"24px\"}}\n    >\n    <linearGradient\n      id=\"prefix__a\"\n      gradientUnits=\"userSpaceOnUse\"\n      x1={36}\n      y1={2.286}\n      x2={36}\n      y2={72.455}\n      gradientTransform=\"matrix(1 0 0 -1 0 74.007)\"\n    >\n      <stop offset={0} stopColor=\"#fa233b\" />\n      <stop offset={1} stopColor=\"#fb5c74\" />\n    </linearGradient>\n    <path\n      d=\"M72 22.52v-2.58c0-.72-.01-1.45-.03-2.17-.04-1.58-.14-3.17-.42-4.73-.28-1.58-.75-3.06-1.48-4.5-.72-1.41-1.66-2.71-2.78-3.83s-2.42-2.06-3.83-2.78A15.9 15.9 0 0058.97.45C57.41.17 55.82.08 54.24.03L52.06 0H19.94c-.72 0-1.45.01-2.17.03-1.58.04-3.17.14-4.73.42-1.58.29-3.06.75-4.49 1.49-1.42.72-2.71 1.66-3.83 2.78S2.65 7.13 1.93 8.55C1.2 9.99.73 11.46.45 13.05.17 14.61.08 16.2.03 17.78L0 19.94v32.11c0 .72.01 1.45.03 2.17.04 1.58.14 3.17.42 4.73.28 1.58.75 3.06 1.48 4.5.72 1.41 1.66 2.71 2.78 3.83 1.12 1.12 2.42 2.06 3.83 2.78a15.9 15.9 0 004.49 1.48c1.56.28 3.15.37 4.73.42.72.02 1.45.03 2.17.03.86.01 1.72 0 2.58 0h29.53c.72 0 1.45-.01 2.17-.03 1.58-.04 3.17-.14 4.73-.42 1.58-.28 3.06-.75 4.49-1.48 1.41-.72 2.71-1.66 3.83-2.78 1.12-1.12 2.06-2.41 2.78-3.83.73-1.44 1.2-2.91 1.48-4.5.28-1.56.37-3.15.42-4.73.02-.72.03-1.45.03-2.17.01-.86 0-1.72 0-2.58L72 22.52z\"\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      fill=\"url(#prefix__a)\"\n    />\n    <g>\n      <path\n        d=\"M50.9 11c-.17.02-1.72.29-1.91.33l-21.4 4.32h-.01c-.56.12-1 .32-1.33.6-.41.34-.63.83-.72 1.39-.02.12-.05.36-.05.72v26.78c0 .63-.05 1.23-.47 1.75s-.95.67-1.56.8c-.47.09-.93.19-1.4.28-1.77.36-2.92.6-3.96 1-1 .39-1.74.88-2.34 1.5-1.18 1.23-1.66 2.91-1.49 4.48.14 1.34.74 2.62 1.78 3.56.7.64 1.57 1.13 2.6 1.33 1.07.21 2.2.14 3.86-.2.88-.18 1.71-.46 2.5-.92a6.23 6.23 0 001.97-1.82c.52-.75.86-1.58 1.05-2.47.19-.91.24-1.74.24-2.65V28.56c0-1.24.35-1.57 1.36-1.82 0 0 17.79-3.59 18.62-3.75 1.16-.22 1.7.11 1.7 1.32v15.86c0 .63-.01 1.26-.43 1.78s-.95.67-1.56.8c-.47.09-.93.19-1.4.28-1.77.36-2.92.6-3.96 1-1 .39-1.74.88-2.34 1.5a5.643 5.643 0 00-1.53 4.48c.14 1.34.78 2.62 1.82 3.56.7.64 1.57 1.11 2.6 1.32 1.07.21 2.2.14 3.86-.2.88-.18 1.71-.44 2.5-.91a6.23 6.23 0 001.97-1.82c.52-.75.86-1.58 1.05-2.47.19-.91.2-1.74.2-2.65V12.89c-.01-1.23-.66-1.99-1.82-1.89z\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        fill=\"#fff\"\n      />\n    </g>\n  </svg>\n);\n\nexport const iconFolder = (\n  <svg style={{maxWidth: \"24px\", maxHeight: \"24px\"}} viewBox=\"0 0 34 31\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M32.1883 25.9507C32.1883 26.7778 31.8597 27.5711 31.2748 28.156C30.6899 28.7409 29.8967 29.0695 29.0695 29.0695H4.11883C3.29167 29.0695 2.49838 28.7409 1.91348 28.156C1.32859 27.5711 1 26.7778 1 25.9507V4.11883C1 3.29167 1.32859 2.49838 1.91348 1.91348C2.49838 1.32859 3.29167 1 4.11883 1H11.9159L15.0347 5.67825H29.0695C29.8967 5.67825 30.6899 6.00684 31.2748 6.59173C31.8597 7.17663 32.1883 7.96991 32.1883 8.79708V25.9507Z\" fill=\"#0047FF\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M16.5938 13.3848V22.7413\" stroke=\"white\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M11.916 18.1523H21.2725\" stroke=\"white\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconBack = (\n  <svg width=\"27\" height=\"27\" viewBox=\"0 0 27 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M13.5 26C20.4036 26 26 20.4036 26 13.5C26 6.59644 20.4036 1 13.5 1C6.59644 1 1 6.59644 1 13.5C1 20.4036 6.59644 26 13.5 26Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M13.5 8.5L8.5 13.5L13.5 18.5\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M18.793 13.1133H8.79297\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconAudius = (\n  <img src=\"/audius.png\" style={{maxWidth: \"24px\", maxHeight: \"24px\"}} alt=\"Audius\" />\n)\n\nexport const iconAudius26 = (\n  <img src=\"/audius.png\" style={{maxWidth: \"26px\", maxHeight: \"26px\"}} alt=\"Audius\" />\n)\n","import React, { useState } from \"react\";\n\nimport { iconLogo } from '../../icons';\n\nimport styles from './Login.module.css';\nimport { fetchAuthToken, fetchInitializeStream } from './network';\n\n\nfunction Login(props) {\n\n  /*\n   * 🏗\n   */\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  /*\n   * When the user initializes a login attempt.\n   */\n  const handleSubmit = async function(e) {\n    const responseJson = await fetchAuthToken(username, password);\n    if(!responseJson.access || !responseJson.refresh) {\n      return;\n    }\n\n    localStorage.setItem('accessToken', responseJson.access);\n    localStorage.setItem('refreshToken', responseJson.refresh);\n\n    await fetchInitializeStream();\n\n    localStorage.removeItem('searchService');\n    window.location.href = '/app/welcome';\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.LoginContainer}>\n      <div className={styles.Logo}>\n        {iconLogo}\n      </div>\n      <div className={styles.Login}>\n\n        <label className={styles.FormBlock}>\n          <span>\n            E-mail*\n          </span>\n          <input type=\"text\"\n                 name=\"username\"\n                 value={username}\n                 onChange={(e) => {setUsername(e.target.value)}} />\n        </label>\n\n        <label className={styles.FormBlock}>\n          <span>\n            Password*\n          </span>\n          <input type=\"password\"\n                 name=\"password\"\n                 value={password}\n                 onChange={(e) => {setPassword(e.target.value)}} />\n        </label>\n\n        {/*\n        <label className={styles.FormBlock}\n               style={{height: \"25px\"}}>\n          <button className={styles.Checkbox}\n                  onClick={handleRememberMe}>\n            {rememberMe ? iconCheckboxChecked : iconCheckboxUnchecked}\n          </button>\n          <span className={styles.FormBlockInline}>\n            Remember Me\n          </span>\n        </label>\n        */}\n\n        <div className={styles.FormBlock}\n             style={{marginBottom: \"6px;\"}}>\n          <button className={styles.Submit}\n                  onClick={handleSubmit}>\n            Sign In\n          </button>\n\n          {/*\n          <span className={styles.ForgotPassword}>\n            <Link to=\"/forgotpassword\">Forgot Password?</Link>\n          </span>\n          */}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nexport default Login;\n","import { ENDPOINT_USER_CONNECT_SPOTIFY } from '../../config/api';\nimport { TYPE_POST } from '../../config/global';\nimport { fetchBackend } from '../../utils/network';\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchUserConnectSpotify = async (code, error) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_USER_CONNECT_SPOTIFY,\n    { code, error },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React, { useEffect } from \"react\";\n// import styles from './SpotifySync.module.css';\n\nimport { fetchUserConnectSpotify } from './network';\n\n\nfunction SpotifySync(props) {\n\n  useEffect(() => {\n    async function postData() {\n      const queryString = window.location.search,\n            urlParams = new URLSearchParams(queryString),\n            code = urlParams.get('code'),\n            error = urlParams.get('error');\n\n      await fetchUserConnectSpotify(code, error);\n\n      window.location.href = '../app/search'\n    }\n    postData();\n  }, []);\n\n  return (\n    <p>Redirecting...</p>\n  );\n}\n\nexport default SpotifySync;\n","import {\n  ENDPOINT_TEXT_COMMENT_DELETE,\n  ENDPOINT_TEXT_COMMENT_MODIFICATION_LIST_DELETE,\n} from '../../../config/api';\nimport { TYPE_POST } from '../../../config/global';\nimport { fetchBackend } from '../../../utils/network';\n\n\n/*\n * Deletes a text comment along with all of its modifications.\n */\nexport const fetchDeleteTextComment = async (textCommentUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_TEXT_COMMENT_DELETE,\n    { textCommentUuid: textCommentUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Deletes all modifcations that belong to a text comment.\n */\nexport const fetchListDeleteTextCommentModifications = async (\n  textCommentUuid\n) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_TEXT_COMMENT_MODIFICATION_LIST_DELETE,\n    { textCommentUuid: textCommentUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","export const iconTrash = (\n  <svg width=\"15\" height=\"16\" viewBox=\"0 0 15 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 3.80078H2.4H13.6\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M4.49844 3.8V2.4C4.49844 2.0287 4.64594 1.6726 4.90849 1.41005C5.17104 1.1475 5.52713 1 5.89844 1H8.69844C9.06974 1 9.42584 1.1475 9.68839 1.41005C9.95094 1.6726 10.0984 2.0287 10.0984 2.4V3.8M12.1984 3.8V13.6C12.1984 13.9713 12.0509 14.3274 11.7884 14.5899C11.5258 14.8525 11.1697 15 10.7984 15H3.79844C3.42713 15 3.07104 14.8525 2.80849 14.5899C2.54594 14.3274 2.39844 13.9713 2.39844 13.6V3.8H12.1984Z\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M5.89844 7.30078V11.5008\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M8.69922 7.30078V11.5008\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconErase = (\n  <svg width=\"18\" height=\"14\" viewBox=\"0 0 18 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12.1601 1.36331L16.6324 5.83566C16.7484 5.95152 16.8404 6.08911 16.9032 6.24055C16.966 6.392 16.9983 6.55434 16.9983 6.71828C16.9983 6.88222 16.966 7.04456 16.9032 7.196C16.8404 7.34745 16.7484 7.48504 16.6324 7.6009L11.2806 12.959L5.04297 12.959L5.04297 6.7214L10.4011 1.36331C10.6348 1.13096 10.951 1.00054 11.2806 1.00054C11.6101 1.00054 11.9263 1.13096 12.1601 1.36331V1.36331Z\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M10.3546 11.087L5.98828 6.7207\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M1 9.2168L1.88574 10.1025\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M1 12.959H2.24752\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M10.9805 12.959H13.4755\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconPlay = (\n  <svg width=\"10\" height=\"12\" viewBox=\"0 0 10 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 1L8.6 6L1 11V1Z\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n","import React, { useEffect, useRef } from \"react\";\n\nimport { connect } from 'react-redux';\nimport { Notation } from 'react-abc';\n\nimport { chordParserFactory, chordRendererFactory } from 'chord-symbol';\nimport { BbFormat } from 'bb-chord-symbol';\n\n// eslint-disable-next-line\nimport { Pianokeys } from 'custom-piano-keys';\n\n\nfunction TheoryNotation(props) {\n\n  /*\n   * 🏗\n   */\n  const text = props.text;\n\n  const parseChord = chordParserFactory();\n  const renderChord = chordRendererFactory();\n  const chord = parseChord(text);\n\n  let markedKeys;\n  if(chord && !chord.error) {\n    const rootNote = chord.input.rootNote,\n          noteToDisplacement = {\n            'C': 1,\n            'D': 3,\n            'E': 5,\n            'F': 6,\n            'G': 8,\n            'A': 10,\n            'B': 12,\n            'Cb': 12,\n            'Db': 2,\n            'Eb': 4,\n            'Fb': 6,\n            'Gb': 7,\n            'Ab': 9,\n            'Bb': 11,\n            'C#': 2,\n            'D#': 4,\n            'E#': 6,\n            'F#': 7,\n            'G#': 9,\n            'A#': 11,\n            'B#': 12,\n          },\n          rootDisplacement = noteToDisplacement[rootNote],\n          notes = chord.normalized.semitones.map(st => st + rootDisplacement);\n    markedKeys = notes.join(' ');\n  }\n\n  const bbRef = useRef();\n  useEffect(() => {\n    const canvas = bbRef.current;\n    if(canvas) {\n      const ratio = window.devicePixelRatio || 1,\n            canvas = bbRef.current,\n            context = canvas.getContext('2d'),\n            rect = canvas.getBoundingClientRect();\n\n      canvas.width = rect.width * ratio;\n      canvas.height = 100 * ratio;\n\n      const bbChordRenderer = new BbFormat(context);\n      context.clearRect(0, 0, rect.width * ratio, 100 * ratio);\n      context.font = \"100px Boogaloo\";\n\n      bbChordRenderer.fillChordSymbol(renderChord(chord), 100, 100);\n    }\n  // eslint-disable-next-line\n  }, [text])\n\n  /*\n   * 🎨\n   */\n  return (\n    chord && !chord.error ?\n      <>\n        <canvas ref={bbRef} style={{width: \"100%\", height: \"100px\"}} />\n        <custom-piano-keys oct-w-factor={1} marked-keys={markedKeys}\n                           oct-count={3}\n                           style={{marginLeft: '27.5px'}} />\n      </> :\n      <Notation notation={text}\n                engraverParams={{ staffwidth: 278 }}/>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  textCommentMap: state.textCommentMap,\n});\n\n\nexport default connect(mapStateToProps)(TheoryNotation);\n","import React, { useState } from \"react\";\n\nimport { connect } from 'react-redux';\n\nimport { fetchDeleteTextComment } from '../TextComment/network';\nimport { iconTrash } from '../icons';\n\nimport styles from './TheoryNotationDisplay.module.css';\nimport TheoryNotation from '../../TheoryNotation/TheoryNotation';\n\n\nfunction TheoryNotationDisplay(props) {\n\n  /*\n   * 🏗\n   */\n  const abcNotationUuid = props.textCommentUuid,  // yes\n        abcNotation = props.textCommentMap[abcNotationUuid];  // yes\n\n  const [hovering, setHovering] = useState(false);\n\n  /*\n   * When the mouse enters the area, show the contextual buttons.\n   */\n  const onMouseEnter = function() {\n    setHovering(true);\n  }\n\n  /*\n   * When the mouse leaves the area, hide the contextual buttons.\n   */\n  const onMouseLeave = function() {\n    setHovering(false);\n  }\n\n  /*\n   * Deletes a music notation graphic.\n   *\n   * NOTE: ABCNotation is a proxy model of TextComment. Everything underneath\n   * the hood runs inside TextComment.\n   */\n  const deleteAbcNotation = async function() {\n    const responseJson = await fetchDeleteTextComment(abcNotationUuid);\n    props.dispatch(responseJson.redux);\n  }\n\n  if(!abcNotation) {\n    return (\n      <div className={styles.ABCNotationDisplayContainer}>\n        <div className={styles.ABCNotationDisplayDeleted}>\n          <p>Retracted</p>\n        </div>\n      </div>\n    );\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.ABCNotationDisplayContainer}\n         onMouseEnter={onMouseEnter}\n         onMouseLeave={onMouseLeave}>\n\n      <div className={styles.HoverBuffer}>\n      </div>\n\n      <div className={styles.ABCNotationDisplay}>\n        <TheoryNotation text={abcNotation.text} />\n\n        {hovering &&\n          <div className={styles.HoverContainer}>\n            <button type=\"button\" onClick={deleteAbcNotation}>\n              {iconTrash}\n            </button>\n          </div>\n        }\n      </div>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  textCommentMap: state.textCommentMap,\n});\n\n\nexport default connect(mapStateToProps)(TheoryNotationDisplay);\n","import {\n  ENDPOINT_VOICE_RECORDING_CREATE,\n  ENDPOINT_VOICE_RECORDING_DELETE,\n} from '../../../config/api';\nimport { TYPE_POST } from '../../../config/global';\nimport { fetchBackend } from '../../../utils/network';\n\n\n/*\n * Creates a voice recording.\n */\nexport const fetchCreateVoiceRecording = async (\n  audioFile, transcriptData, transcriptFinal, voiceRecordingTimestamp\n) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_VOICE_RECORDING_CREATE,\n    { audioFile, transcriptData, transcriptFinal, voiceRecordingTimestamp},\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Deletes (archives on the DB level) a voice recording.\n */\nexport const fetchDeleteVoiceRecording = async (voiceRecordingUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_VOICE_RECORDING_DELETE,\n    { voiceRecordingUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React, { useState } from \"react\";\n\nimport { connect } from 'react-redux';\n\nimport { iconTrash } from '../icons';\n\nimport styles from './VoiceRecording.module.css';\nimport { fetchDeleteVoiceRecording } from './network';\n\n\nfunction VoiceRecording(props) {\n\n  /*\n   * 🏗\n   */\n  const voiceRecordingUuid = props.voiceRecordingUuid,\n        voiceRecording = props.voiceRecordingMap[voiceRecordingUuid];\n\n  const [hovering, setHovering] = useState(false);\n\n  /*\n   * When the mouse enters the area, show the contextual buttons.\n   */\n  const onMouseEnter = function() {\n    setHovering(true);\n  }\n\n  /*\n   * When the mouse leaves the area, hide the contextual buttons.\n   */\n  const onMouseLeave = function() {\n    setHovering(false);\n  }\n\n  /*\n   * Delete a voice recording.\n   */\n  const handleDelete = async function() {\n    const responseJson = await fetchDeleteVoiceRecording(voiceRecordingUuid);\n    props.dispatch(responseJson.redux);\n  }\n\n  if(!voiceRecording) {\n    return (\n      <div className={styles.VoiceRecordingContainer}>\n        <div className={styles.VoiceRecordingDeleted}>\n          <p>Retracted</p>\n        </div>\n      </div>\n    );\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.VoiceRecordingContainer}\n         onMouseEnter={onMouseEnter}\n         onMouseLeave={onMouseLeave}>\n\n      <div className={styles.HoverBuffer}>\n      </div>\n\n      <div className={styles.VoiceRecording}>\n        <p>\n          {\n            voiceRecording.transcriptFinal === 'null' ?\n              '<transcript not available>' :\n              voiceRecording.transcriptFinal\n          }\n        </p>\n\n        {hovering &&\n          <div className={styles.HoverContainer}>\n            <button type=\"button\" onClick={handleDelete}>\n              {iconTrash}\n            </button>\n          </div>\n        }\n      </div>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  voiceRecordingMap: state.voiceRecordingMap,\n});\n\n\nexport default connect(mapStateToProps)(VoiceRecording);\n","import { store } from '../../../utils/redux';\n\n\n/*\n * Main user interface which pauses a track.\n */\nexport const pause = function(config = null) {\n  // Clean the config\n  if(!config) {\n    config = {};\n  }\n  if(!config.fake) {\n    config.fake = { api: false, playback: false };\n  }\n\n  // Prepare the action object\n  const action = {\n    name: \"pause\",\n    status: \"kickoff\",\n    fake: config.fake.api,\n  }\n\n  // Dispatch action\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: { action },\n  });\n}\n\n/*\n * Main user interface which plays a track.\n */\nexport const play = function(config = null) {\n  // Clean the config\n  if(!config) {\n    config = {};\n  }\n  if(!config.fake) {\n    config.fake = { api: false, playback: false };\n  }\n\n  // Prepare the action object\n  const action = {\n    name: \"play\",\n    status: \"kickoff\",\n    fake: config.fake,\n  }\n  if(config.hasOwnProperty('progress')) {\n    action.timestampMilliseconds = config.progress;\n  }\n\n  // Dispatch action\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: { action },\n  });\n}\n\n/*\n * Main user interface which skips to the next track.\n */\nexport const next = function(config = null) {\n  // Prepare the action object\n  const action = {\n    name: \"next\",\n    status: \"kickoff\",\n    fake: false,\n    settings: {\n      pause: config.pause,\n      skip: false,\n      play: true,\n    },\n  };\n\n  // Dispatch action\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: { action },\n  });\n}\n\n/*\n * Main user interface which goes back to the previous track\n */\nexport const prev = function(config = null) {\n  // Dispatch action\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: {\n      action: {\n        name: \"prev\",\n        status: \"kickoff\",\n        fake: false,\n      },\n    },\n  });\n}\n","export const TEXT = 'text';\nexport const ABC_NOTATION = 'abc_notation';\n","export const STYLE_BOLD = 'bold';\nexport const STYLE_ITALICIZE = 'italicize';\nexport const STYLE_STRIKETHROUGH = 'strikethrough';\nexport const STYLE_HIGHLIGHT = 'highlight';\n","import {\n  ENDPOINT_TEXT_COMMENT_MODIFICATION_CREATE,\n} from '../../../config/api';\nimport { TYPE_POST } from '../../../config/global';\nimport { fetchBackend } from '../../../utils/network';\n\n\n/*\n * Creates a style modification for a text comment.\n */\nexport const fetchCreateTextCommentModification = async (\n  textCommentUuid, style, anchorOffset, focusOffset\n) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_TEXT_COMMENT_MODIFICATION_CREATE,\n    { textCommentUuid, style, anchorOffset, focusOffset },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React, { useRef, useState } from \"react\";\n\nimport { connect } from 'react-redux';\nimport Popover from 'react-text-selection-popover';\n\nimport styles from './NotableText.module.css';\nimport {\n  STYLE_BOLD,\n  STYLE_ITALICIZE,\n  STYLE_STRIKETHROUGH,\n  STYLE_HIGHLIGHT,\n} from './constants';\nimport { fetchCreateTextCommentModification } from './network';\n\n\nfunction NotableText(props) {\n\n  /*\n   * 🏗\n   */\n  const textCommentUuid = props.textCommentUuid,\n        textComment = props.textCommentMap[textCommentUuid];\n\n  const selectableRef = useRef(null);\n\n  const [selectableIsShowable, setSelectableIsShowable] = useState(true);\n  const [anchorOffset, setAnchorOffset] = useState(null);\n  const [focusOffset, setFocusOffset] = useState(null);\n\n  /*\n   * When the user highlights part of the comment.\n   */\n  const handleNotation = async function(style) {\n    const responseJson = await fetchCreateTextCommentModification(\n      textCommentUuid,\n      style,\n      anchorOffset,\n      focusOffset,\n    );\n    props.dispatch(responseJson.redux)\n    setSelectableIsShowable(false);\n  }\n\n  /*\n   * Called everytime the text selection changes.\n   */\n  const onTextSelect = async function() {\n    const selection = window.getSelection();\n\n    // NOTE: anchor is where the user starts selecting text, focus is the end\n    //       of the selection.\n    let anchorValue = parseInt(selection.anchorNode.parentNode.getAttribute('offset'));\n    let focusValue = parseInt(selection.focusNode.parentNode.getAttribute('offset'));\n\n    // NOTE: there needs to be a slight adjustment of these values.\n    if(anchorValue < focusValue) {\n      focusValue += 1;\n    } else {\n      anchorValue += 1;\n    }\n\n    setSelectableIsShowable(true);\n    setAnchorOffset(anchorValue);\n    setFocusOffset(focusValue);\n  }\n\n  /*\n   * Called when there is no more text being selected.\n   */\n  const onTextUnselect = async function() {\n    setSelectableIsShowable(false);\n    setAnchorOffset(null);\n    setFocusOffset(null);\n  }\n\n  /*\n   * When rendering a text comment, the text has to be displayed along with all\n   * of its annotations. Here the comment string is spliced into many\n   * substrings. If a substring has an accompanying modification, then Rough\n   * Notation is used to display the underline, strike-through, or highlight.\n   */\n  const renderTextComment = function() {\n    const textCommentText = textComment.text,\n          modifications = textComment.modifications;\n\n    // Initializes an array of empty sets.\n    const styles = [];\n    for(let i=0; i< textCommentText.length; i++) {\n      styles[i] = new Set();\n    }\n\n    // Adds styles to each set.\n    for(let i=0; i < modifications.length; i++) {\n      const modification = modifications[i];\n\n      for(let j=modification.startPtr; j < modification.endPtr; j++) {\n        styles[j].add(modification.style);\n      }\n    }\n\n    // Generate the comment\n    let textCommentHtml = <></>\n    for(let i=0; i < styles.length; i++) {\n      const char = textCommentText[i],\n            style = styles[i];\n\n      const stylesObj = {};\n      if(style.has(STYLE_BOLD)) {\n        stylesObj['fontWeight'] = 'bold';\n      }\n      if(style.has(STYLE_ITALICIZE)) {\n        stylesObj['fontStyle'] = 'italic';\n      }\n      if(style.has(STYLE_STRIKETHROUGH)) {\n        stylesObj['textDecoration'] = 'line-through';\n      }\n      if(style.has(STYLE_HIGHLIGHT)) {\n        stylesObj['backgroundColor'] = '#FFF960';\n      }\n\n      textCommentHtml = <>\n        {textCommentHtml}\n        <span offset={i} style={stylesObj}>\n          {char}\n        </span>\n      </>\n    }\n\n    return textCommentHtml;\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.NotableText} style={{color: 'black'}}>\n      <p ref={selectableRef}>\n        {renderTextComment()}\n      </p>\n\n      <Popover selectionRef={selectableRef} onTextSelect={onTextSelect} onTextUnselect={onTextUnselect} isOpen={selectableIsShowable}>\n        <div className={styles.Popover}>\n          <button type=\"button\"\n                  onClick={async () => { await handleNotation(STYLE_BOLD); }}>\n            <span style={{fontWeight: \"bold\"}}>B</span>\n          </button>\n          <button type=\"button\"\n                  onClick={async () => { await handleNotation(STYLE_ITALICIZE); }}>\n            <span style={{fontStyle: \"italic\"}}>i</span>\n          </button>\n          <button type=\"button\"\n                  onClick={async () => { await handleNotation(STYLE_STRIKETHROUGH); }}>\n            <span style={{textDecoration: \"line-through\"}}>S</span>\n          </button>\n          <button type=\"button\"\n                  onClick={async () => { await handleNotation(STYLE_HIGHLIGHT); }}>\n            <span style={{backgroundColor: \"#FFF960\"}}>H</span>\n          </button>\n        </div>\n      </Popover>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  textCommentMap: state.textCommentMap,\n});\n\n\nexport default connect(mapStateToProps)(NotableText);\n","import React, { useState } from \"react\";\n\nimport { connect } from 'react-redux';\n\nimport NotableText from '../NotableText/NotableText';\nimport { iconTrash, iconErase, iconPlay } from '../icons';\n\nimport styles from './TextComment.module.css';\nimport {\n  fetchDeleteTextComment,\n  fetchListDeleteTextCommentModifications,\n} from './network';\n\n\nfunction TextComment(props) {\n\n  /*\n   * 🏗\n   */\n  const textCommentUuid = props.textCommentUuid,\n        textComment = props.textCommentMap[textCommentUuid],\n        stream = props.stream,\n        queueMap = props.queueMap,\n        nowPlaying = queueMap[stream.nowPlayingUuid],\n        nowPlayingTrackUuid = nowPlaying?.track?.uuid;\n\n  const [hovering, setHovering] = useState(false);\n\n  /*\n   * When the mouse enters the area, show the contextual buttons.\n   */\n  const onMouseEnter = function() {\n    setHovering(true);\n  }\n\n  /*\n   * When the mouse leaves the area, hide the contextual buttons.\n   */\n  const onMouseLeave = function() {\n    setHovering(false);\n  }\n\n  /*\n   * Deletes a text comment.\n   */\n  const deleteTextComment = async function() {\n    const responseJson = await fetchDeleteTextComment(textCommentUuid);\n    props.dispatch(responseJson.redux);\n  }\n\n  /*\n   * Clears all styled modifications on this text comment.\n   */\n  const clearModifications = async function() {\n    const responseJson = await fetchListDeleteTextCommentModifications(textCommentUuid);\n    await props.dispatch(responseJson.redux);\n  }\n\n  const handleSeek = function() {\n    if(nowPlaying.status === 'paused') {\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: {\n          action: {\n            name: \"play\",\n            timestampMilliseconds: textComment.timestampMilliseconds,\n            status: \"kickoff\",\n            fake: { api: false },\n          },\n        },\n      });\n    } else {\n      const action = {\n        name: \"seek\",\n        timestampMilliseconds: textComment.timestampMilliseconds,\n        status: \"kickoff\",\n        fake: false,\n      };\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: { action },\n      });\n    }\n  }\n\n  if(!textComment) {\n    return (\n      <div className={styles.TextCommentContainer}>\n\n        <div className={styles.TextCommentDeleted}>\n          <p>Retracted</p>\n        </div>\n      </div>\n    );\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.TextCommentContainer}\n         onMouseEnter={onMouseEnter}\n         onMouseLeave={onMouseLeave}>\n\n      <div className={styles.HoverBuffer}>\n      </div>\n\n      <div className={styles.TextComment}>\n        <NotableText textCommentUuid={textCommentUuid}></NotableText>\n\n        {hovering &&\n          <div className={styles.HoverContainer}>\n            <button type=\"button\" onClick={deleteTextComment}>\n              {iconTrash}\n            </button>\n\n            <button type=\"button\" onClick={clearModifications} style={{top: \"-1px\"}}>\n              {iconErase}\n            </button>\n\n            {textComment.trackUuid === nowPlayingTrackUuid &&\n              <button type=\"button\" onClick={handleSeek}>\n                {iconPlay}\n              </button>\n            }\n          </div>\n        }\n      </div>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  queueMap: state.queueMap,\n  textCommentMap: state.textCommentMap,\n});\n\n\nexport default connect(mapStateToProps)(TextComment);\n","import React from \"react\";\n\nimport { connect } from 'react-redux';\n\nimport styles from './SystemAction.module.css';\n\n\nfunction SystemAction(props) {\n\n  /*\n   * 🏗\n   */\n  const systemAction = props.data;\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.SystemActionContainer}>\n\n      <div className={styles.SystemAction}>\n        <p>\n          Playback {systemAction.action}\n        </p>\n      </div>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  queueMap: state.queueMap,\n});\n\n\nexport default connect(mapStateToProps)(SystemAction);\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport { connect } from 'react-redux';\nimport MicRecorder from 'mic-recorder-to-mp3';\nimport SpeechRecognition, { useSpeechRecognition } from 'react-speech-recognition';\n// import Pizzicato from 'pizzicato';\n\nimport TheoryNotationDisplay from './TheoryNotationDisplay/TheoryNotationDisplay';\nimport VoiceRecording from './VoiceRecording/VoiceRecording';\nimport { getPositionMilliseconds } from '../PlaybackApp/utils';\nimport { CLASS_TEXT_COMMENT, CLASS_VOICE_RECORDING, CLASS_SYSTEM_ACTION } from '../../config/model';\nimport * as services from '../../config/services';\nimport * as modalViews from '../../config/views/modal';\nimport * as streamEngineActions from '../PlaybackApp/StreamEngine/actions';\n\nimport styles from './FeedApp.module.css';\nimport { fetchTextCommentCreate } from './network';\nimport * as formats from '../../config/formats';\nimport { fetchCreateVoiceRecording } from './VoiceRecording/network';\nimport TextComment from './TextComment/TextComment';\nimport SystemAction from './SystemAction/SystemAction';\n\n\nfunction FeedApp(props) {\n\n  /*\n   * 🏗\n   */\n  const feedApp = props.feedApp,\n        feed = feedApp.feed,\n        playback = props.playback,\n        queueMap = props.queueMap,\n        nowPlaying = queueMap[playback.nowPlayingUuid];\n\n  const [isRecording, setIsRecording] = useState(false);\n  const [recorder] = useState(new MicRecorder({ bitRate: 320 }));\n\n  const contentContainer = useRef();\n\n  /*\n   * Opens the modal, showing ABCNotationCompose.\n   */\n  const openModal = function() {\n    const text = \"\",\n          trackUuid = nowPlaying.track.uuid,\n          arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt),\n          position = arr[0];\n\n    props.dispatch({\n      type: \"feedApp/setTextComment\",\n      payload: { textComment: { text, trackUuid, position } },\n    });\n\n    streamEngineActions.pause();\n\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"openModal\",\n          view: modalViews.NOTATION_COMPOSE,\n          status: \"kickoff\",\n          fake: true,  // symbolic, not functional\n        },\n      },\n    });\n  }\n\n  /*\n   * When a user is typing a text comment.\n   */\n  const handleTextChange = function(e) {\n    if(!feedApp.textComment.trackUuid) {\n      streamEngineActions.pause();\n      // var voice = new Pizzicato.Sound({ source: 'input' }, function() {\n      //     // Sound loaded!\n      //     var dubDelay = new Pizzicato.Effects.DubDelay({\n      //         feedback: 0.6,\n      //         time: 0.7,\n      //         mix: 0.5,\n      //         cutoff: 700\n      //     });\n      //\n      //     voice.addEffect(dubDelay);\n      //     voice.play();\n      // });\n    }\n\n    const text = e.target.value,\n          trackUuid = nowPlaying.track.uuid,\n          arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt),\n          position = arr[0];\n\n    props.dispatch({\n      type: \"feedApp/setTextComment\",\n      payload: { textComment: { text, trackUuid, position } },\n    });\n  }\n\n  /*\n   * When a user submits a new comment.\n   */\n  const createTextComment = async function(e) {\n    e.preventDefault();\n\n    const progress = nowPlaying.statusAt - nowPlaying.startedAt;\n    streamEngineActions.play({ progress });\n\n    props.dispatch({ type: \"feedApp/resetTextComment\" });\n\n    const responseJson = await fetchTextCommentCreate(\n      feedApp.textComment.text, formats.TEXT, feedApp.textComment.trackUuid, feedApp.textComment.position\n    );\n\n    props.dispatch(responseJson.redux);\n  }\n\n  /*\n   * ...\n   */\n\n  const {\n    transcript,\n    resetTranscript,\n    browserSupportsSpeechRecognition\n  } = useSpeechRecognition();\n\n  const handleRecord = function() {\n    if(!isRecording) {\n      streamEngineActions.pause();\n      recorder.start();\n      if(browserSupportsSpeechRecognition) {\n        SpeechRecognition.startListening({ continuous: true });\n      }\n      setIsRecording(true);\n      return;\n    }\n\n    if(browserSupportsSpeechRecognition) {\n      SpeechRecognition.stopListening();\n    }\n\n    recorder.stop()\n      .getMp3().then(([buffer, blob]) => {\n        (async function () {\n          const file = new File(buffer, 'voice.mp3', {\n            type: blob.type,\n            lastModified: Date.now(),\n          });\n\n          const arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt),\n                position = arr[0];\n\n          const responseJson = await fetchCreateVoiceRecording(file, JSON.stringify([]), transcript || '', position);\n          props.dispatch(responseJson.redux);\n\n          const progress = nowPlaying.statusAt - nowPlaying.startedAt;\n          streamEngineActions.play({ progress });\n\n          if (SpeechRecognition.browserSupportsSpeechRecognition()) {\n            resetTranscript();\n          }\n        })()\n      });\n\n    setIsRecording(false);\n  }\n\n  //////////////////////////////////////////////////////////////////////////////\n  // REGENERATE THE FEED\n  useEffect(() => {\n\n    const containerRect = contentContainer.current.getBoundingClientRect();\n    props.dispatch({\n      type: \"feedApp/setContentContainer\",\n      payload: { contentContainer: containerRect },\n    });\n\n    const periodicTask = setInterval(() => {\n      props.dispatch({ type: \"feed/update\" });\n    }, 50);\n\n    return () => {\n      clearInterval(periodicTask);\n    }\n\n  // eslint-disable-next-line\n  }, []);\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.FeedApp}>\n\n      <div className={styles.ContentContainer}>\n        <div ref={contentContainer} className={styles.ImageContainer}>\n          {!(nowPlaying?.track?.service === services.YOUTUBE && nowPlaying?.track?.format === 'video') &&\n          !(nowPlaying?.track?.service === services.APPLE_MUSIC && nowPlaying?.track?.format === 'video') &&\n            <img alt=\"\" src={nowPlaying?.track?.imageUrl} />\n          }\n        </div>\n        <h5>\n          {nowPlaying?.track?.name}\n        </h5>\n        <h6>\n          {nowPlaying?.track?.artistName}\n        </h6>\n      </div>\n\n      <div className={styles.FeedWrapper}>\n        <div className={styles.Feed}>\n          {feed.map((value, index) => {\n            if(value.class === CLASS_TEXT_COMMENT) {\n              if(value.format === formats.TEXT) {\n                return <TextComment key={index} textCommentUuid={value.uuid} />;\n              } else {\n                return <TheoryNotationDisplay key={index} textCommentUuid={value.uuid} />;\n              }\n            } else if(value.class === CLASS_VOICE_RECORDING) {\n              return <VoiceRecording key={index} voiceRecordingUuid={value.uuid} />\n            } else if(value.class === CLASS_SYSTEM_ACTION) {\n              return <SystemAction key={index} data={value} />\n            }\n            return <></>;\n          })}\n        </div>\n\n        <form className={styles.ComposeBar}\n              onSubmit={async (e) => { await createTextComment(e); }}>\n          <button className={styles.NotationButton}\n                  type=\"button\"\n                  onClick={openModal}\n                  disabled={nowPlaying?.status !== \"played\"} >\n            <div></div>\n          </button>\n          <button className={styles.RecordButton}\n                  type=\"button\"\n                  onClick={handleRecord}\n                  disabled={nowPlaying?.status !== \"played\" && !isRecording} >\n            <div></div>\n          </button>\n          <input type=\"text\"\n                 name=\"text\"\n                 value={feedApp.textComment.text}\n                 onChange={handleTextChange}\n                 autoComplete=\"off\" />\n          <button className={styles.SubmitButton}\n                  type=\"submit\" >\n            Send\n          </button>\n        </form>\n      </div>\n\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n    playback: state.playback,\n    queueMap: state.queueMap,\n    feedApp: state.feedApp,\n});\n\n\nexport default connect(mapStateToProps)(FeedApp);\n","const CLASS_TEXT_COMMENT = 'TextComment'\nconst CLASS_VOICE_RECORDING = 'VoiceRecording'\nconst CLASS_SYSTEM_ACTION = 'SystemAction'\n\nexport { CLASS_TEXT_COMMENT, CLASS_VOICE_RECORDING, CLASS_SYSTEM_ACTION }\n","export const iconEdit = (\n  <svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M11 1H3.22222C2.63285 1 2.06762 1.23413 1.65087 1.65087C1.23413 2.06762 1 2.63285 1 3.22222V18.7778C1 19.3671 1.23413 19.9324 1.65087 20.3491C2.06762 20.7659 2.63285 21 3.22222 21H18.7778C19.3671 21 19.9324 20.7659 20.3491 20.3491C20.7659 19.9324 21 19.3671 21 18.7778V11\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M17.4098 1.61598C17.8042 1.22158 18.3391 1 18.8969 1C19.4547 1 19.9896 1.22158 20.384 1.61598C20.7784 2.01039 21 2.54532 21 3.1031C21 3.66087 20.7784 4.1958 20.384 4.59021L10.9656 14.0086L7 15L7.99141 11.0344L17.4098 1.61598Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconRemove = (\n  <svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M11 21.1211C16.5228 21.1211 21 16.6439 21 11.1211C21 5.59825 16.5228 1.12109 11 1.12109C5.47715 1.12109 1 5.59825 1 11.1211C1 16.6439 5.47715 21.1211 11 21.1211Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M14 8.12109L8 14.1211\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M8 8.12109L14 14.1211\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconRemoveDisabled = (\n  <svg width=\"23\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M11 21.1211C16.5228 21.1211 21 16.6439 21 11.1211C21 5.59825 16.5228 1.12109 11 1.12109C5.47715 1.12109 1 5.59825 1 11.1211C1 16.6439 5.47715 21.1211 11 21.1211Z\" stroke=\"#EAEAEA\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M14 8.12109L8 14.1211\" stroke=\"#EAEAEA\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M8 8.12109L14 14.1211\" stroke=\"#EAEAEA\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconExpand = (\n  <svg width=\"23\" height=\"23\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M7 9L11 14L15 9\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconCollapse = (\n  <svg width=\"23\" height=\"23\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z\" fill=\"#0047FF\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M15 13.5L11 8.5L7 13.5\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nexport const iconCollapseDisabled = (\n  <svg width=\"23\" height=\"23\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z\" fill=\"#EAEAEA\" stroke=\"#EAEAEA\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M15 13.5L11 8.5L7 13.5\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n","import React from \"react\";\nimport { connect } from 'react-redux'\nimport styles from './QueueTrack.module.css';\nimport { iconEdit, iconRemove } from '../icons';\nimport { durationPretty } from '../utils';\n\nimport * as modalViews from '../../../config/views/modal';\n\n\nfunction QueueTrack(props) {\n\n  /*\n   * 🏗\n   */\n  const queueMap = props.queueMap,\n        queueUuid = props.queueUuid,\n        queue = queueMap[queueUuid];\n\n  const openModal = function() {\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"pause\",\n          status: \"kickoff\",\n          fake: false,\n        },\n      },\n    });\n\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"loadAudio\",\n          queue: queue,\n          status: \"kickoff\",\n          fake: true,  // symbolic, not functional\n        },\n      },\n    });\n\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"mount\",\n          queue: queue,\n          status: \"kickoff\",\n          fake: true,  // symbolic, not functional\n        },\n      },\n    });\n\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"openModal\",\n          view: modalViews.TRACK_DETAIL,\n          status: \"kickoff\",\n          fake: true,  // symbolic, not functional\n        },\n      },\n    });\n  }\n\n  const mainClass = queue.parentUuid ? \"QueueTrackChild\" : \"QueueTrackHead\",\n        infoClass = queue.parentUuid ? \"QueueInformationChild\" : \"QueueInformationHead\",\n        buttonClass = queue.parentUuid ? \"ButtonChild\" : \"ButtonHead\",\n        durationClass = queue.parentUuid ? \"DurationContainerChild\" : \"DurationContainerHead\";\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles[mainClass]}>\n      {!queue.parentUuid &&\n        <div className={[styles.AlbumArtContainer, styles[queue.track.service]].join(' ')}>\n          <img src={queue.track.imageUrl} alt={\"Album Art\"} />\n        </div>\n      }\n\n      <div className={styles[infoClass]}>\n        <h5>{queue.track.name}</h5>\n        {!queue.parentUuid && <h6>{queue.track.artistName}</h6>}\n      </div>\n\n      <div className={styles[durationClass]}>\n        {durationPretty(queue.track.durationMilliseconds)}\n      </div>\n\n      <div className={styles.ButtonContainer}>\n        <button className={styles[buttonClass]} type=\"button\" onClick={openModal}>\n          {iconEdit}\n        </button>\n        <button className={styles[buttonClass]} type=\"button\" onClick={async (e) => { await props.destroy(queue); }}>\n          {iconRemove}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  queueMap: state.queueMap,\n  main: state.main,\n  playback: state.playback,\n});\n\nexport default connect(mapStateToProps)(QueueTrack);\n","import React, { useState } from \"react\";\nimport { connect } from 'react-redux'\nimport styles from './QueueCollection.module.css';\nimport QueueTrack from '../QueueTrack/QueueTrack';\nimport { iconExpand, iconCollapse, iconRemove, iconCollapseDisabled, iconRemoveDisabled } from '../icons';\nimport { durationPretty, getLeafQueue } from '../utils';\n\n\nfunction QueueCollection(props) {\n\n  /*\n   * 🏗\n   */\n  const queueMap = props.queueMap,\n        stream = props.stream,\n        lastUpQueueUuids = props.lastUpQueueUuids,\n        queueUuid = props.queueUuid,\n        queue = queueMap[queueUuid],\n        lastUp = getLeafQueue(lastUpQueueUuids[lastUpQueueUuids.length - 1], queueMap);\n\n  const nowPlaying = queueMap[stream.nowPlayingUuid];\n\n  const isCurrentlyPlayingCollection = (\n    // Stream is NOW playing - \"now playing\" belongs to same parent UUID\n    (nowPlaying && nowPlaying?.parentUuid === queueUuid) ||\n    // Stream is NOT playing - \"last up\" belongs to same parent UUID\n    (!nowPlaying && lastUp?.parentUuid && lastUp?.parentUuid === queueUuid)\n  );\n\n\n  const [reveal, setReveal] = useState(isCurrentlyPlayingCollection);\n\n  /*\n   * When...\n   */\n  const toggleReveal = function(e) {\n    if(isCurrentlyPlayingCollection) {\n      return;\n    }\n    setReveal(!reveal);\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.QueueCollection}>\n\n      <div className={styles.QueueCollectionMain}>\n        <div className={[styles.AlbumArtContainer, styles[queue.collection.service]].join(' ')}>\n          <img src={queue.collection.imageUrl} alt={\"Album Art\"} />\n        </div>\n\n        <div className={styles.QueueInformation}>\n          <h5>{queue.collection.name}</h5>\n          <h6>{queue.collection.artistName}</h6>\n        </div>\n\n        <div className={styles.DurationContainer}>\n          {durationPretty(queue.durationMilliseconds)}\n        </div>\n\n        <div className={styles.ButtonContainer}>\n          {!isCurrentlyPlayingCollection &&\n            <>\n              <button type=\"button\" onClick={toggleReveal}>\n                {reveal ? iconCollapse: iconExpand}\n              </button>\n              <button type=\"button\" onClick={async (e) => { await props.destroy(queue); }}>\n                {iconRemove}\n              </button>\n            </>\n          }\n          {isCurrentlyPlayingCollection &&\n            <>\n              <button type=\"button\" disabled style={{cursor: \"not-allowed\"}}>\n                {iconCollapseDisabled}\n              </button>\n              <button type=\"button\" disabled style={{cursor: \"not-allowed\"}}>\n                {iconRemoveDisabled}\n              </button>\n            </>\n          }\n        </div>\n      </div>\n\n      {queue.childUuids.length > 0 && reveal &&\n        <div className={styles.Children}>\n          {queue.childUuids.map((value, index) => (\n            <QueueTrack key={index}\n                        queueUuid={value}\n                        destroy={props.destroy}>\n            </QueueTrack>\n          ))}\n        </div>\n      }\n    </div>\n  );\n\n}\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  lastUpQueueUuids: state.lastUpQueueUuids,\n  queueMap: state.queueMap,\n});\n\nexport default connect(mapStateToProps)(QueueCollection);\n","import { connect } from 'react-redux'\nimport { Link } from \"react-router-dom\";\nimport styles from './QueueApp.module.css';\nimport { fetchDeleteQueue } from './network'\nimport QueueCollection from './QueueCollection/QueueCollection'\nimport QueueTrack from './QueueTrack/QueueTrack'\nimport { getQueues, getQueueDuration, durationPretty, durationWords } from './utils';\n\n\nfunction QueueApp(props) {\n\n  const nextUpQueueUuids = props.nextUpQueueUuids,\n        stream = props.stream,\n        queueMap = props.queueMap,\n        nowPlaying = queueMap[stream.nowPlayingUuid];\n\n  const nextUpQueues = getQueues(nextUpQueueUuids, queueMap);\n\n  const queueDuration = getQueueDuration(nextUpQueues, nowPlaying);\n\n  /*\n   * Called inside a child component, this first deletes the queue from the\n   * backend, then, on success, it deletes it from the front-end model and\n   * view.\n   */\n  const destroyQueueItem = async function(queue) {\n    const queueUuid = queue.uuid;\n\n    await fetchDeleteQueue(queueUuid);\n\n    const parentUuid = queue.parentUuid;\n    if(parentUuid) {\n      props.dispatch({\n        type: 'queue/deleteChildNode',\n        parentUuid: parentUuid,\n        queueUuid: queueUuid,\n      });\n    } else {\n      props.dispatch({\n        type: 'queue/deleteNode',\n        queueUuid: queueUuid,\n      });\n    }\n  }\n\n  const handleSearch = function() {\n    props.dispatch({\n      type: \"sideBar/selectTab\",\n      payload: { tab: \"search\" },\n    });\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.QueueApp}>\n      <div className={styles.NowPlaying}>\n        {nowPlaying?.track?.uuid &&\n          <>\n            <div className={styles.NowPlayingArt}>\n              <img src={nowPlaying?.track?.imageUrl} alt={\"Album Art\"} />\n            </div>\n\n            <div className={styles.NowPlayingInformation}>\n              <h5>{nowPlaying?.track?.name}</h5>\n              <h6>{nowPlaying?.track?.artistName}</h6>\n            </div>\n\n            <div className={styles.NowPlayingDuration}>\n              {durationPretty(nowPlaying?.track?.durationMilliseconds)}\n            </div>\n          </>\n        }\n      </div>\n      <div className={styles.QueueContainer}>\n        {  // eslint-disable-next-line\n        nextUpQueues.map((value, index) => {\n          if(value.collection) {\n            return (\n              <QueueCollection key={index}\n                               queueUuid={value.uuid}\n                               destroy={destroyQueueItem}>\n              </QueueCollection>\n            );\n          } else if(value.track) {\n            return (\n              <QueueTrack key={index}\n                          queueUuid={value.uuid}\n                          destroy={destroyQueueItem}>\n              </QueueTrack>\n            );\n          }\n        })}\n        <div className={styles.PlaybackDuration}>\n          {queueDuration ?\n            (\n              <>\n                Playback will end {durationWords(queueDuration)}\n              </>\n            ) : (\n              <>\n                There is nothing in the queue\n              </>\n            )\n          }\n        </div>\n        <Link onClick={handleSearch} to=\"/app/search\">\n          <button className={styles.AddToQueue}>\n            Add To Queue\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  queueMap: state.queueMap,\n  nextUpQueueUuids: state.nextUpQueueUuids,\n  lastUpQueueUuids: state.lastUpQueueUuids,\n});\n\n\nexport default connect(mapStateToProps)(QueueApp);\n","import { connect } from 'react-redux'\nimport styles from './MiniQueue.module.css';\nimport { getQueues, getQueueDuration, durationWords } from '../utils';\n\n\nfunction MiniQueue(props) {\n\n  const nextUpQueueUuids = props.nextUpQueueUuids,\n        stream = props.stream,\n        queueMap = props.queueMap,\n        nowPlaying = queueMap[stream.nowPlayingUuid];\n\n  const nextUpQueues = getQueues(nextUpQueueUuids, queueMap);\n\n  // TODO needs to add however much is left inside now playing.\n  const queueDuration = getQueueDuration(nextUpQueues, nowPlaying);\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.MiniQueue}>\n      <h3>Queue</h3>\n      {queueDuration ?\n        (\n          <p>\n            Playback will end {durationWords(queueDuration)}\n          </p>\n        ) : (\n          <p>\n            There is nothing in the queue.\n          </p>\n        )\n      }\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  nextUpQueueUuids: state.nextUpQueueUuids,\n  stream: state.stream,\n  queueMap: state.queueMap,\n});\n\n\nexport default connect(mapStateToProps)(MiniQueue);\n","import { ENDPOINT_MUSIC_SEARCH, ENDPOINT_QUEUE_CREATE } from '../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchSearchMusicLibrary = async (query, service) => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_MUSIC_SEARCH,\n    { query, service },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchCreateQueue = async (className, genericUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_QUEUE_CREATE,\n    { className, genericUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React, { useState } from 'react';\nimport styles from './SearchResult.module.css';\nimport * as services from '../../../config/services';\nimport {\n  iconSpotify,\n  iconYouTube,\n  iconAppleMusic,\n  iconLogoAlt,\n  iconAudius,\n} from '../../../icons';\n\n\nfunction SearchResult(props) {\n  const searchResult = props.data,\n        addToQueue = props.addToQueue;\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n\n  const handleAddToQueue = async function() {\n    setIsSubmitting(true);\n    await addToQueue(searchResult.class, searchResult.uuid);\n    setIsSubmitted(true);\n  }\n\n  let imgUrl = searchResult.img_url;\n  if(searchResult.provider === services.APPLE_MUSIC) {\n    imgUrl = imgUrl.replace(\"{w}\", \"300\");\n    imgUrl = imgUrl.replace(\"{h}\", \"300\");\n  }\n\n  let serviceSvg;\n  if(searchResult.provider === services.SPOTIFY) {\n    serviceSvg = iconSpotify;\n  } else if(searchResult.provider === services.YOUTUBE) {\n    serviceSvg = iconYouTube;\n  } else if(searchResult.provider === services.APPLE_MUSIC) {\n    serviceSvg = iconAppleMusic;\n  } else if(searchResult.provider === services.JUKEBOX_RADIO) {\n    serviceSvg = iconLogoAlt;\n  } else if(searchResult.provider === services.AUDIUS) {\n    serviceSvg = iconAudius;\n  }\n\n  return (\n    <div className={!isSubmitted ? styles.SearchResult : styles.SearchResultSubmitted}>\n\n      <div className={[styles.ImageParent, styles[searchResult.provider]].join(' ')}>\n        <img src={imgUrl} alt={\"Album Art\"} />\n      </div>\n\n      <div className={styles.ResultInformation}>\n        <h5>{searchResult.name}</h5>\n        <h6>{searchResult.artist_name}</h6>\n      </div>\n\n      <div className={styles.ServiceLogo}>\n        {serviceSvg}\n      </div>\n\n      <button type=\"button\"\n              onClick={handleAddToQueue}\n              className={styles[isSubmitted ? \"AddButtonInverted\" : \"AddButton\"]}\n              style={((isSubmitting && !isSubmitted) && {cursor: \"wait\"}) || {}}\n              disabled={!(!isSubmitting && !isSubmitted)}>\n        {!isSubmitted ?\n          (isSubmitting ? <i className={styles.ggSpinner}></i> : \"Add\") :\n          \"Added\"\n        }\n      </button>\n\n    </div>\n  );\n}\n\nexport default SearchResult;\n","export const iconSearch = (\n  <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M14.6667 25.3333C20.5577 25.3333 25.3333 20.5577 25.3333 14.6667C25.3333 8.77563 20.5577 4 14.6667 4C8.77563 4 4 8.77563 4 14.6667C4 20.5577 8.77563 25.3333 14.6667 25.3333Z\" stroke=\"#0047FF\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M27.9997 28.0012L22.1997 22.2012\" stroke=\"#0047FF\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconUpload = (\n  <svg width=\"45\" height=\"35\" viewBox=\"0 0 45 35\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M33.6843 13.5312H31.3368C30.6397 10.7464 29.1994 8.21916 27.1795 6.23657C25.1596 4.25398 22.641 2.89558 19.9101 2.31572C17.1791 1.73586 14.3452 1.9578 11.7304 2.95631C9.11564 3.95482 6.82478 5.68987 5.11818 7.96431C3.41157 10.2387 2.35765 12.9614 2.07616 15.8228C1.79467 18.6842 2.29691 21.5698 3.5258 24.1515C4.7547 26.7332 6.66097 28.9075 9.02801 30.4275C11.3951 31.9475 14.128 32.7521 16.9162 32.75H33.6843C36.155 32.75 38.5245 31.7376 40.2715 29.9355C42.0185 28.1334 43 25.6892 43 23.1406C43 20.5921 42.0185 18.1479 40.2715 16.3458C38.5245 14.5437 36.155 13.5312 33.6843 13.5312Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M24.3986 18.3202L18.3246 12.2461L12.2505 18.3202\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M18.3257 12.2461V25.9128\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M24.3986 18.3202L18.3246 12.2461L12.2505 18.3202\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconCheckboxChecked = (\n  <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"1\" y=\"1\" width=\"24\" height=\"24\" stroke=\"#0047FF\" strokeWidth=\"2\"/>\n    <path d=\"M19 9L10.75 18L7 13.9091\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconCheckboxUnchecked = (\n  <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"0.5\" y=\"0.5\" width=\"25\" height=\"25\" stroke=\"#BCBCBC\"/>\n  </svg>\n);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport styles from './SearchApp.module.css';\n\nimport { fetchSearchMusicLibrary, fetchCreateQueue } from './network';\nimport SearchResult from './SearchResult/SearchResult';\nimport * as services from '../../config/services';\nimport * as modalViews from '../../config/views/modal';\nimport { fetchQueueList } from '../QueueApp/network';\nimport { iconUpload } from './icons';\nimport {\n  iconSpotify,\n  iconYouTube,\n  iconAppleMusic,\n  iconLogoAlt,\n  iconAudius,\n} from '../../icons';\n\n\nfunction SearchApp(props) {\n\n  /*\n   * 🏗\n   */\n\n  const search = props.search,\n        query = search.query;\n\n  const [searchResults, setSearchResults] = useState([]);\n  const [autoSearchTimeoutId, setAutoSearchTimeoutId] = useState(false);\n\n  const handleQueryChange = function(e) {\n    props.dispatch({\n      type: \"search/setQuery\",\n      payload: { query: e.target.value },\n    });\n  }\n\n  const openUploadForm = function() {\n    props.dispatch({\n      type: \"modal/open\",\n      payload: { view: modalViews.UPLOAD_TRACK },\n    });\n  }\n\n  /*\n   * Get search results from server or local cache.\n   */\n  const fetchSearch = async function(service = undefined) {\n\n    // Only search if there is a query\n    if(!query) {\n      return;\n    }\n\n    if(!service) {\n      service = search.service;\n    }\n\n    const queryCache = search.cache[query] || {};\n    let responseJson = queryCache[service];\n\n    // Base case: run the search query\n    if(!responseJson) {\n      responseJson = await fetchSearchMusicLibrary(query, service);\n      queryCache[service] = responseJson;\n      props.dispatch({\n        type: \"search/setCache\",\n        payload: { query, service, responseJson },\n      });\n    }\n    setSearchResults(responseJson.data);\n    setAutoSearchTimeoutId(false);\n  }\n\n  /*\n   * On click for service buttons\n   */\n  const generateServiceHandler = function(service) {\n    return function() {\n      if(autoSearchTimeoutId) {\n        clearTimeout(autoSearchTimeoutId);\n      }\n      fetchSearch();\n      props.dispatch({\n        type: 'search/setService',\n        payload: { service },\n      });\n      fetchSearch(service);\n    }\n  }\n\n  /*\n   * Adding a search item to the queue\n   */\n  const addToQueue = async function(className, genericUuid) {\n    await fetchCreateQueue(\n      className,\n      genericUuid,\n    );\n\n    const responseJsonQueueList = await fetchQueueList();\n    props.dispatch(responseJsonQueueList.redux);\n  }\n\n  /*\n   * Handle typing in the search bar.\n   */\n  const handleKeyDown = (event) => {\n    if(autoSearchTimeoutId) {\n      clearTimeout(autoSearchTimeoutId);\n    }\n    setAutoSearchTimeoutId(setTimeout(fetchSearch, 150));\n    if(event.key === 'Enter') {\n      clearTimeout(autoSearchTimeoutId);\n      fetchSearch();\n    }\n  }\n\n  // Display search results on componentDidLoad\n  useEffect(() => {\n    fetchSearch();\n  // eslint-disable-next-line\n  }, []);\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.SearchApp}>\n\n      <div className={styles.SearchBarContainer}>\n        <input type=\"text\"\n               name=\"query\"\n               autoComplete=\"off\"\n               spellCheck=\"false\"\n               placeholder=\"\"\n               className={styles.SearchBar}\n               value={query}\n               onChange={handleQueryChange}\n               onKeyDown={handleKeyDown} />\n        {/*}\n        <div className={styles.SearchBarIcon}>\n          {iconSearch}\n        </div>\n        */}\n        <button className={styles.Upload}\n                onClick={openUploadForm}>\n          {iconUpload}\n        </button>\n      </div>\n\n      <div className={styles.SearchResultsContainer}>\n        <div className={styles.ServiceCheckboxContainer}>\n          <button className={styles.ServiceCheckbox}\n                  onClick={generateServiceHandler(services.SPOTIFY)}\n                  style={(search.service === services.SPOTIFY && {border: \"2px solid rgba(29, 185, 84, 1)\"}) || {}}>\n            <div className={styles.ServiceCheckboxLogoContainer}>{iconSpotify}</div>\n          </button>\n\n          <button className={styles.ServiceCheckbox}\n                  onClick={generateServiceHandler(services.YOUTUBE)}\n                  style={(search.service === services.YOUTUBE && {border: \"2px solid rgba(255, 0, 0, 1)\"}) || {}}>\n            <div className={styles.ServiceCheckboxLogoContainer}>{iconYouTube}</div>\n          </button>\n\n          <button className={styles.ServiceCheckbox}\n                  onClick={generateServiceHandler(services.APPLE_MUSIC)}\n                  style={(search.service === services.APPLE_MUSIC && {border: \"2px solid rgba(251, 92, 116, 1)\"}) || {}}>\n            <div className={styles.ServiceCheckboxLogoContainer}>{iconAppleMusic}</div>\n          </button>\n\n          <button className={styles.ServiceCheckbox}\n                  onClick={generateServiceHandler(services.AUDIUS)}\n                  style={(search.service === services.AUDIUS && {border: \"2px solid rgba(126, 27, 204, 1)\"}) || {}}>\n            <div className={styles.ServiceCheckboxLogoContainer}>{iconAudius}</div>\n          </button>\n\n          <button className={styles.ServiceCheckbox}\n                  onClick={generateServiceHandler(services.JUKEBOX_RADIO)}\n                  style={(search.service === services.JUKEBOX_RADIO && {border: \"2px solid rgba(0, 71, 255, 1)\"}) || {}}>\n            <div className={styles.ServiceCheckboxLogoContainer}>{iconLogoAlt}</div>\n          </button>\n        </div>\n\n        <div className={styles.SearchResults}>\n          {searchResults.map((value, index) => (\n            <SearchResult key={value.uuid} data={value} addToQueue={addToQueue}></SearchResult>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  search: state.search,\n});\n\n\nexport default connect(mapStateToProps)(SearchApp);\n","import React from 'react';\n\nimport { connect } from 'react-redux';\n\nimport * as services from '../../../config/services';\nimport styles from './MiniNotes.module.css';\n\n\n\nfunction MiniNotes(props) {\n\n  const notesApp = props.notesApp,\n        stream = props.stream,\n        playback = props.playback,\n        queueMap = props.queueMap,\n        content = notesApp.store[stream.uuid],\n        nowPlaying = queueMap[playback.nowPlayingUuid];\n\n  const handleTextChange = function(e) {\n    const nextContent = e.target.value;\n    props.dispatch({\n      type: \"notesApp/set\",\n      payload: { key: stream.uuid, value: nextContent },\n    });\n  }\n\n  let extraStyle;\n  if((nowPlaying?.track?.service === services.YOUTUBE || nowPlaying?.track?.service === services.APPLE_MUSIC) && nowPlaying?.track?.format === 'video') {\n    if(stream.nowPlayingUuid === playback.nowPlayingUuid) {\n      extraStyle = {\n        marginTop: \"205px\",\n      };\n    } else {\n      extraStyle = {};\n    }\n  } else {\n    extraStyle = {};\n  }\n\n\n  return (\n    <div className={styles.MiniNotes} style={extraStyle}>\n      <h3>Notes</h3>\n      <textarea value={content}\n                spellCheck=\"false\"\n                onChange={handleTextChange}>\n      </textarea>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  notesApp: state.notesApp,\n  stream: state.stream,\n  playback: state.playback,\n  queueMap: state.queueMap,\n});\n\n\nexport default connect(mapStateToProps)(MiniNotes);\n","import { ENDPOINT_TRACK_CREATE } from '../../../config/api'\nimport { TYPE_POST } from '../../../config/global'\nimport { fetchBackend } from '../../../utils/network'\n\n/*\n * Fetches...\n */\nexport const fetchCreateTrack = async (audioFile, imageFile, trackName, artistName, albumName) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_TRACK_CREATE,\n    {\n      audioFile: audioFile,\n      imageFile: imageFile,\n      trackName: trackName,\n      artistName: artistName,\n      albumName: albumName,\n    },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React, { useState } from \"react\";\nimport { connect } from 'react-redux';\n\nimport styles from './Upload.module.css';\n\nimport { fetchCreateTrack } from './network';\n\nimport { iconBack } from './../../../icons';\n\n\nfunction Upload(props) {\n\n  /*\n   * 🏗\n   */\n  const [inputKey, setInputKey] = useState(0);\n\n  const [isDisabled, setIsDisabled] = useState(false);\n  const [audioFile, setAudioFile] = useState('');\n  const [imageFile, setImageFile] = useState('');\n  const [trackName, setTrackName] = useState('');\n  const [artistName, setArtistName] = useState('');\n  const [albumName, setAlbumName] = useState('');\n\n  const closeModal = function() {\n    props.dispatch({ type: \"modal/close\" });\n  }\n\n  /*\n   * When the user initializes a login attempt.\n   */\n  const handleSubmit = async function() {\n\n    // Hit the server.\n    setIsDisabled(true);\n    await fetchCreateTrack(\n      audioFile,\n      imageFile,\n      trackName,\n      artistName,\n      albumName,\n    );\n\n    // Reset the form.\n    setIsDisabled(false);\n    setInputKey(prev => prev + 2);\n    setTrackName('');\n    setArtistName('');\n    setAlbumName('');\n\n    // Close the modal.\n    props.dispatch({ type: 'modal/close' });\n  }\n\n  return (\n    <>\n      <button className={styles.ModalClose}\n              onClick={closeModal}>\n        {iconBack}\n      </button>\n\n      <div className={styles.ModalContent}>\n        <h3 className={styles.Title}>Upload</h3>\n\n        <label className={styles.FormLabel}>\n          <span>Audio file</span>\n          <input type=\"file\"\n                 name=\"audioFile\"\n                 onChange={(e) => {setAudioFile(e.target.files[0])}}\n                 disabled={isDisabled}\n                 className={styles.FileInput}\n                 key={inputKey} />\n        </label>\n\n        <label className={styles.FormLabel}>\n          <span>Image file</span>\n          <input type=\"file\"\n                 name=\"imageFile\"\n                 onChange={(e) => {setImageFile(e.target.files[0])}}\n                 disabled={isDisabled}\n                 className={styles.FileInput}\n                 key={inputKey + 1} />\n        </label>\n\n        <label className={styles.FormLabel}>\n          <span>Track name</span>\n          <input type=\"text\"\n                 name=\"trackName\"\n                 placeholder=\"Track name\"\n                 value={trackName}\n                 spellCheck=\"false\"\n                 onChange={(e) => {setTrackName(e.target.value)}}\n                 disabled={isDisabled} />\n        </label>\n\n        <label className={styles.FormLabel}>\n          <span>Artist name</span>\n          <input type=\"text\"\n                 name=\"artistName\"\n                 placeholder=\"Artist name\"\n                 value={artistName}\n                 spellCheck=\"false\"\n                 onChange={(e) => {setArtistName(e.target.value)}}\n                 disabled={isDisabled} />\n        </label>\n\n        <label className={styles.FormLabel}>\n          <span>Album name</span>\n          <input type=\"text\"\n                 name=\"albumName\"\n                 placeholder=\"Album name\"\n                 value={albumName}\n                 spellCheck=\"false\"\n                 onChange={(e) => {setAlbumName(e.target.value)}}\n                 disabled={isDisabled} />\n        </label>\n\n        <button type=\"submit\"\n                className={styles.FormSubmit}\n                onClick={handleSubmit}\n                disabled={isDisabled}>\n          Submit\n        </button>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => ({});\n\n\nexport default connect(mapStateToProps)(Upload);\n","import {\n  ENDPOINT_MARKER_CREATE,\n  ENDPOINT_MARKER_DELETE,\n} from '../../../../config/api';\nimport { TYPE_POST } from '../../../../config/global';\nimport { fetchBackend } from '../../../../utils/network';\n\n\n/*\n * Creates a marker. The queue context is passed so the Redux state may be\n * updated.\n */\nexport const fetchStreamMarkerCreate = async (trackUuid, timestampMilliseconds, queueUuid, name) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_MARKER_CREATE,\n    { trackUuid, timestampMilliseconds, queueUuid, name }\n  );\n  return await response.json();\n};\n\n\n/*\n * Deletes a marker. The queue context is passed so the Redux state may be\n * updated.\n */\nexport const fetchStreamMarkerDelete = async (markerUuid, queueUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_MARKER_DELETE,\n    { markerUuid, queueUuid }\n  );\n  return await response.json();\n};\n","import {\n  ENDPOINT_QUEUE_INTERVAL_CREATE,\n  ENDPOINT_QUEUE_INTERVAL_DELETE,\n  ENDPOINT_QUEUE_INTERVAL_STOP,\n} from '../../../../config/api';\nimport { TYPE_POST } from '../../../../config/global';\nimport { fetchBackend } from '../../../../utils/network';\n\n/*\n * Fetches...\n */\nexport const fetchStreamQueueIntervalCreate = async (queueUuid, lowerBoundMarkerUuid, upperBoundMarkerUuid, purpose, repeatCount, parentQueueUuid) => {\n  const stemVocals = true,\n        stemDrums = true,\n        stemBass = true,\n        stemPiano = true,\n        stemOther = true;\n\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_QUEUE_INTERVAL_CREATE,\n    {\n      queueUuid, lowerBoundMarkerUuid, upperBoundMarkerUuid, purpose, repeatCount, parentQueueUuid,\n      stemVocals, stemDrums, stemBass, stemPiano, stemOther,\n    }\n  );\n  return await response.json();\n};\n\n\n/*\n * Fetches...\n */\nexport const fetchStreamQueueIntervalStop = async (queueUuid, markerUuid, parentQueueUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_QUEUE_INTERVAL_STOP,\n    { queueUuid, markerUuid, parentQueueUuid }\n  );\n  return await response.json();\n};\n\n\n/*\n * Fetches...\n */\nexport const fetchStreamQueueIntervalDelete = async (queueIntervalUuid, queueUuid, parentQueueUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_QUEUE_INTERVAL_DELETE,\n    { queueIntervalUuid, queueUuid, parentQueueUuid }\n  );\n  return await response.json();\n};\n","export const iconForward1000 = (\n  <svg width=\"23\" height=\"21\" viewBox=\"0 0 23 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M21.4202 2.04883V8.14679H15.3223\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M18.8691 13.2272C18.2085 15.0971 16.958 16.7017 15.306 17.7991C13.6541 18.8965 11.6903 19.4273 9.71042 19.3115C7.73057 19.1957 5.842 18.4395 4.3293 17.157C2.8166 15.8744 1.76172 14.135 1.32363 12.2007C0.885529 10.2665 1.08795 8.24227 1.90039 6.43308C2.71283 4.6239 4.09126 3.12778 5.82798 2.17017C7.56469 1.21256 9.5656 0.845346 11.5292 1.12386C13.4927 1.40238 15.3126 2.31154 16.7145 3.71434L21.4201 8.14553\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M9.408 12.36V13H6.536V12.36H7.672V9.24C7.61333 9.32 7.50667 9.41067 7.352 9.512C7.19733 9.608 7.02933 9.69067 6.848 9.76C6.66667 9.82933 6.50667 9.864 6.368 9.864V9.192C6.48533 9.192 6.61333 9.16 6.752 9.096C6.896 9.02667 7.03467 8.94667 7.168 8.856C7.30133 8.76533 7.41333 8.68 7.504 8.6C7.6 8.52 7.656 8.464 7.672 8.432H8.392V12.36H9.408ZM11.6016 13.08C11.2549 13.08 10.9296 13.024 10.6256 12.912C10.3216 12.7947 10.0602 12.6213 9.84156 12.392L10.1136 11.896C10.3536 12.12 10.5936 12.28 10.8336 12.376C11.0736 12.472 11.3189 12.52 11.5696 12.52C11.8576 12.52 12.0922 12.4667 12.2736 12.36C12.4549 12.248 12.5456 12.0853 12.5456 11.872C12.5456 11.7173 12.4976 11.6027 12.4016 11.528C12.3109 11.4533 12.1802 11.392 12.0096 11.344C11.8389 11.2907 11.6362 11.232 11.4016 11.168C10.9696 11.0453 10.6389 10.9013 10.4096 10.736C10.1856 10.5653 10.0736 10.3173 10.0736 9.992C10.0736 9.59733 10.2229 9.29333 10.5216 9.08C10.8256 8.86133 11.2122 8.752 11.6816 8.752C12.3109 8.752 12.8069 8.94133 13.1696 9.32L12.8496 9.808C12.5242 9.472 12.1216 9.304 11.6416 9.304C11.4976 9.304 11.3562 9.32267 11.2176 9.36C11.0789 9.392 10.9642 9.45333 10.8736 9.544C10.7829 9.62933 10.7376 9.752 10.7376 9.912C10.7376 10.1093 10.8176 10.2507 10.9776 10.336C11.1376 10.4213 11.3722 10.5093 11.6816 10.6C11.9962 10.6907 12.2682 10.7813 12.4976 10.872C12.7322 10.9627 12.9136 11.08 13.0416 11.224C13.1696 11.368 13.2336 11.568 13.2336 11.824C13.2336 12.2187 13.0842 12.528 12.7856 12.752C12.4869 12.9707 12.0922 13.08 11.6016 13.08Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconForward100 = (\n  <svg width=\"24\" height=\"21\" viewBox=\"0 0 24 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M22.1605 2.04883V8.14679H16.0625\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M19.6094 13.2272C18.9487 15.0971 17.6982 16.7017 16.0463 17.7991C14.3944 18.8965 12.4305 19.4273 10.4507 19.3115C8.47081 19.1957 6.58224 18.4395 5.06954 17.157C3.55683 15.8744 2.50196 14.135 2.06386 12.2007C1.62576 10.2665 1.82819 8.24227 2.64062 6.43308C3.45306 4.6239 4.8315 3.12778 6.56821 2.17017C8.30493 1.21256 10.3058 0.845346 12.2694 1.12386C14.233 1.40238 16.0528 2.31154 17.4548 3.71434L22.1604 8.14553\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M6.512 13V12.104H7.104V13H6.512ZM11.0252 12.36V13H8.15319V12.36H9.28919V9.24C9.23052 9.32 9.12385 9.41067 8.96919 9.512C8.81452 9.608 8.64652 9.69067 8.46519 9.76C8.28385 9.82933 8.12385 9.864 7.98519 9.864V9.192C8.10252 9.192 8.23052 9.16 8.36919 9.096C8.51319 9.02667 8.65185 8.94667 8.78519 8.856C8.91852 8.76533 9.03052 8.68 9.12119 8.6C9.21719 8.52 9.27319 8.464 9.28919 8.432H10.0092V12.36H11.0252ZM13.2188 13.08C12.8721 13.08 12.5468 13.024 12.2428 12.912C11.9388 12.7947 11.6774 12.6213 11.4588 12.392L11.7308 11.896C11.9708 12.12 12.2108 12.28 12.4508 12.376C12.6908 12.472 12.9361 12.52 13.1868 12.52C13.4748 12.52 13.7094 12.4667 13.8908 12.36C14.0721 12.248 14.1628 12.0853 14.1628 11.872C14.1628 11.7173 14.1148 11.6027 14.0188 11.528C13.9281 11.4533 13.7974 11.392 13.6268 11.344C13.4561 11.2907 13.2534 11.232 13.0188 11.168C12.5868 11.0453 12.2561 10.9013 12.0268 10.736C11.8028 10.5653 11.6908 10.3173 11.6908 9.992C11.6908 9.59733 11.8401 9.29333 12.1388 9.08C12.4428 8.86133 12.8294 8.752 13.2988 8.752C13.9281 8.752 14.4241 8.94133 14.7868 9.32L14.4668 9.808C14.1414 9.472 13.7388 9.304 13.2588 9.304C13.1148 9.304 12.9734 9.32267 12.8348 9.36C12.6961 9.392 12.5814 9.45333 12.4908 9.544C12.4001 9.62933 12.3548 9.752 12.3548 9.912C12.3548 10.1093 12.4348 10.2507 12.5948 10.336C12.7548 10.4213 12.9894 10.5093 13.2988 10.6C13.6134 10.6907 13.8854 10.7813 14.1148 10.872C14.3494 10.9627 14.5308 11.08 14.6588 11.224C14.7868 11.368 14.8508 11.568 14.8508 11.824C14.8508 12.2187 14.7014 12.528 14.4028 12.752C14.1041 12.9707 13.7094 13.08 13.2188 13.08Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconBackward100 = (\n  <svg width=\"24\" height=\"21\" viewBox=\"0 0 24 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1.83953 2.04883V8.14679H7.9375\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M4.39063 13.2272C5.05128 15.0971 6.30179 16.7017 7.95372 17.7991C9.60565 18.8965 11.5695 19.4273 13.5493 19.3115C15.5292 19.1957 17.4178 18.4395 18.9305 17.157C20.4432 15.8744 21.498 14.135 21.9361 12.2007C22.3742 10.2665 22.1718 8.24227 21.3594 6.43308C20.5469 4.6239 19.1685 3.12778 17.4318 2.17017C15.6951 1.21256 13.6942 0.845346 11.7306 1.12386C9.76702 1.40238 7.94715 2.31154 6.54524 3.71434L1.83965 8.14553\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M9.512 13V12.104H10.104V13H9.512ZM14.0252 12.36V13H11.1532V12.36H12.2892V9.24C12.2305 9.32 12.1239 9.41067 11.9692 9.512C11.8145 9.608 11.6465 9.69067 11.4652 9.76C11.2839 9.82933 11.1239 9.864 10.9852 9.864V9.192C11.1025 9.192 11.2305 9.16 11.3692 9.096C11.5132 9.02667 11.6519 8.94667 11.7852 8.856C11.9185 8.76533 12.0305 8.68 12.1212 8.6C12.2172 8.52 12.2732 8.464 12.2892 8.432H13.0092V12.36H14.0252ZM16.2188 13.08C15.8721 13.08 15.5468 13.024 15.2428 12.912C14.9388 12.7947 14.6774 12.6213 14.4588 12.392L14.7308 11.896C14.9708 12.12 15.2108 12.28 15.4508 12.376C15.6908 12.472 15.9361 12.52 16.1868 12.52C16.4748 12.52 16.7094 12.4667 16.8908 12.36C17.0721 12.248 17.1628 12.0853 17.1628 11.872C17.1628 11.7173 17.1148 11.6027 17.0188 11.528C16.9281 11.4533 16.7974 11.392 16.6268 11.344C16.4561 11.2907 16.2534 11.232 16.0188 11.168C15.5868 11.0453 15.2561 10.9013 15.0268 10.736C14.8028 10.5653 14.6908 10.3173 14.6908 9.992C14.6908 9.59733 14.8401 9.29333 15.1388 9.08C15.4428 8.86133 15.8294 8.752 16.2988 8.752C16.9281 8.752 17.4241 8.94133 17.7868 9.32L17.4668 9.808C17.1414 9.472 16.7388 9.304 16.2588 9.304C16.1148 9.304 15.9734 9.32267 15.8348 9.36C15.6961 9.392 15.5814 9.45333 15.4908 9.544C15.4001 9.62933 15.3548 9.752 15.3548 9.912C15.3548 10.1093 15.4348 10.2507 15.5948 10.336C15.7548 10.4213 15.9894 10.5093 16.2988 10.6C16.6134 10.6907 16.8854 10.7813 17.1148 10.872C17.3494 10.9627 17.5308 11.08 17.6588 11.224C17.7868 11.368 17.8508 11.568 17.8508 11.824C17.8508 12.2187 17.7014 12.528 17.4028 12.752C17.1041 12.9707 16.7094 13.08 16.2188 13.08Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconBackward1000 = (\n  <svg width=\"23\" height=\"21\" viewBox=\"0 0 23 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1.57977 2.04883V8.14679H7.67773\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M4.13086 13.2272C4.79151 15.0971 6.04202 16.7017 7.69395 17.7991C9.34588 18.8965 11.3097 19.4273 13.2896 19.3115C15.2694 19.1957 17.158 18.4395 18.6707 17.157C20.1834 15.8744 21.2383 14.135 21.6764 12.2007C22.1145 10.2665 21.912 8.24227 21.0996 6.43308C20.2872 4.6239 18.9087 3.12778 17.172 2.17017C15.4353 1.21256 13.4344 0.845346 11.4708 1.12386C9.50725 1.40238 7.68739 2.31154 6.28548 3.71434L1.57988 8.14553\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M13.408 12.36V13H10.536V12.36H11.672V9.24C11.6133 9.32 11.5067 9.41067 11.352 9.512C11.1973 9.608 11.0293 9.69067 10.848 9.76C10.6667 9.82933 10.5067 9.864 10.368 9.864V9.192C10.4853 9.192 10.6133 9.16 10.752 9.096C10.896 9.02667 11.0347 8.94667 11.168 8.856C11.3013 8.76533 11.4133 8.68 11.504 8.6C11.6 8.52 11.656 8.464 11.672 8.432H12.392V12.36H13.408ZM15.6016 13.08C15.2549 13.08 14.9296 13.024 14.6256 12.912C14.3216 12.7947 14.0602 12.6213 13.8416 12.392L14.1136 11.896C14.3536 12.12 14.5936 12.28 14.8336 12.376C15.0736 12.472 15.3189 12.52 15.5696 12.52C15.8576 12.52 16.0922 12.4667 16.2736 12.36C16.4549 12.248 16.5456 12.0853 16.5456 11.872C16.5456 11.7173 16.4976 11.6027 16.4016 11.528C16.3109 11.4533 16.1802 11.392 16.0096 11.344C15.8389 11.2907 15.6362 11.232 15.4016 11.168C14.9696 11.0453 14.6389 10.9013 14.4096 10.736C14.1856 10.5653 14.0736 10.3173 14.0736 9.992C14.0736 9.59733 14.2229 9.29333 14.5216 9.08C14.8256 8.86133 15.2122 8.752 15.6816 8.752C16.3109 8.752 16.8069 8.94133 17.1696 9.32L16.8496 9.808C16.5242 9.472 16.1216 9.304 15.6416 9.304C15.4976 9.304 15.3562 9.32267 15.2176 9.36C15.0789 9.392 14.9642 9.45333 14.8736 9.544C14.7829 9.62933 14.7376 9.752 14.7376 9.912C14.7376 10.1093 14.8176 10.2507 14.9776 10.336C15.1376 10.4213 15.3722 10.5093 15.6816 10.6C15.9962 10.6907 16.2682 10.7813 16.4976 10.872C16.7322 10.9627 16.9136 11.08 17.0416 11.224C17.1696 11.368 17.2336 11.568 17.2336 11.824C17.2336 12.2187 17.0842 12.528 16.7856 12.752C16.4869 12.9707 16.0922 13.08 15.6016 13.08Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconPlay = (\n  <svg width=\"17\" height=\"23\" viewBox=\"0 0 17 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 1L16 11.5L1 22V1Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconPause = (\n  <svg width=\"17\" height=\"23\" viewBox=\"0 0 17 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 1V22M16 22V1\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconMiniCheckboxChecked = (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"1\" y=\"1\" width=\"18\" height=\"18\" stroke=\"#0047FF\" strokeWidth=\"2\"/>\n  <path d=\"M14.6155 6.92188L8.26938 13.845L5.38477 10.6981\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconMiniCheckboxUnchecked = (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"1\" y=\"1\" width=\"18\" height=\"18\" stroke=\"#BCBCBC\" strokeWidth=\"2\"/>\n  </svg>\n);\n","export const iconInstrumentMicrophone = (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect width=\"48\" height=\"48\" fill=\"white\" fill-opacity=\"0.01\"/>\n    <rect x=\"16\" y=\"4\" width=\"16\" height=\"28\" rx=\"8\" stroke=\"black\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    <path d=\"M10 21V24C10 31.732 16.268 38 24 38V38C31.732 38 38 31.732 38 24V21\" stroke=\"black\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    <path d=\"M24 5V11\" stroke=\"black\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    <path d=\"M16 16H21\" stroke=\"black\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    <path d=\"M27 16H32\" stroke=\"black\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    <path d=\"M16 22H21\" stroke=\"black\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    <path d=\"M27 22H32\" stroke=\"black\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    <path d=\"M24 38V44\" stroke=\"black\" stroke-width=\"4\"/>\n    <path d=\"M16 42C14.8954 42 14 42.8954 14 44C14 45.1046 14.8954 46 16 46V42ZM32 46C33.1046 46 34 45.1046 34 44C34 42.8954 33.1046 42 32 42V46ZM16 46L32 46V42L16 42V46Z\" fill=\"black\"/>\n  </svg>\n);\n\nexport const iconInstrumentDrums = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 32 32\"><path d=\"M 27.1875 5.09375 L 16.125 10.34375 C 15.804688 10.128906 15.414063 10 15 10 C 13.894531 10 13 10.894531 13 12 C 13 13.105469 13.894531 14 15 14 C 16.050781 14 16.921875 13.1875 17 12.15625 L 23.0625 9.28125 C 24.878906 10.046875 26 11.046875 26 12 C 26 13.886719 21.722656 16 16 16 C 10.277344 16 6 13.886719 6 12 C 6 10.113281 10.277344 8 16 8 C 16.171875 8 16.328125 7.996094 16.5 8 L 20.03125 6.34375 C 18.777344 6.132813 17.433594 6 16 6 C 9.160156 6 4 8.578125 4 12 L 4 22 C 4 22.988281 4.445313 23.894531 5.125 24.625 C 5.804688 25.355469 6.730469 25.945313 7.8125 26.4375 C 9.976563 27.421875 12.839844 28 16 28 C 19.160156 28 22.023438 27.421875 24.1875 26.4375 C 25.269531 25.945313 26.195313 25.355469 26.875 24.625 C 27.554688 23.894531 28 22.988281 28 22 L 28 12 C 28 10.523438 27.023438 9.210938 25.375 8.1875 L 28.03125 6.90625 Z M 6 15.40625 C 7.015625 16.171875 8.378906 16.800781 10 17.25 L 10 25.15625 C 9.5 25 9.042969 24.816406 8.625 24.625 C 7.71875 24.210938 7.027344 23.714844 6.59375 23.25 C 6.160156 22.785156 6 22.394531 6 22 Z M 26 15.40625 L 26 22 C 26 22.394531 25.839844 22.785156 25.40625 23.25 C 24.972656 23.714844 24.28125 24.210938 23.375 24.625 C 22.957031 24.816406 22.5 25 22 25.15625 L 22 17.25 C 23.621094 16.800781 24.984375 16.171875 26 15.40625 Z M 12 17.6875 C 13.242188 17.894531 14.582031 18 16 18 C 17.417969 18 18.757813 17.894531 20 17.6875 L 20 25.625 C 18.769531 25.855469 17.421875 26 16 26 C 14.578125 26 13.230469 25.855469 12 25.625 Z\"/></svg>\n);\n\nexport const iconInstrumentBass = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 32 32\"><path d=\"M 26.59375 3.0625 C 26.488281 3.0625 26.386719 3.113281 26.28125 3.21875 L 25.53125 3.96875 L 25.21875 3.65625 L 24.78125 4.0625 L 25.125 4.40625 L 24.6875 4.8125 L 24.375 4.5 L 23.9375 4.9375 L 24.25 5.25 L 23.53125 6 C 23.316406 6.214844 23.316406 6.410156 23.53125 6.625 L 19.34375 10.8125 C 18.410156 10.066406 17.414063 9.5 16.46875 9.21875 C 14.710938 8.699219 13.148438 9.074219 11.9375 10.28125 C 11.402344 10.816406 11.074219 11.46875 10.9375 12.25 C 10.71875 13.515625 9.601563 14.503906 8.28125 14.59375 C 6.839844 14.691406 5.574219 15.269531 4.625 16.21875 C 2.121094 18.722656 2.574219 23.265625 5.65625 26.34375 C 7.40625 28.09375 9.636719 29 11.6875 29 C 13.25 29 14.699219 28.457031 15.78125 27.375 C 16.730469 26.425781 17.308594 25.160156 17.40625 23.71875 C 17.496094 22.398438 18.453125 21.28125 19.71875 21.0625 C 20.5 20.925781 21.183594 20.597656 21.71875 20.0625 C 22.925781 18.855469 23.300781 17.289063 22.78125 15.53125 C 22.609375 14.945313 22.300781 14.347656 21.9375 13.75 L 20.46875 15.21875 C 20.625 15.519531 20.757813 15.808594 20.84375 16.09375 C 21.152344 17.132813 20.988281 17.980469 20.3125 18.65625 C 20.070313 18.894531 19.78125 19.027344 19.40625 19.09375 C 17.242188 19.46875 15.554688 21.367188 15.40625 23.59375 C 15.34375 24.542969 14.976563 25.363281 14.375 25.96875 C 12.648438 27.691406 9.394531 27.238281 7.09375 24.9375 C 4.792969 22.636719 4.308594 19.347656 6.03125 17.625 C 6.636719 17.023438 7.457031 16.65625 8.40625 16.59375 C 10.632813 16.445313 12.527344 14.757813 12.90625 12.59375 C 12.972656 12.21875 13.101563 11.929688 13.34375 11.6875 C 13.808594 11.222656 14.339844 11 14.96875 11 C 15.253906 11 15.582031 11.058594 15.90625 11.15625 C 16.535156 11.34375 17.238281 11.714844 17.90625 12.21875 L 14.5625 15.5625 C 14.382813 15.519531 14.195313 15.5 14 15.5 C 12.621094 15.5 11.5 16.621094 11.5 18 C 11.5 19.378906 12.621094 20.5 14 20.5 C 15.378906 20.5 16.5 19.378906 16.5 18 C 16.5 17.847656 16.464844 17.707031 16.4375 17.5625 L 25.53125 8.4375 C 25.746094 8.652344 25.972656 8.652344 26.1875 8.4375 L 26.9375 7.6875 L 27.25 8 L 27.65625 7.59375 L 27.34375 7.28125 L 27.78125 6.84375 L 28 7.28125 L 28.40625 6.84375 L 28.09375 6.53125 L 28.84375 5.78125 C 29.058594 5.566406 29.058594 5.339844 28.84375 5.125 L 26.9375 3.21875 C 26.832031 3.113281 26.699219 3.0625 26.59375 3.0625 Z M 26.5 4.28125 L 26.9375 4.71875 L 25 6.625 L 24.59375 6.21875 Z M 27.34375 5.03125 L 27.78125 5.46875 L 25.84375 7.375 L 25.4375 6.9375 Z M 9.09375 19.6875 L 7.6875 21.09375 L 10.90625 24.3125 L 12.3125 22.90625 Z\"/></svg>\n);\n\nexport const iconInstrumentPiano = (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M22 21C23.1046 21 24 20.1046 24 19V5C24 3.89543 23.1046 3 22 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H22ZM11 5H8.98486V13H7.98511V19H12V13H11V5ZM18.0151 19H22V5H19.0151V13H18.0151V19ZM17.0151 13H16.0151V5H14V13H13V19H17.0151V13ZM6.98511 19V13H5.98486V5H3L3 19H6.98511Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const iconInstrumentOther = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" id=\"mdi-music-note-plus\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17 9V12H14V14H17V17H19V14H22V12H19V9H17M9 3V13.55C8.41 13.21 7.73 13 7 13C4.79 13 3 14.79 3 17S4.79 21 7 21 11 19.21 11 17V7H15V3H9Z\" /></svg>\n);\n","\n/*\n *\n */\nexport const getMarkers = function(markerMap, trackUuid) {\n  if(!trackUuid) {\n    return [];\n  }\n  return Object.values(markerMap[trackUuid] || []);\n};\n\n/*\n * Markers have to be cleaned from their raw data state (from server).\n * Additional data needs to be added to them, calculated here (on the FE).\n *\n * NOTE: this is legacy code, probably should be cleaned up at some point!\n */\nexport const cleanMarkers = function(markers, queue, duration, position) {\n\n  // Firstly, sort\n  markers = markers.sort((a, b) => {\n    return a.timestampMilliseconds - b.timestampMilliseconds;\n  });\n\n  // Secondly, is there a force display?\n  const alreadyForceDisplay = !!markers.filter(m => m.forceDisplay).length;\n\n  let runningMark = 8;\n  for(let i=0; i < markers.length; i++) {\n    markers[i] = { ...markers[i] };\n\n    let pix = markers[i].timestampMilliseconds / duration * 100;\n    markers[i].styleLeft = `calc(${pix}% - ${runningMark}px)`;\n    runningMark += 0;\n\n    // Force display contextual marker\n    if(!alreadyForceDisplay) {\n      if(markers[i].timestampMilliseconds <= position) {\n        markers[i].forceDisplay = true;\n        if(i !== 0) {\n          markers[i - 1].forceDisplay = false;\n        }\n      } else {\n        markers[i].forceDisplay = false;\n      }\n    } else {\n      if(!markers[i].forceDisplay) {\n        markers[i].forceDisplay = false;\n      }\n    }\n\n    // Allow \"stop\"\n    if(markers[i].timestampMilliseconds > position + 5000) {\n      markers[i].stoppable = true;\n    } else {\n      markers[i].stoppable = false;\n    }\n\n    // Change styles for markers that are \"not playable\"\n    for(let j=0; j < queue.allIntervals.length; j++) {\n      const interval = queue.allIntervals[j],\n            notPlayable = (\n              interval.purpose === 'muted' &&\n              interval.startPosition <= markers[i].timestampMilliseconds &&\n              interval.endPosition > markers[i].timestampMilliseconds\n            );\n\n      markers[i].playable = true;\n      if(notPlayable) {\n        markers[i].playable = false;\n\n        // If this is the end of the song, do not allow \"stop\"\n        const playbackIntervals = queue.playbackIntervals,\n              endPosition = playbackIntervals[playbackIntervals.length - 1].endPosition,\n              forceStoppable = (\n                markers[i].timestampMilliseconds === endPosition ||\n                (\n                  interval.startPosition < markers[i].timestampMilliseconds &&\n                  interval.endPosition > markers[i].timestampMilliseconds\n                )\n              );\n        if(forceStoppable) {\n          markers[i].stoppable = false;\n        }\n        break;\n      }\n    }\n  }\n\n  return markers;\n}\n","import React from \"react\";\nimport { connect } from 'react-redux';\nimport {\n  fetchStreamMarkerCreate,\n} from './Marker/network';\nimport {\n  fetchStreamQueueIntervalCreate,\n} from './Interval/network';\nimport styles from './TrackDetail.module.css';\nimport {\n  iconMiniCheckboxChecked,\n  iconMiniCheckboxUnchecked,\n} from './icons';\nimport {\n  iconInstrumentMicrophone,\n  iconInstrumentDrums,\n  iconInstrumentBass,\n  iconInstrumentPiano,\n  iconInstrumentOther,\n} from './Interval/icons';\nimport { iconBack } from '../../../icons';\nimport * as services from '../../../config/services';\nimport * as tabs from '../../../config/tabs';\nimport * as motives from '../../../config/motives';\nimport * as progressBarUtils from '../../PlaybackApp/ProgressBar/utils';\nimport { getPositionMilliseconds } from '../../PlaybackApp/utils';\n\n\nfunction TrackDetail(props) {\n\n  /*\n   * 🏗\n   */\n  const playback = props.playback,\n        queueMap = props.queueMap,\n        markerMap = props.markerMap,\n        stream = props.stream,\n        nowPlaying = queueMap[playback.nowPlayingUuid],\n        trackDetail = props.trackDetail;\n\n  const { motive, tab } = trackDetail;\n\n  const intervalModificationsOptions = (\n    nowPlaying?.track?.service === services.JUKEBOX_RADIO ?\n    [{value: 'muted', name: 'Trim'}, {value: 'stems', name: 'Stem isolation'}] :\n    [{value: 'muted', name: 'Trim'}]\n  );\n\n  const stemChoices = [\n    {value: 'vocals', display: iconInstrumentMicrophone},\n    {value: 'drums', display: iconInstrumentDrums},\n    {value: 'bass', display: iconInstrumentBass},\n    {value: 'piano', display: iconInstrumentPiano},\n    {value: 'other', display: iconInstrumentOther},\n  ];\n\n  ////////////\n  // Marker form\n  const formMarkerTimestamp = trackDetail.form.marker.timestamp,\n        formMarkerName = trackDetail.form.marker.name;\n\n  ////////////\n  // Interval form\n  const modification = trackDetail.form.interval.modification,\n        lowerBoundMarkerUuid = trackDetail.form.interval.lowerBoundMarkerUuid,\n        upperBoundMarkerUuid = trackDetail.form.interval.upperBoundMarkerUuid;\n\n  ////////////\n  // Markers\n  let markers;\n  markers = progressBarUtils.getMarkers(markerMap, nowPlaying?.track?.uuid);\n\n  let duration, arr, position;\n\n  try {\n    duration = nowPlaying.track.durationMilliseconds || 0;\n    arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt);\n    position = arr[0];\n  } catch (e) {\n    duration = 1000;\n    position = 500;\n  }\n\n  markers = progressBarUtils.cleanMarkers(markers, nowPlaying, duration, position);\n\n  /*\n   * Close the modal.\n   */\n  const handleCloseModal = function() {\n    if(nowPlaying.status === \"played\") {\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: {\n          action: {\n            name: \"pause\",\n            status: \"kickoff\",\n            fake: true,\n          },\n        },\n      });\n    } else {\n      props.dispatch({ type: 'playback/clearSeekTimeoutId' });\n      props.dispatch({ type: \"main/clearAutoplayTimeoutId\" });\n    }\n\n    props.dispatch({ type: \"trackDetail/reset\" });\n\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"mount\",\n          stream: stream,\n          status: \"kickoff\",\n          fake: true,  // symbolic, not functional\n        },\n      },\n    });\n\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"closeModal\",\n          status: \"kickoff\",\n          fake: true,  // symbolic, not functional\n        },\n      },\n    });\n  }\n\n  /*\n   * Create a marker.\n   */\n  const createTrackMarker = async function() {\n    let markerTimestamp;\n    if(nowPlaying.track.service === services.YOUTUBE) {\n      markerTimestamp = Math.round(formMarkerTimestamp / 1000) * 1000;\n    } else {\n      markerTimestamp = formMarkerTimestamp\n    }\n    const responseJson = await fetchStreamMarkerCreate(\n      nowPlaying.track.uuid, markerTimestamp, nowPlaying.uuid, formMarkerName\n    );\n    await props.dispatch(responseJson.redux);\n    // Reset form\n    updateNewMarkerTimestamp('');\n    props.dispatch({\n      type: \"trackDetail/setForm\",\n      payload: { marker: { timestamp: '', name: '' } },\n    });\n    // Rerender\n    props.dispatch({\n      type: \"trackDetail/setMotive\",\n      payload: { motive: motives.LISTEN },\n    });\n  }\n\n  /*\n   * Create an interval. Right now, the only interval is \"muted.\"\n   */\n  const createQueueInterval = async function() {\n    const responseJson = await fetchStreamQueueIntervalCreate(\n      nowPlaying.uuid,\n      lowerBoundMarkerUuid,\n      upperBoundMarkerUuid,\n      modification,\n      null,\n      nowPlaying.parentUuid,\n    );\n    await props.dispatch(responseJson.redux);\n    // Reset form\n    props.dispatch({\n      type: \"trackDetail/setForm\",\n      payload: {\n        interval: { lowerBoundMarkerUuid: '', upperBoundMarkerUuid: '' }\n      },\n    });\n    // Rerender\n    props.dispatch({\n      type: \"trackDetail/setMotive\",\n      payload: { motive: motives.LISTEN },\n    });\n  }\n\n  /*\n   * Small wrapper function which takes the current marker position and cleans\n   * it to a valid position timestamp.\n   */\n  const updateNewMarkerTimestamp = function(positionMillisecondsRaw) {\n    let positionMilliseconds;\n    if(!positionMillisecondsRaw) {\n      try {\n        const arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt);\n        positionMilliseconds = arr[0];\n      } catch (e) {\n        positionMilliseconds = 0;\n      }\n    } else {\n      positionMilliseconds = positionMillisecondsRaw;\n    }\n    if(nowPlaying.track.service === services.YOUTUBE) {\n      positionMilliseconds = Math.round(positionMilliseconds / 1000) * 1000;\n    }\n    props.dispatch({\n      type: \"trackDetail/setForm\",\n      payload: { marker: { timestamp: positionMilliseconds } },\n    });\n  }\n\n  /*\n   * Tab button: show markers UI\n   */\n  const showMarkers = function() {\n    props.dispatch({\n      type: \"trackDetail/setTab\",\n      payload: { tab: tabs.MARKERS },\n    });\n  }\n\n  /*\n   * Tab button: show markers UI\n   */\n  const showIntervals = function() {\n    props.dispatch({\n      type: \"trackDetail/setTab\",\n      payload: { tab: tabs.INTERVALS },\n    });\n  }\n\n  /*\n   * Motive button: show listen UI\n   */\n  const handleMotiveListen = function () {\n    props.dispatch({\n      type: \"trackDetail/setMotive\",\n      payload: { motive: motives.LISTEN },\n    });\n  }\n\n  /*\n   * Motive button: show create UI\n   */\n  const handleMotiveCreate = function () {\n    props.dispatch({\n      type: \"trackDetail/setMotive\",\n      payload: { motive: motives.CREATE },\n    });\n    if(tab === tabs.MARKERS) {\n      updateNewMarkerTimestamp();\n    }\n  }\n\n  /*\n   * Motive button: show delete UI\n   */\n  const handleMotiveDelete = function () {\n    if(tab === tabs.INTERVALS && nowPlaying.status === \"played\") {\n      pause();\n    }\n    props.dispatch({\n      type: \"trackDetail/setMotive\",\n      payload: { motive: motives.DELETE },\n    });\n  }\n\n  /*\n   * Handle...\n   */\n  const handleMarkerTimestamp = function(e) {\n    props.dispatch({\n      type: \"trackDetail/setForm\",\n      payload: { marker: { timestamp: e.target.value } },\n    });\n  }\n\n  /*\n   * Handle...\n   */\n  const handleMarkerName = function(e) {\n    props.dispatch({\n      type: \"trackDetail/setForm\",\n      payload: { marker: { name: e.target.value } },\n    });\n  }\n\n  /*\n   * Handle...\n   */\n  const handleModification = function(e) {\n    props.dispatch({\n      type: \"trackDetail/setForm\",\n      payload: { interval: { modification: e.target.value } },\n    });\n  }\n\n  /*\n   * Handle...\n   */\n  const handleLowerBoundMarker = function(e) {\n    props.dispatch({\n      type: \"trackDetail/setForm\",\n      payload: { interval: { lowerBoundMarkerUuid: e.target.value } },\n    });\n  }\n\n  /*\n   * Handle\n   */\n  const handleUpperBoundMarker = function(e) {\n    props.dispatch({\n      type: \"trackDetail/setForm\",\n      payload: { interval: { upperBoundMarkerUuid: e.target.value } },\n    });\n  }\n\n  const pause = function() {\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"pause\",\n          status: \"kickoff\",\n          fake: true,\n        },\n      },\n    });\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <>\n      <button className={styles.CloseModal}\n              onClick={handleCloseModal}>\n        {iconBack}\n      </button>\n\n      <div className={styles.ModalContent}>\n\n        <div className={styles.QueueName}>\n          {nowPlaying?.track?.name}\n        </div>\n\n        <div className={styles.TabButtonContainer}>\n          <button className={styles[tab === tabs.MARKERS ? \"TabButtonActive\": \"TabButton\"]}\n                  onClick={showMarkers}>\n            Markers\n          </button>\n          <button className={styles[tab === tabs.INTERVALS ? \"TabButtonActive\": \"TabButton\"]}\n                  onClick={showIntervals}>\n            Intervals\n          </button>\n        </div>\n\n        <div className={styles.MotiveContainer}>\n          <label className={styles.MotiveCheckboxContainer}>\n            <button onClick={handleMotiveListen}>\n              {motive === \"listen\" ? iconMiniCheckboxChecked : iconMiniCheckboxUnchecked}\n            </button>\n            <span style={(motive !== \"listen\" && {color: \"#BCBCBC\"}) || {}}>\n              Listen\n            </span>\n          </label>\n          <label className={styles.MotiveCheckboxContainer}>\n            <button onClick={handleMotiveCreate}>\n              {motive === \"create\" ? iconMiniCheckboxChecked : iconMiniCheckboxUnchecked}\n            </button>\n            <span style={(motive !== \"create\" && {color: \"#BCBCBC\"}) || {}}>\n              Create\n            </span>\n          </label>\n          <label className={styles.MotiveCheckboxContainer}>\n            <button onClick={handleMotiveDelete}>\n              {motive === \"delete\" ? iconMiniCheckboxChecked : iconMiniCheckboxUnchecked}\n            </button>\n            <span style={(motive !== \"delete\" && {color: \"#BCBCBC\"}) || {}}>\n              Delete\n            </span>\n          </label>\n        </div>\n\n        {tab === tabs.MARKERS && motive === \"create\" &&\n          <div className={styles.Form}>\n            <label className={styles.FormLabel}>\n              <span>\n                Marker Timestamp\n              </span>\n              <input className={styles.FormInput}\n                     type=\"text\"\n                     value={formMarkerTimestamp}\n                     onChange={handleMarkerTimestamp} />\n            </label>\n\n            <label className={styles.FormLabel}>\n              <span>\n                Marker Name\n              </span>\n              <input className={styles.FormInput}\n                     type=\"text\"\n                     value={formMarkerName}\n                     onChange={handleMarkerName} />\n            </label>\n\n            <button className={styles.FormSubmit}\n                    disabled={!(formMarkerTimestamp && formMarkerName)}\n                    onClick={createTrackMarker}>\n              Create\n            </button>\n          </div>\n        }\n\n        {tab === tabs.INTERVALS && motive === \"create\" &&\n          <div className={styles.Form}>\n            <label className={styles.FormLabel}>\n              <span>\n                Modification\n              </span>\n              <select className={styles.FormSelect}\n                      value={modification}\n                      onChange={handleModification}>\n                {intervalModificationsOptions.map((value, index) => (\n                  <option key={index} value={value.value}>{value.name}</option>\n                ))}\n              </select>\n            </label>\n\n            {modification === 'muted' &&\n              <>\n                <label className={styles.FormLabel}>\n                  <span>\n                    Start Marker\n                  </span>\n                  <select className={styles.FormSelect}\n                          value={lowerBoundMarkerUuid}\n                          onChange={handleLowerBoundMarker}>\n                    <option value={'null'}>Beginning</option>\n                    {markers.map((value, index) => (\n                      <option key={index} value={value.uuid}>{value.name}</option>\n                    ))}\n                  </select>\n                </label>\n\n                <label className={styles.FormLabel}>\n                  <span>\n                    End Marker\n                  </span>\n                  <select className={styles.FormSelect}\n                          value={upperBoundMarkerUuid}\n                          onChange={handleUpperBoundMarker}>\n                    {markers.map((value, index) => (\n                      <option key={index} value={value.uuid}>{value.name}</option>\n                    ))}\n                    <option value={'null'}>End</option>\n                  </select>\n                </label>\n              </>\n            }\n\n            {modification === 'stems' &&\n            <label className={styles.FormLabel}>\n              <span>\n                Stems\n              </span>\n              {stemChoices.map((value, index) => (\n                <button key={index} className={styles.StemCheckbox}>{value.display}</button>\n              ))}\n            </label>\n            }\n\n            <button className={styles.FormSubmit}\n                    onClick={createQueueInterval}>\n              Create\n            </button>\n          </div>\n        }\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  markerMap: state.markerMap,\n  stream: state.stream,\n  playback: state.playback,\n  queueMap: state.queueMap,\n  trackDetail: state.trackDetail,\n});\n\nexport default connect(mapStateToProps)(TrackDetail);\n","import React, { useState } from \"react\";\nimport { connect } from 'react-redux';\nimport { fetchUpdateUserSettings } from './network';\nimport styles from './UserSettings.module.css';\nimport { iconBack } from './../../../icons';\n\n\nfunction UserSettings(props) {\n\n  /*\n   * 🏗\n   */\n  const userSettings = props.userSettings;\n\n  const [controlsEnabled, setControlsEnabled] = useState(true);\n\n  const closeModal = function() {\n    props.dispatch({ type: \"modal/close\" });\n  }\n\n  const handleAppleMusic = function() {\n    const music = window.MusicKit.getInstance();\n    music.authorize();\n  }\n\n  function updateIdleQueue(event) {\n    setControlsEnabled(false);\n    props.dispatch({\n      type: 'userSettings/update',\n      payload: { idleQueue: event.target.checked },\n    });\n    fetchUpdateUserSettings('idle_after_now_playing', event.target.checked);\n    setControlsEnabled(true);\n  }\n\n  function updateSpeakVoice(event) {\n    setControlsEnabled(false);\n    props.dispatch({\n      type: 'userSettings/update',\n      payload: { speakVoice: event.target.checked },\n    });\n    fetchUpdateUserSettings('mute_voice_recordings', event.target.checked);\n    setControlsEnabled(true);\n  }\n\n  function updateFocusMode(event) {\n    setControlsEnabled(false);\n    props.dispatch({\n      type: 'userSettings/update',\n      payload: { focusMode: event.target.checked },\n    });\n    fetchUpdateUserSettings('focus_mode', event.target.checked);\n    setControlsEnabled(true);\n  }\n\n  return (\n    <>\n      <button className={styles.ModalClose}\n              onClick={closeModal}>\n        {iconBack}\n      </button>\n\n      <div className={styles.ModalContent}>\n        <h3 className={styles.Title}>\n          Settings\n        </h3>\n\n        <label className={styles.FormLabel}>\n          <span>Spotify Premium</span>\n          <a href={userSettings.spotify.authorizationUrl}>Connect</a>\n        </label>\n\n        <label className={styles.FormLabel}>\n          <span>Apple Music</span>\n          <button onClick={handleAppleMusic}>Connect</button>\n        </label>\n\n        <label className={styles.FormLabel}>\n          <span>Idle after queue</span>\n          <input type=\"checkbox\" checked={userSettings.idleQueue} onChange={updateIdleQueue} disabled={!controlsEnabled} />\n        </label>\n\n        <label className={styles.FormLabel}>\n          <span>Speak voice recordings</span>\n          <input type=\"checkbox\" checked={userSettings.speakVoice} onChange={updateSpeakVoice} disabled={!controlsEnabled} />\n        </label>\n\n        <label className={styles.FormLabel}>\n          <span>Focus mode</span>\n          <input type=\"checkbox\" checked={userSettings.focusMode} onChange={updateFocusMode} disabled={!controlsEnabled} />\n        </label>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  userSettings: state.userSettings\n});\n\nexport default connect(mapStateToProps)(UserSettings);\n","import React, { useState, useEffect } from \"react\";\n\nimport { connect } from 'react-redux';\n\nimport { fetchTextCommentCreate } from '../../FeedApp/network';\nimport { iconBack } from './../../../icons';\nimport * as formats from './../../../config/formats';\nimport TheoryNotation from '../../TheoryNotation/TheoryNotation';\n\nimport styles from './NotationCompose.module.css';\n\n\nfunction NotationCompose(props) {\n\n  /*\n   * 🏗\n   */\n\n  // Unpack Redux state\n  const { feedApp } = props;\n\n  // Convenience values\n  const { trackUuid, position } = feedApp.textComment;\n\n  const [isDisabled, setIsDisabled] = useState(false);\n  const [text, setText] = useState('');\n\n  const closeModal = function() {\n    props.dispatch({ type: \"modal/close\" });\n  }\n\n  /*\n   * When a user submits a new comment.\n   */\n  const createABCNotation = async function() {\n    setIsDisabled(true);\n\n    const responseJson = await fetchTextCommentCreate(\n      text, formats.ABC_NOTATION, trackUuid, position\n    );\n    props.dispatch(responseJson.redux);\n\n    closeModal();\n    setText('');\n    setIsDisabled(false);\n\n    props.dispatch({\n      type: \"feedApp/setTextComment\",\n      payload: { textComment: { text: \"\" } },\n    });\n\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"play\",\n          timestampMilliseconds: feedApp.textComment.position,\n          status: \"kickoff\",\n          fake: { api: false },\n        },\n      },\n    });\n  }\n\n  /*\n   * Update the text on text change so the ABC Notation rendering can\n   * re-render.\n   */\n  const handleTextChange = function(e) {\n    setText(e.target.value);\n  }\n\n  useEffect(() => {\n    props.dispatch({\n      type: \"feedApp/setTextComment\",\n      payload: { textComment: { text: \"Notation\", trackUuid, position } },\n    });\n  // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <button className={styles.CloseModal}\n              onClick={closeModal}\n              disabled={isDisabled}>\n        {iconBack}\n      </button>\n\n      <div className={styles.ContentContainer}>\n        <div className={styles.NotationContainer}>\n          <h4>\n            Notation\n          </h4>\n          <textarea type=\"text\"\n                    name=\"text\"\n                    placeholder=\"text\"\n                    value={text}\n                    spellCheck=\"false\"\n                    onChange={handleTextChange}\n                    disabled={isDisabled} />\n        </div>\n\n        <div className={styles.RenderingContainer}>\n          <h4>\n            Rendering\n          </h4>\n          <div className={styles.RenderingWrapper}>\n            <TheoryNotation text={text} />\n          </div>\n          <button onClick={createABCNotation}\n                  disabled={isDisabled}>\n            Post\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  feedApp: state.feedApp,\n});\n\n\nexport default connect(mapStateToProps)(NotationCompose);\n","import React from \"react\";\n\nimport { connect } from 'react-redux';\n\nimport { iconSpotify, iconYouTube, iconAppleMusic, iconAudius26, iconFolder } from '../../../icons';\nimport * as services from '../../../config/services';\nimport styles from './Welcome.module.css';\n\n\nfunction Welcome(props) {\n\n  const userSettings = props.userSettings;\n\n  const generateServiceHandler = function(service) {\n    return function() {\n      props.dispatch({\n        type: 'search/setService',\n        payload: { service },\n      });\n      window.location.href = '/app/search';\n    }\n  }\n\n  // lol, for fun, find what is wrong with this code\n  let appleMusicEnabled = false;\n  try {\n    if(window.MusicKit.getInstance().musicUserToken) {\n      appleMusicEnabled(true);\n    }\n  } catch {\n    // pass\n  } finally {\n    // pass\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.WelcomeContainer}>\n      <div className={styles.WelcomeHeader}>\n        <h2>Welcome</h2>\n        <h5>From where would you like to begin?</h5>\n      </div>\n\n      <div className={styles.PlaybackOptionContainer}>\n\n        <div className={styles.PlaybackOption}\n                onClick={generateServiceHandler(services.SPOTIFY)}\n                disabled={!userSettings}>\n          <div className={styles.PlaybackOptionLogo}>\n            {iconSpotify}\n          </div>\n          <div className={styles.PlaybackOptionService}>\n            Spotify\n          </div>\n          <div className={styles.PlaybackOptionDescription}>\n            Connect your Spotify Premium account\n          </div>\n        </div>\n\n        <div className={styles.PlaybackOption}\n             onClick={generateServiceHandler(services.YOUTUBE)}>\n          <div className={styles.PlaybackOptionLogo}>\n            {iconYouTube}\n          </div>\n          <div className={styles.PlaybackOptionService}>\n            YouTube\n          </div>\n          <div className={styles.PlaybackOptionDescription}>\n            Free access to the YouTube catalog\n          </div>\n        </div>\n\n        <div className={styles.PlaybackOption}\n                onClick={generateServiceHandler(services.APPLE_MUSIC)}>\n          <div className={styles.PlaybackOptionLogo}>\n            {iconAppleMusic}\n          </div>\n          <div className={styles.PlaybackOptionService}>\n            Apple Music\n          </div>\n          <div className={styles.PlaybackOptionDescription}>\n            Connect your Apple Music account\n          </div>\n        </div>\n\n        <div className={styles.PlaybackOption}\n                onClick={generateServiceHandler(services.AUDIUS)}>\n          <div className={styles.PlaybackOptionLogo}>\n            {iconAudius26}\n          </div>\n          <div className={styles.PlaybackOptionService}>\n            Audius\n          </div>\n          <div className={styles.PlaybackOptionDescription}>\n            Free access to the Audius catalog\n          </div>\n        </div>\n\n        <div className={styles.PlaybackOption}\n             onClick={generateServiceHandler(services.JUKEBOX_RADIO)}>\n          <div className={styles.PlaybackOptionLogo}>\n            {iconFolder}\n          </div>\n          <div className={styles.PlaybackOptionService}>\n            Library\n          </div>\n          <div className={styles.PlaybackOptionDescription}>\n            Upload or search files in your cloud storage\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  userSettings: state.userSettings,\n});\n\n\nexport default connect(mapStateToProps)(Welcome);\n","import React from \"react\";\nimport { connect } from 'react-redux';\n\nimport Upload from './Upload/Upload';\nimport TrackDetail from './TrackDetail/TrackDetail';\nimport UserSettings from './UserSettings/UserSettings';\nimport NotationCompose from './NotationCompose/NotationCompose';\nimport Welcome from './Welcome/Welcome';\n\nimport * as services from '../../config/services';\nimport styles from './ModalApp.module.css';\nimport * as modalViews from '../../config/views/modal';\n\n\nfunction ModalApp(props) {\n\n  /*\n   * 🏗\n   */\n  const modal = props.modal,\n        playback = props.playback,\n        queueMap = props.queueMap,\n        nowPlaying = queueMap[playback.nowPlayingUuid];\n\n  if(!modal.isOpen) {\n    return <></>;\n  }\n\n  const videoCurrentlyPlaying = (\n    (\n      nowPlaying?.track?.service === services.APPLE_MUSIC ||\n      nowPlaying?.track?.service === services.YOUTUBE\n    ) && nowPlaying?.track?.format === 'video'\n  );\n  const modalClassName = videoCurrentlyPlaying ? 'ModalSecondary' : 'ModalPrimary';\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.ModalOverlay}>\n      <div className={styles[modalClassName]}>\n        {modal.view === modalViews.UPLOAD_TRACK &&\n          <Upload />\n        }\n        {modal.view === modalViews.TRACK_DETAIL &&\n          <TrackDetail />\n        }\n        {modal.view === modalViews.USER_SETTINGS &&\n          <UserSettings />\n        }\n        {modal.view === modalViews.NOTATION_COMPOSE &&\n          <NotationCompose />\n        }\n        {modal.view === modalViews.WELCOME &&\n          <Welcome />\n        }\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  modal: state.modal,\n  playback: state.playback,\n  queueMap: state.queueMap,\n  nowPlaying: state.nowPlaying,\n});\n\nexport default connect(mapStateToProps)(ModalApp);\n","import { getPositionMilliseconds } from '../utils';\n\nimport * as services from '../../../config/services';\nimport { store } from '../../../utils/redux';\n\n\n/*\n * Executes the \"start\" of playback.\n *\n * NOTE: this should only be called by the PlaybackEngine!\n */\nexport const start = function(playback, queue) {\n  const arr = getPositionMilliseconds(queue, queue.startedAt),\n        positionMilliseconds = arr[0],\n        instruments = arr[2],\n        playbackService = queue.track.service;\n  if(playbackService === services.APPLE_MUSIC) {\n    const music = window.MusicKit.getInstance();\n    if(queue.track.format === 'track') {\n      music.setQueue({ song: queue.track.externalId, startTime: positionMilliseconds / 1000 })\n        .then(() => {\n          const music = window.MusicKit.getInstance();\n          music.play()\n            .then(() => {\n              const action = null;\n              store.dispatch({\n                type: \"playback/action\",\n                payload: { action },\n              });\n            });\n        });\n    } else if(queue.track.format === 'video') {\n      music.setQueue({ musicVideo: queue.track.externalId, startTime: positionMilliseconds / 1000 })\n        .then(() => {\n          const music = window.MusicKit.getInstance();\n          music.play()\n            .then(() => {\n              const action = null;\n              store.dispatch({\n                type: \"playback/action\",\n                payload: { action },\n              });\n            });\n        });\n    }\n  } else if(playbackService === services.SPOTIFY) {\n    playback.spotifyApi.play({\n      uris: [queue.track.externalId],\n      position_ms: positionMilliseconds,\n    });\n  } else if(playbackService === services.YOUTUBE) {\n    console.log(typeof playback.youTubeApi.getPlayerState() === \"number\")\n    if(typeof playback.youTubeApi.getPlayerState() === \"number\") {\n      playback.youTubeApi.setVolume(playback.volumeLevel.audio * 100);\n      playback.youTubeApi.seekTo(Math.floor(positionMilliseconds / 1000));\n      playback.youTubeApi.playVideo();\n    } else {\n      store.dispatch({\n        type: 'playback/youTubeTriggerAutoplay',\n        payload: { autoplay: true },\n      });\n    }\n  } else if(playbackService === services.JUKEBOX_RADIO) {\n    for(let instrument of instruments) {\n      const trackUuid = queue.track.uuid,\n            audio = playback.files[trackUuid][instrument];\n      if(positionMilliseconds > 0) {\n        audio.currentTime = positionMilliseconds / 1000;\n      }\n      audio.volume = playback.volumeLevel.audio;\n      audio.play();\n    }\n  } else if(playbackService === services.AUDIUS) {\n    const trackUuid = queue.track.uuid,\n          audio = playback.files[trackUuid];\n    if(positionMilliseconds > 0) {\n      audio.currentTime = positionMilliseconds / 1000;\n    }\n    audio.volume = playback.volumeLevel.audio;\n    audio.play();\n  }\n};\n\n/*\n * \"Pauses\" the current playback.\n *\n * NOTE: this should only be called by the PlaybackEngine!\n */\nexport const pause = function(playback, queue) {\n  const playbackService = queue.track.service;\n\n  if(playbackService === services.APPLE_MUSIC) {\n    const music = window.MusicKit.getInstance();\n    music.pause()\n      .then(() => {\n        const action = null;\n        store.dispatch({\n          type: \"playback/action\",\n          payload: { action },\n        });\n      });\n  } else if(playbackService === services.SPOTIFY) {\n    playback.spotifyApi.pause();\n  } else if(playbackService === services.YOUTUBE) {\n    playback.youTubeApi.pauseVideo();\n  } else if(playbackService === services.JUKEBOX_RADIO) {\n    const trackUuid = queue.track.uuid,\n          audios = playback.files[trackUuid];\n    // eslint-disable-next-line\n    for(const [instrument, audio] of Object.entries(audios)) {\n      if(!audio.paused) {\n        audio.pause();\n      }\n    }\n  } else if(playbackService === services.AUDIUS) {\n    const trackUuid = queue.track.uuid,\n          audio = playback.files[trackUuid];\n    audio.pause();\n  }\n}\n\n/*\n * \"Plays\" the current playback.\n *\n * NOTE: this should only be called by the PlaybackEngine\n * NOTE: this is currently unused, but in the future, it should be used in\n *       order to optimize playback for certain services.\n */\n// export const playbackControlPlay = function(playback, queue) {\n//   const playbackService = queue.track.service;\n//\n//   if(playbackService === services.APPLE_MUSIC) {\n//     const music = window.MusicKit.getInstance();\n//     music.play();\n//   } else if(playbackService === services.SPOTIFY) {\n//     playback.spotifyApi.play();\n//   } else if(playbackService === services.YOUTUBE) {\n//     playback.youTubeApi.playVideo();\n//   } else if(playbackService === services.JUKEBOX_RADIO) {\n//     const arr = getPositionMilliseconds(queue, queue.startedAt),\n//           instrument = arr[2],\n//           trackUuid = queue.track.uuid,\n//           audio = playback.files[trackUuid][instrument];\n//     audio.play();\n//   } else if(playbackService === services.AUDIUS) {\n//     const trackUuid = queue.track.uuid,\n//           audio = playback.files[trackUuid];\n//     audio.play();\n//   }\n// }\n\n/*\n * \"Seeks\" the current playback given to the expected position.\n *\n * NOTE: this should only be called by the PlaybackEngine!\n */\nexport const seek = function(playback, queue, startedAt) {\n  const arr = getPositionMilliseconds(queue, startedAt),\n        positionMilliseconds = arr[0],\n        instruments = new Set(arr[2]),\n        playbackService = queue.track.service;\n\n  if(playbackService === services.APPLE_MUSIC) {\n    const music = window.MusicKit.getInstance();\n    music.seekToTime(positionMilliseconds / 1000)\n      .then(() => {\n        const action = null;\n        store.dispatch({\n          type: \"playback/action\",\n          payload: { action },\n        });\n      });\n  } else if(playbackService === services.SPOTIFY) {\n    playback.spotifyApi.seek(positionMilliseconds);\n  } else if(playbackService === services.YOUTUBE) {\n    playback.youTubeApi.seekTo(Math.floor(positionMilliseconds / 1000));\n    // playback.youTubeApi.playVideo();\n  } else if(playbackService === services.JUKEBOX_RADIO) {\n\n    const trackUuid = queue.track.uuid,\n          audios = playback.files[trackUuid];\n\n    // Pause everything else so only the new stem is played\n    for(const [instrument, aud] of Object.entries(audios)) {\n      if(instruments.has(instrument)) {\n        continue;\n      }\n      if(!aud.paused) {\n        aud.pause();\n      }\n    }\n\n    for(let instrument of instruments) {\n      const audio = audios[instrument];\n      audio.currentTime = positionMilliseconds / 1000;\n      audio.play();\n    }\n  } else if(playbackService === services.AUDIUS) {\n    const trackUuid = queue.track.uuid,\n          audio = playback.files[trackUuid];\n\n    audio.currentTime = positionMilliseconds / 1000;\n    audio.play();\n  }\n}\n\n/*\n * \"Queues\" the next track. This is used as an optimization technique that\n * some services support.\n *\n * NOTE: this should only be called by the PlaybackEngine\n */\nexport const queue = function(playback, onDeck) {\n\n  // Apple Music\n  if(onDeck.track.service === services.APPLE_MUSIC) {\n    const music = window.MusicKit.getInstance();\n    music.playNext({\n      song: onDeck.track.externalId,\n      startTime: onDeck.playbackIntervals[0].startTime / 1000,\n    });\n  }\n\n  // Spotify\n  if(onDeck.track.service === services.SPOTIFY) {\n    playback.spotifyApi.queue(onDeck.track.externalId);\n  }\n}\n\n/*\n * \"Skips\" the current song. This is used as an optimization technique that\n * some services support.\n *\n * NOTE: this should only be called by the PlaybackEngine!\n */\nexport const skip = function(playback, nowPlaying) {\n  const playbackService = nowPlaying.track.service;\n\n  if(playbackService === services.APPLE_MUSIC) {\n    const music = window.MusicKit.getInstance();\n    music.skipToNextItem();\n  } else if(playbackService === services.SPOTIFY) {\n    playback.spotifyApi.skipToNext();\n  }\n}\n\n/*\n * Changes playback volume.\n *\n * NOTE: this should only be called by the PlaybackEngine!\n * NOTE: there is one place in the code that calls this outside of the\n *       PlaybackEngine and I'm going to let it slide for now!\n */\nexport const volume = function(playback, queue, volumeLevel) {\n  const music = window.MusicKit.getInstance();\n  music.volume = volumeLevel;\n\n  try {\n    playback.spotifyApi.setVolume(volumeLevel * 100);\n  } catch (e) {\n    //\n  }\n\n  try {\n    playback.youTubeApi.setVolume(volumeLevel * 100);\n  } catch (e) {\n    //\n  }\n\n  const trackUuid = queue?.track?.uuid,\n        audios = playback.files[trackUuid];\n\n  try {\n    if(audios) {\n      audios.all.volume = volumeLevel;\n      audios.drums.volume = volumeLevel;\n      audios.vocals.volume = volumeLevel;\n      audios.bass.volume = volumeLevel;\n      audios.piano.volume = volumeLevel;\n      audios.other.volume = volumeLevel;\n    }\n  } catch (e) {\n    //\n  }\n\n  try {\n    if(audios) {\n      audios.volume = volumeLevel;\n    }\n  } catch (e) {\n    //\n  }\n}\n","export const iconNextTrack = (\n  <svg width=\"22\" height=\"16\" viewBox=\"0 0 22 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12 15L21 8L12 1V15Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"#FFF\"/>\n    <path d=\"M1 15L10 8L1 1V15Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"#FFF\"/>\n  </svg>\n);\n\n\nexport const iconPrevTrack = (\n  <svg width=\"22\" height=\"16\" viewBox=\"0 0 22 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M10 15L1 8L10 1V15Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"#FFF\"/>\n    <path d=\"M21 15L12 8L21 1V15Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"#FFF\"/>\n  </svg>\n);\n\n\n\nexport const iconMarker = (\n  <svg width=\"9\" height=\"25\" viewBox=\"0 0 9 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 9V5V1\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"square\"/>\n    <path d=\"M8.61782 23.2137C9.05209 23.5549 9.12753 24.1835 8.78632 24.6178C8.4451 25.0521 7.81645 25.1275 7.38218 24.7863L8.61782 23.2137ZM7.38218 24.7863L7.06588 24.5378L8.30153 22.9652L8.61782 23.2137L7.38218 24.7863ZM7.06588 24.5378C2.6048 21.0327 0 15.6734 0 10H2C2 15.0597 4.32302 19.8392 8.30153 22.9652L7.06588 24.5378Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconSmallCircle = (\n  <svg width=\"8\" height=\"8\" viewBox=\"0 0 8 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1C5.65685 1 7 2.34315 7 4Z\" fill=\"white\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconTrash = (\n  <svg width=\"15\" height=\"16\" viewBox=\"0 0 15 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 3.80078H2.4H13.6\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M4.49844 3.8V2.4C4.49844 2.0287 4.64594 1.6726 4.90849 1.41005C5.17104 1.1475 5.52713 1 5.89844 1H8.69844C9.06974 1 9.42584 1.1475 9.68839 1.41005C9.95094 1.6726 10.0984 2.0287 10.0984 2.4V3.8M12.1984 3.8V13.6C12.1984 13.9713 12.0509 14.3274 11.7884 14.5899C11.5258 14.8525 11.1697 15 10.7984 15H3.79844C3.42713 15 3.07104 14.8525 2.80849 14.5899C2.54594 14.3274 2.39844 13.9713 2.39844 13.6V3.8H12.1984Z\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M5.89844 7.30078V11.5008\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M8.69922 7.30078V11.5008\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nexport const iconPlay = (\n  <svg width=\"10\" height=\"12\" viewBox=\"0 0 10 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 1L8.6 6L1 11V1Z\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconStop = (\n  <svg width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M1 1H9V3.34315V9H6.65689H1V6.65685V3.34315V1Z\" stroke=\"black\" strokeWidth=\"1.5\"/>\n  </svg>\n);\n\nexport const iconMarkerExtension = (\n  <svg width=\"9\" height=\"15\" viewBox=\"0 0 9 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M8.61782 1.78632C9.05209 1.4451 9.12753 0.81645 8.78632 0.382178C8.4451 -0.0520932 7.81645 -0.127532 7.38218 0.213682L8.61782 1.78632ZM7.38218 0.213682L7.06588 0.4622L8.30153 2.03484L8.61782 1.78632L7.38218 0.213682ZM7.06588 0.4622C2.6048 3.96734 0 9.32662 0 15H2C2 9.94034 4.32302 5.1608 8.30153 2.03484L7.06588 0.4622Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n","import React, { useState } from \"react\";\nimport { connect } from 'react-redux';\nimport styles from './ChildProgressBar.module.css';\nimport { iconMarker, iconTrash, iconPlay } from '../../icons';\nimport { getProgressMilliseconds } from '../../utils';\nimport {\n  fetchStreamQueueIntervalDelete,\n} from '../../../ModalApp/TrackDetail/Interval/network';\n\nimport * as modalViews from '../../../../config/views/modal';\nimport * as tabs from '../../../../config/tabs';\nimport * as motives from '../../../../config/motives';\n\n\nfunction ChildProgressBar(props) {\n\n  /*\n   * 🏗\n   */\n  const interval = props.interval,\n        duration = props.duration,\n        queue = props.queue,\n        allowIntervalPlay = props.allowIntervalPlay,\n        modal = props.modal,\n        trackDetail = props.trackDetail;\n\n  const allowIntervalDelete = (\n    modal.view === modalViews.TRACK_DETAIL &&\n    trackDetail.tab === tabs.INTERVALS &&\n    trackDetail.motive === motives.DELETE\n  );\n  const editable = allowIntervalDelete;\n  console.log(allowIntervalDelete)\n\n  const intervalWidthDuration = interval.endPosition - interval.startPosition,\n        intervalWidth = intervalWidthDuration / duration * 100;\n\n  let cleanedPurpose;\n  cleanedPurpose = interval.purpose.includes('solo') ? 'solo' : interval.purpose;\n  cleanedPurpose = cleanedPurpose.charAt(0).toUpperCase() + cleanedPurpose.slice(1);\n  const progressClass = \"Progress\" + cleanedPurpose;\n\n  const classHoverContainer = \"ProgressHoverContainer\" + cleanedPurpose,\n        classHoverPointer = \"ProgressHoverPointer\" + cleanedPurpose;\n\n  /*\n   * Hovering logic\n   */\n  const [hovering, setHovering] = useState(false);\n\n  const onMouseEnter = function() {\n    setHovering(true);\n  }\n\n  const onMouseLeave = function() {\n    setHovering(false);\n  }\n\n  /*\n   * Delete an interval.\n   */\n  const deleteTrackInterval = async function() {\n    if(queue.status === \"played\") {\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: {\n          action: {\n            name: \"pause\",\n            status: \"kickoff\",\n            fake: true,\n          },\n        },\n      });\n    }\n    const responseJson = await fetchStreamQueueIntervalDelete(\n      interval.uuid, queue.uuid, queue.parentUuid\n    );\n    await props.dispatch(responseJson.redux);\n  }\n\n  const seekToInterval = async function() {\n    const progress = getProgressMilliseconds(queue, interval.startPosition);\n    if(queue.status === 'played') {\n      const action = {\n        name: \"seek\",\n        timestampMilliseconds: progress,\n        status: \"kickoff\",\n        fake: false,\n      };\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: { action },\n      });\n    } else {\n      const action = {\n        name: \"play\",\n        timestampMilliseconds: progress,\n        status: \"kickoff\",\n        fake: { api: false },\n      };\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: { action },\n      });\n    }\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles[progressClass]}\n         style={{width: `${intervalWidth}%`}}\n         onMouseEnter={onMouseEnter}\n         onMouseLeave={onMouseLeave}>\n      {editable && hovering &&\n        <div className={styles[classHoverContainer]}>\n          <div className={styles[classHoverPointer]}>\n            {iconMarker}\n          </div>\n\n          <div className={styles.HoverContainer}>\n            <div className={styles.ProgressHoverPurpose}>\n              {interval.purpose}\n            </div>\n            {interval.uuid && allowIntervalDelete &&\n              <button className={styles.ProgressHoverDelete}\n                      onClick={deleteTrackInterval}>\n                {iconTrash}\n              </button>\n            }\n            {allowIntervalPlay && cleanedPurpose !== 'Muted' &&\n              <button className={styles.ProgressHoverDelete}\n                      onClick={seekToInterval}>\n                {iconPlay}\n              </button>\n            }\n          </div>\n        </div>\n      }\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  modal: state.modal,\n  trackDetail: state.trackDetail,\n});\n\n\nexport default connect(mapStateToProps)(ChildProgressBar);\n","import React, { useState } from \"react\";\nimport { connect } from 'react-redux';\nimport styles from './ProgressBarMarker.module.css';\nimport { iconTrash, iconPlay, iconMarkerExtension, iconStop } from '../../icons';\nimport { getProgressMilliseconds } from '../../utils';\nimport { fetchStreamQueueIntervalStop } from '../../../ModalApp/TrackDetail/Interval/network';\nimport {\n  fetchStreamMarkerDelete,\n} from '../../../ModalApp/TrackDetail/Marker/network';\n\nimport * as modalViews from '../../../../config/views/modal';\nimport * as tabs from '../../../../config/tabs';\nimport * as motives from '../../../../config/motives';\n\n\nfunction ProgressBarMarker(props) {\n\n  const marker = props.marker,\n        queue = props.queue,\n        modal = props.modal,\n        trackDetail = props.trackDetail,\n        playable = props.playable,\n        stoppable = props.stoppable,\n        forceDisplay = props.forceDisplay,\n        hoveringEnabled = props.hoveringEnabled;\n\n  const deleteable = (\n    modal.view === modalViews.TRACK_DETAIL &&\n    trackDetail.tab === tabs.MARKERS &&\n    trackDetail.motive === motives.DELETE\n  );\n\n  const stream = props.stream,\n        playback = props.playback,\n        queueMap = props.queueMap,\n        nowPlaying = queueMap[playback.nowPlayingUuid];\n\n  const [hovering, setHovering] = useState(false);\n\n  let classPointer = \"ProgressBarMarkerPointer\",\n      classPointerExt = \"ProgressBarMarkerPointerExtension\";\n\n  if(marker.uuid === \"fake-uuid\") {\n    classPointer = 'ProgressBarMarkerPointerHighlighted';\n    classPointerExt = \"ProgressBarMarkerPointerExtensionHighlighted\";\n  } else if(!playable) {\n    classPointer = 'ProgressBarMarkerPointerGrey';\n    classPointerExt = \"ProgressBarMarkerPointerExtensionGrey\";\n  }\n\n  /*\n   * ENTER\n   */\n  const onMouseEnter = function() {\n    setHovering(true);\n    props.setMarkerHover(true);\n  }\n\n  /*\n   * LEAVE\n   */\n  const onMouseLeave = function() {\n    setHovering(false);\n    props.setMarkerHover(false);\n  }\n\n  /*\n   * Delete a marker.\n   */\n  const deleteTrackMarker = async function(marker) {\n    const responseJson = await fetchStreamMarkerDelete(marker.uuid, nowPlaying.uuid);\n    await props.dispatch(responseJson.redux);\n  }\n\n  /*\n   * SEEK\n   */\n  const seekToMarker = async function() {\n    const progress = getProgressMilliseconds(queue, marker.timestampMilliseconds);\n    if(queue.status === 'played') {\n      const action = {\n        name: \"seek\",\n        timestampMilliseconds: progress,\n        status: \"kickoff\",\n        fake: !(playback.nowPlayingUuid === stream.nowPlayingUuid),\n      };\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: { action },\n      });\n    } else {\n      const action = {\n        name: \"play\",\n        timestampMilliseconds: progress,\n        status: \"kickoff\",\n        fake: { api: !(playback.nowPlayingUuid === stream.nowPlayingUuid) },\n      };\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: { action },\n      });\n    }\n  }\n\n  const stopAtMarker = async function() {\n    const responseJson = await fetchStreamQueueIntervalStop(\n      queue.uuid,\n      marker.uuid,\n      queue.parentUuid,\n    );\n\n    for(const [_type, payloads] of Object.entries(responseJson.redux.payload)) {\n      for(const payload of payloads) {\n        props.dispatch({\n          type: _type,\n          payload: payload,\n        });\n      }\n    }\n  }\n\n  return (\n    <div className={styles.ProgressBarMarker}\n         style={{left: marker.styleLeft}}\n         onMouseEnter={onMouseEnter}\n         onMouseLeave={onMouseLeave}>\n\n      <div className={styles[classPointer]}>\n        {((hovering && hoveringEnabled) || (forceDisplay && !props.markerHover)) &&\n          <div className={styles[classPointerExt]}>\n            {iconMarkerExtension}\n          </div>\n        }\n\n        {((hovering && hoveringEnabled) || (forceDisplay && !props.markerHover)) &&\n          <div className={styles.HoverContainer}>\n\n            {(hovering || forceDisplay) &&\n              <div className={styles.ProgressBarMarkerName}>\n                {marker.name}\n              </div>\n            }\n\n            {hovering && deleteable &&\n              <button className={styles.Delete}\n                      onClick={(e) => {deleteTrackMarker(marker)}}>\n                {iconTrash}\n              </button>\n            }\n\n            {hovering && playable && !deleteable &&\n              <button className={styles.Play}\n                      onClick={seekToMarker}>\n                {iconPlay}\n              </button>\n            }\n\n            {hovering && stoppable && false &&\n              <button className={styles.Stop}\n                      onClick={stopAtMarker}>\n                {iconStop}\n              </button>\n            }\n          </div>\n        }\n      </div>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  playback: state.playback,\n  modal: state.modal,\n  trackDetail: state.trackDetail,\n  queueMap: state.queueMap,\n});\n\n\nexport default connect(mapStateToProps)(ProgressBarMarker);\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport { connect } from 'react-redux';\nimport Draggable from 'react-draggable';\n\nimport styles from './ProgressBar.module.css';\nimport { getPositionMilliseconds, getProgressMilliseconds, isPositionValid } from '../utils';\nimport ChildProgressBar from './ChildProgressBar/ChildProgressBar';\nimport ProgressBarMarker from './ProgressBarMarker/ProgressBarMarker';\nimport { iconSmallCircle } from '../icons';\nimport * as progressBarUtils from './utils';\nimport * as modalViews from '../../../config/views/modal';\nimport * as tabs from '../../../config/tabs';\nimport * as motives from '../../../config/motives';\nimport * as stringUtils from '../../../utils/strings';\n\n\nfunction ProgressBar(props) {\n\n  /*\n   * 🏗\n   */\n\n  // Unpack Redux state\n  const { queueMap, stream, playback, trackDetail, feedApp, sideBar, modal } = props;\n\n  // Convenience values\n  const queue = queueMap[playback.nowPlayingUuid],\n        allIntervals = queue?.allIntervals || [],\n        duration = queue?.track?.durationMilliseconds || 0,\n        allowIntervalPlay = false;\n\n  const DISABLE_ANIMATION = -1,\n        ENABLE_ANIMATION = 0;\n\n  const draggableRef = useRef(),\n        progressRef = useRef();\n\n  const [stickyPointerLeftDistance, setStickyPointerLeftDistance] = useState(false);\n  const [dragOffset, setDragOffset] = useState(0);\n  const [markerHover, setMarkerHover] = useState(false);\n\n  let position, pointerLeftDistance;\n  try {\n    const arr = getPositionMilliseconds(queue, queue.startedAt);\n    position = arr[0];\n    pointerLeftDistance = (position / duration) * 100;\n  } catch (e) {\n    position = 0;\n    pointerLeftDistance = (position / duration) * 100;\n  }\n\n  const markerMap = props.markerMap;\n  let markers;\n  markers = progressBarUtils.getMarkers(markerMap, queue?.track?.uuid);\n\n  if(trackDetail.tab === tabs.MARKERS && trackDetail.motive === motives.CREATE) {\n    if(trackDetail.form.marker.name && trackDetail.form.marker.timestamp) {\n      const tempMarker = {\n        forceDisplay: true,\n        name: trackDetail.form.marker.name,\n        timestampMilliseconds: trackDetail.form.marker.timestamp,\n        trackUuid: queue?.track?.uuid,\n        uuid: 'fake-uuid',\n      };\n      markers.push(tempMarker);\n    }\n  }\n  if(feedApp.textComment.trackUuid && sideBar.tab === 'feed' && modal.view === modalViews.NOTATION_COMPOSE) {\n    const tempMarker = {\n      forceDisplay: true,\n      name: stringUtils.truncate(feedApp.textComment.text),\n      timestampMilliseconds: feedApp.textComment.position,\n      trackUuid: feedApp.textComment.trackUuid,\n      uuid: 'fake-uuid',\n    };\n    markers.push(tempMarker);\n  }\n\n  markers = progressBarUtils.cleanMarkers(markers, queue, duration, position);\n\n  /*\n   *\n   */\n  const handleDragStart = function(e, ui) {\n    setAnimationStatus(DISABLE_ANIMATION);\n    setStickyPointerLeftDistance(pointerLeftDistance);\n  }\n\n  /*\n   *\n   */\n  const handleDragChange = function(e, ui) {\n    // noop\n  }\n\n  /*\n   *\n   */\n  const handleDragStop = async function(e, ui) {\n    const cursorRect = draggableRef.current.getBoundingClientRect(),\n          progressRect = progressRef.current.getBoundingClientRect(),\n          playbackPercent = (cursorRect.left - progressRect.left) / (progressRef.current.offsetWidth - 8),\n          nextPosition = Math.round(duration * playbackPercent);\n\n    const isValid = isPositionValid(queue, nextPosition);\n\n    if(!isValid) {\n      setAnimationStatus(ENABLE_ANIMATION);\n      setDragOffset(ui.x);\n      setStickyPointerLeftDistance(false);\n      return;\n    }\n\n    const nextProgress = getProgressMilliseconds(queue, nextPosition);\n\n    const action = {\n      name: \"seek\",\n      timestampMilliseconds: nextProgress,\n      status: \"kickoff\",\n      fake: !(playback.nowPlayingUuid === stream.nowPlayingUuid),\n    };\n    props.dispatch({\n      type: \"main/addAction\",\n      payload: { action },\n    });\n\n    setDragOffset(ui.x);\n    setAnimationStatus(ENABLE_ANIMATION);\n    setStickyPointerLeftDistance(false);\n  }\n\n  //////////////////////////////////////////////////////////////////////////////\n  // REGENERATE THE FEED\n  const [animationStatus, setAnimationStatus] = useState(ENABLE_ANIMATION);\n  const [animationPeriodicTask, setAnimationPeriodicTask] = useState(-1);\n  // eslint-disable-next-line\n  const [counter, setCounter] = useState(0);\n  useEffect(() => {\n\n    if(animationStatus === DISABLE_ANIMATION) {\n      if(animationPeriodicTask !== -1) {\n        clearInterval(animationPeriodicTask);\n      }\n      return;\n    }\n\n    const periodicTask = setInterval(() => {\n      setCounter(prev => prev + 1);\n    }, 1500);\n\n    setAnimationPeriodicTask(periodicTask);\n\n    return () => {\n      clearInterval(animationPeriodicTask);\n    }\n\n  // eslint-disable-next-line\n  }, [animationStatus]);\n\n  if(stickyPointerLeftDistance) {\n    pointerLeftDistance = stickyPointerLeftDistance;\n  }\n\n  return (\n    <div ref={progressRef} className={styles.ProgressBar}>\n      {queue?.track?.uuid &&\n        <Draggable axis=\"x\"\n                   bounds=\"body\"\n                   nodeRef={draggableRef}\n                   disabled={queue?.status === 'paused'}\n                   onStart={handleDragStart}\n                   onDrag={handleDragChange}\n                   onStop={handleDragStop}>\n          <div ref={draggableRef}\n               className={styles.ProgressPointer}\n               style={{left: `calc(${pointerLeftDistance}% - ${3 + dragOffset}px)`}}>\n            {iconSmallCircle}\n          </div>\n        </Draggable>\n      }\n      <div className={styles.ProgressBar}>\n        {  // eslint-disable-next-line\n        allIntervals.map((interval, index) => {\n          return <ChildProgressBar key={interval.uuid || index}\n                                   interval={interval}\n                                   duration={duration}\n                                   queue={queue}\n                                   deleteTrackInterval={props.deleteTrackInterval}\n                                   allowIntervalPlay={allowIntervalPlay} />;\n        })}\n      </div>\n      <div className={styles.ProgressMarkerContainer}>\n        {  // eslint-disable-next-line\n        markers.map((marker, index) => {\n          return <ProgressBarMarker key={marker.uuid}\n                                    marker={marker}\n                                    queue={queue}\n                                    forceDisplay={marker.forceDisplay}\n                                    playable={marker.playable}\n                                    stoppable={marker.stoppable}\n                                    markerHover={markerHover}\n                                    setMarkerHover={setMarkerHover}\n                                    hoveringEnabled={true} />;\n        })}\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  markerMap: state.markerMap,\n  queueMap: state.queueMap,\n  playback: state.playback,\n  stream: state.stream,\n  trackDetail: state.trackDetail,\n  feedApp: state.feedApp,\n  sideBar: state.sideBar,\n  modal: state.modal,\n});\n\n\nexport default connect(mapStateToProps)(ProgressBar);\n","\n\nexport const truncate = function(input) {\n  const MAX_STRING_LENGTH = 8;\n  input = input.trim();\n  return (\n    input.length > MAX_STRING_LENGTH ?\n    `${input.substring(0, MAX_STRING_LENGTH - 2)}...` : input\n  );\n}\n","export const iconScanForward = (\n  <svg width=\"32\" height=\"30\" viewBox=\"0 0 32 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M30.9998 2.49805V11.4998H21.998\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M27.2341 19.0006C26.2588 21.761 24.4129 24.1297 21.9743 25.7497C19.5357 27.3697 16.6367 28.1532 13.7141 27.9822C10.7914 27.8113 8.00356 26.695 5.77052 24.8017C3.53749 22.9085 1.98029 20.3407 1.33357 17.4854C0.68686 14.6301 0.985673 11.6419 2.18499 8.97125C3.3843 6.30055 5.41913 4.09199 7.98285 2.67838C10.5466 1.26476 13.5003 0.722688 16.3989 1.13383C19.2975 1.54498 21.984 2.88707 24.0535 4.95786L30.9998 11.4991\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M13.112 18.04V19H8.804V18.04H10.508V13.36C10.42 13.48 10.26 13.616 10.028 13.768C9.796 13.912 9.544 14.036 9.272 14.14C9 14.244 8.76 14.296 8.552 14.296V13.288C8.728 13.288 8.92 13.24 9.128 13.144C9.344 13.04 9.552 12.92 9.752 12.784C9.952 12.648 10.12 12.52 10.256 12.4C10.4 12.28 10.484 12.196 10.508 12.148H11.588V18.04H13.112ZM20.1223 15.484C20.1223 16.188 19.9903 16.816 19.7263 17.368C19.4623 17.912 19.1023 18.34 18.6463 18.652C18.1903 18.964 17.6703 19.12 17.0863 19.12C16.5023 19.12 15.9823 18.964 15.5263 18.652C15.0703 18.34 14.7103 17.912 14.4463 17.368C14.1823 16.816 14.0503 16.188 14.0503 15.484C14.0503 14.78 14.1823 14.156 14.4463 13.612C14.7103 13.06 15.0703 12.628 15.5263 12.316C15.9823 11.996 16.5023 11.836 17.0863 11.836C17.6703 11.836 18.1903 11.996 18.6463 12.316C19.1023 12.628 19.4623 13.06 19.7263 13.612C19.9903 14.156 20.1223 14.78 20.1223 15.484ZM19.0543 15.484C19.0543 14.956 18.9703 14.492 18.8023 14.092C18.6343 13.692 18.4023 13.38 18.1063 13.156C17.8103 12.932 17.4703 12.82 17.0863 12.82C16.6943 12.82 16.3503 12.932 16.0543 13.156C15.7583 13.38 15.5263 13.692 15.3583 14.092C15.1903 14.492 15.1063 14.956 15.1063 15.484C15.1063 16.012 15.1903 16.476 15.3583 16.876C15.5263 17.268 15.7583 17.576 16.0543 17.8C16.3503 18.024 16.6943 18.136 17.0863 18.136C17.4703 18.136 17.8103 18.024 18.1063 17.8C18.4023 17.576 18.6343 17.268 18.8023 16.876C18.9703 16.476 19.0543 16.012 19.0543 15.484Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\n\nexport const iconScanBackward = (\n  <svg width=\"32\" height=\"30\" viewBox=\"0 0 32 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1.00019 2.49805V11.4998H10.002\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M4.76591 19.0006C5.74115 21.761 7.58714 24.1297 10.0257 25.7497C12.4643 27.3697 15.3633 28.1532 18.2859 27.9822C21.2086 27.8113 23.9964 26.695 26.2295 24.8017C28.4625 22.9085 30.0197 20.3407 30.6664 17.4854C31.3131 14.6301 31.0143 11.6419 29.815 8.97125C28.6157 6.30055 26.5809 4.09199 24.0171 2.67838C21.4534 1.26476 18.4997 0.722688 15.6011 1.13383C12.7025 1.54498 10.016 2.88707 7.94653 4.95786L1.00017 11.4991\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M16.112 18.04V19H11.804V18.04H13.508V13.36C13.42 13.48 13.26 13.616 13.028 13.768C12.796 13.912 12.544 14.036 12.272 14.14C12 14.244 11.76 14.296 11.552 14.296V13.288C11.728 13.288 11.92 13.24 12.128 13.144C12.344 13.04 12.552 12.92 12.752 12.784C12.952 12.648 13.12 12.52 13.256 12.4C13.4 12.28 13.484 12.196 13.508 12.148H14.588V18.04H16.112ZM23.1223 15.484C23.1223 16.188 22.9903 16.816 22.7263 17.368C22.4623 17.912 22.1023 18.34 21.6463 18.652C21.1903 18.964 20.6703 19.12 20.0863 19.12C19.5023 19.12 18.9823 18.964 18.5263 18.652C18.0703 18.34 17.7103 17.912 17.4463 17.368C17.1823 16.816 17.0503 16.188 17.0503 15.484C17.0503 14.78 17.1823 14.156 17.4463 13.612C17.7103 13.06 18.0703 12.628 18.5263 12.316C18.9823 11.996 19.5023 11.836 20.0863 11.836C20.6703 11.836 21.1903 11.996 21.6463 12.316C22.1023 12.628 22.4623 13.06 22.7263 13.612C22.9903 14.156 23.1223 14.78 23.1223 15.484ZM22.0543 15.484C22.0543 14.956 21.9703 14.492 21.8023 14.092C21.6343 13.692 21.4023 13.38 21.1063 13.156C20.8103 12.932 20.4703 12.82 20.0863 12.82C19.6943 12.82 19.3503 12.932 19.0543 13.156C18.7583 13.38 18.5263 13.692 18.3583 14.092C18.1903 14.492 18.1063 14.956 18.1063 15.484C18.1063 16.012 18.1903 16.476 18.3583 16.876C18.5263 17.268 18.7583 17.576 19.0543 17.8C19.3503 18.024 19.6943 18.136 20.0863 18.136C20.4703 18.136 20.8103 18.024 21.1063 17.8C21.4023 17.576 21.6343 17.268 21.8023 16.876C21.9703 16.476 22.0543 16.012 22.0543 15.484Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\n\nexport const iconPlayCircle = (\n  <svg width=\"65\" height=\"65\" viewBox=\"0 0 65 65\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M32.5 64C49.897 64 64 49.897 64 32.5C64 15.103 49.897 1 32.5 1C15.103 1 1 15.103 1 32.5C1 49.897 15.103 64 32.5 64Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"#FFF\"/>\n    <path d=\"M26 20L45 32.5L26 45V20Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"#FFF\"/>\n  </svg>\n);\n\n\nexport const iconPauseCircle = (\n  <svg width=\"65\" height=\"65\" viewBox=\"0 0 65 65\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M32.5 64C49.897 64 64 49.897 64 32.5C64 15.103 49.897 1 32.5 1C15.103 1 1 15.103 1 32.5C1 49.897 15.103 64 32.5 64Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"#FFF\"/>\n    <path d=\"M26 20V45M39 45V20\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"#FFF\"/>\n  </svg>\n);\n\n\nexport const iconNotStartedCircle = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" height=\"48px\" viewBox=\"0 0 24 24\" width=\"48px\" fill=\"#000000\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/><path d=\"M12,4c4.41,0,8,3.59,8,8s-3.59,8-8,8s-8-3.59-8-8S7.59,4,12,4 M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10 s10-4.48,10-10C22,6.48,17.52,2,12,2L12,2z M11,8H9v8h2V8z M17,12l-5-4v8L17,12z\"/></g></svg>\n)\n\n\nexport const iconMusic = (\n  <svg\n    width=\"28\"\n    height=\"28\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M12 8.95439L17.6352 7.82736C19.0102 7.55235 20 6.34501 20 4.94274C20 3.08637 18.3017 1.69406 16.4813 2.05813L12.4117 2.87206C11.0094 3.15252 10 4.38376 10 5.8138V13.8895C9.41165 13.5492 8.72857 13.3544 8 13.3544C5.79086 13.3544 4 15.1453 4 17.3544C4 19.5635 5.79086 21.3544 8 21.3544C10.2091 21.3544 12 19.5635 12 17.3544V8.95439ZM16.8736 4.01929L12.8039 4.83322C12.3365 4.92671 12 5.33712 12 5.8138V6.91479L17.2429 5.8662C17.6831 5.77816 18 5.39165 18 4.94274C18 4.34846 17.4563 3.90274 16.8736 4.01929ZM10 17.3544C10 16.2498 9.10457 15.3544 8 15.3544C6.89543 15.3544 6 16.2498 6 17.3544C6 18.459 6.89543 19.3544 8 19.3544C9.10457 19.3544 10 18.459 10 17.3544Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n)\n\n\nexport const iconMic = (\n  <svg\n    width=\"26\"\n    height=\"26\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M9 4C9 2.34315 10.3431 1 12 1C13.6569 1 15 2.34315 15 4V12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12V4ZM13 4V12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4Z\"\n      fill=\"currentColor\"\n    />\n    <path\n      d=\"M18 12C18 14.973 15.8377 17.441 13 17.917V21H17V23H7V21H11V17.917C8.16229 17.441 6 14.973 6 12V9H8V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V9H18V12Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const iconGear = (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z\" fill=\"white\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport const iconForward1000 = (\n  <svg width=\"23\" height=\"21\" viewBox=\"0 0 23 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M21.4202 2.04883V8.14679H15.3223\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M18.8691 13.2272C18.2085 15.0971 16.958 16.7017 15.306 17.7991C13.6541 18.8965 11.6903 19.4273 9.71042 19.3115C7.73057 19.1957 5.842 18.4395 4.3293 17.157C2.8166 15.8744 1.76172 14.135 1.32363 12.2007C0.885529 10.2665 1.08795 8.24227 1.90039 6.43308C2.71283 4.6239 4.09126 3.12778 5.82798 2.17017C7.56469 1.21256 9.5656 0.845346 11.5292 1.12386C13.4927 1.40238 15.3126 2.31154 16.7145 3.71434L21.4201 8.14553\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M9.408 12.36V13H6.536V12.36H7.672V9.24C7.61333 9.32 7.50667 9.41067 7.352 9.512C7.19733 9.608 7.02933 9.69067 6.848 9.76C6.66667 9.82933 6.50667 9.864 6.368 9.864V9.192C6.48533 9.192 6.61333 9.16 6.752 9.096C6.896 9.02667 7.03467 8.94667 7.168 8.856C7.30133 8.76533 7.41333 8.68 7.504 8.6C7.6 8.52 7.656 8.464 7.672 8.432H8.392V12.36H9.408ZM11.6016 13.08C11.2549 13.08 10.9296 13.024 10.6256 12.912C10.3216 12.7947 10.0602 12.6213 9.84156 12.392L10.1136 11.896C10.3536 12.12 10.5936 12.28 10.8336 12.376C11.0736 12.472 11.3189 12.52 11.5696 12.52C11.8576 12.52 12.0922 12.4667 12.2736 12.36C12.4549 12.248 12.5456 12.0853 12.5456 11.872C12.5456 11.7173 12.4976 11.6027 12.4016 11.528C12.3109 11.4533 12.1802 11.392 12.0096 11.344C11.8389 11.2907 11.6362 11.232 11.4016 11.168C10.9696 11.0453 10.6389 10.9013 10.4096 10.736C10.1856 10.5653 10.0736 10.3173 10.0736 9.992C10.0736 9.59733 10.2229 9.29333 10.5216 9.08C10.8256 8.86133 11.2122 8.752 11.6816 8.752C12.3109 8.752 12.8069 8.94133 13.1696 9.32L12.8496 9.808C12.5242 9.472 12.1216 9.304 11.6416 9.304C11.4976 9.304 11.3562 9.32267 11.2176 9.36C11.0789 9.392 10.9642 9.45333 10.8736 9.544C10.7829 9.62933 10.7376 9.752 10.7376 9.912C10.7376 10.1093 10.8176 10.2507 10.9776 10.336C11.1376 10.4213 11.3722 10.5093 11.6816 10.6C11.9962 10.6907 12.2682 10.7813 12.4976 10.872C12.7322 10.9627 12.9136 11.08 13.0416 11.224C13.1696 11.368 13.2336 11.568 13.2336 11.824C13.2336 12.2187 13.0842 12.528 12.7856 12.752C12.4869 12.9707 12.0922 13.08 11.6016 13.08Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconForward100 = (\n  <svg width=\"24\" height=\"21\" viewBox=\"0 0 24 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M22.1605 2.04883V8.14679H16.0625\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M19.6094 13.2272C18.9487 15.0971 17.6982 16.7017 16.0463 17.7991C14.3944 18.8965 12.4305 19.4273 10.4507 19.3115C8.47081 19.1957 6.58224 18.4395 5.06954 17.157C3.55683 15.8744 2.50196 14.135 2.06386 12.2007C1.62576 10.2665 1.82819 8.24227 2.64062 6.43308C3.45306 4.6239 4.8315 3.12778 6.56821 2.17017C8.30493 1.21256 10.3058 0.845346 12.2694 1.12386C14.233 1.40238 16.0528 2.31154 17.4548 3.71434L22.1604 8.14553\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M6.512 13V12.104H7.104V13H6.512ZM11.0252 12.36V13H8.15319V12.36H9.28919V9.24C9.23052 9.32 9.12385 9.41067 8.96919 9.512C8.81452 9.608 8.64652 9.69067 8.46519 9.76C8.28385 9.82933 8.12385 9.864 7.98519 9.864V9.192C8.10252 9.192 8.23052 9.16 8.36919 9.096C8.51319 9.02667 8.65185 8.94667 8.78519 8.856C8.91852 8.76533 9.03052 8.68 9.12119 8.6C9.21719 8.52 9.27319 8.464 9.28919 8.432H10.0092V12.36H11.0252ZM13.2188 13.08C12.8721 13.08 12.5468 13.024 12.2428 12.912C11.9388 12.7947 11.6774 12.6213 11.4588 12.392L11.7308 11.896C11.9708 12.12 12.2108 12.28 12.4508 12.376C12.6908 12.472 12.9361 12.52 13.1868 12.52C13.4748 12.52 13.7094 12.4667 13.8908 12.36C14.0721 12.248 14.1628 12.0853 14.1628 11.872C14.1628 11.7173 14.1148 11.6027 14.0188 11.528C13.9281 11.4533 13.7974 11.392 13.6268 11.344C13.4561 11.2907 13.2534 11.232 13.0188 11.168C12.5868 11.0453 12.2561 10.9013 12.0268 10.736C11.8028 10.5653 11.6908 10.3173 11.6908 9.992C11.6908 9.59733 11.8401 9.29333 12.1388 9.08C12.4428 8.86133 12.8294 8.752 13.2988 8.752C13.9281 8.752 14.4241 8.94133 14.7868 9.32L14.4668 9.808C14.1414 9.472 13.7388 9.304 13.2588 9.304C13.1148 9.304 12.9734 9.32267 12.8348 9.36C12.6961 9.392 12.5814 9.45333 12.4908 9.544C12.4001 9.62933 12.3548 9.752 12.3548 9.912C12.3548 10.1093 12.4348 10.2507 12.5948 10.336C12.7548 10.4213 12.9894 10.5093 13.2988 10.6C13.6134 10.6907 13.8854 10.7813 14.1148 10.872C14.3494 10.9627 14.5308 11.08 14.6588 11.224C14.7868 11.368 14.8508 11.568 14.8508 11.824C14.8508 12.2187 14.7014 12.528 14.4028 12.752C14.1041 12.9707 13.7094 13.08 13.2188 13.08Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconBackward100 = (\n  <svg width=\"24\" height=\"21\" viewBox=\"0 0 24 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1.83953 2.04883V8.14679H7.9375\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M4.39063 13.2272C5.05128 15.0971 6.30179 16.7017 7.95372 17.7991C9.60565 18.8965 11.5695 19.4273 13.5493 19.3115C15.5292 19.1957 17.4178 18.4395 18.9305 17.157C20.4432 15.8744 21.498 14.135 21.9361 12.2007C22.3742 10.2665 22.1718 8.24227 21.3594 6.43308C20.5469 4.6239 19.1685 3.12778 17.4318 2.17017C15.6951 1.21256 13.6942 0.845346 11.7306 1.12386C9.76702 1.40238 7.94715 2.31154 6.54524 3.71434L1.83965 8.14553\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M9.512 13V12.104H10.104V13H9.512ZM14.0252 12.36V13H11.1532V12.36H12.2892V9.24C12.2305 9.32 12.1239 9.41067 11.9692 9.512C11.8145 9.608 11.6465 9.69067 11.4652 9.76C11.2839 9.82933 11.1239 9.864 10.9852 9.864V9.192C11.1025 9.192 11.2305 9.16 11.3692 9.096C11.5132 9.02667 11.6519 8.94667 11.7852 8.856C11.9185 8.76533 12.0305 8.68 12.1212 8.6C12.2172 8.52 12.2732 8.464 12.2892 8.432H13.0092V12.36H14.0252ZM16.2188 13.08C15.8721 13.08 15.5468 13.024 15.2428 12.912C14.9388 12.7947 14.6774 12.6213 14.4588 12.392L14.7308 11.896C14.9708 12.12 15.2108 12.28 15.4508 12.376C15.6908 12.472 15.9361 12.52 16.1868 12.52C16.4748 12.52 16.7094 12.4667 16.8908 12.36C17.0721 12.248 17.1628 12.0853 17.1628 11.872C17.1628 11.7173 17.1148 11.6027 17.0188 11.528C16.9281 11.4533 16.7974 11.392 16.6268 11.344C16.4561 11.2907 16.2534 11.232 16.0188 11.168C15.5868 11.0453 15.2561 10.9013 15.0268 10.736C14.8028 10.5653 14.6908 10.3173 14.6908 9.992C14.6908 9.59733 14.8401 9.29333 15.1388 9.08C15.4428 8.86133 15.8294 8.752 16.2988 8.752C16.9281 8.752 17.4241 8.94133 17.7868 9.32L17.4668 9.808C17.1414 9.472 16.7388 9.304 16.2588 9.304C16.1148 9.304 15.9734 9.32267 15.8348 9.36C15.6961 9.392 15.5814 9.45333 15.4908 9.544C15.4001 9.62933 15.3548 9.752 15.3548 9.912C15.3548 10.1093 15.4348 10.2507 15.5948 10.336C15.7548 10.4213 15.9894 10.5093 16.2988 10.6C16.6134 10.6907 16.8854 10.7813 17.1148 10.872C17.3494 10.9627 17.5308 11.08 17.6588 11.224C17.7868 11.368 17.8508 11.568 17.8508 11.824C17.8508 12.2187 17.7014 12.528 17.4028 12.752C17.1041 12.9707 16.7094 13.08 16.2188 13.08Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n\nexport const iconBackward1000 = (\n  <svg width=\"23\" height=\"21\" viewBox=\"0 0 23 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1.57977 2.04883V8.14679H7.67773\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M4.13086 13.2272C4.79151 15.0971 6.04202 16.7017 7.69395 17.7991C9.34588 18.8965 11.3097 19.4273 13.2896 19.3115C15.2694 19.1957 17.158 18.4395 18.6707 17.157C20.1834 15.8744 21.2383 14.135 21.6764 12.2007C22.1145 10.2665 21.912 8.24227 21.0996 6.43308C20.2872 4.6239 18.9087 3.12778 17.172 2.17017C15.4353 1.21256 13.4344 0.845346 11.4708 1.12386C9.50725 1.40238 7.68739 2.31154 6.28548 3.71434L1.57988 8.14553\" stroke=\"#0047FF\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M13.408 12.36V13H10.536V12.36H11.672V9.24C11.6133 9.32 11.5067 9.41067 11.352 9.512C11.1973 9.608 11.0293 9.69067 10.848 9.76C10.6667 9.82933 10.5067 9.864 10.368 9.864V9.192C10.4853 9.192 10.6133 9.16 10.752 9.096C10.896 9.02667 11.0347 8.94667 11.168 8.856C11.3013 8.76533 11.4133 8.68 11.504 8.6C11.6 8.52 11.656 8.464 11.672 8.432H12.392V12.36H13.408ZM15.6016 13.08C15.2549 13.08 14.9296 13.024 14.6256 12.912C14.3216 12.7947 14.0602 12.6213 13.8416 12.392L14.1136 11.896C14.3536 12.12 14.5936 12.28 14.8336 12.376C15.0736 12.472 15.3189 12.52 15.5696 12.52C15.8576 12.52 16.0922 12.4667 16.2736 12.36C16.4549 12.248 16.5456 12.0853 16.5456 11.872C16.5456 11.7173 16.4976 11.6027 16.4016 11.528C16.3109 11.4533 16.1802 11.392 16.0096 11.344C15.8389 11.2907 15.6362 11.232 15.4016 11.168C14.9696 11.0453 14.6389 10.9013 14.4096 10.736C14.1856 10.5653 14.0736 10.3173 14.0736 9.992C14.0736 9.59733 14.2229 9.29333 14.5216 9.08C14.8256 8.86133 15.2122 8.752 15.6816 8.752C16.3109 8.752 16.8069 8.94133 17.1696 9.32L16.8496 9.808C16.5242 9.472 16.1216 9.304 15.6416 9.304C15.4976 9.304 15.3562 9.32267 15.2176 9.36C15.0789 9.392 14.9642 9.45333 14.8736 9.544C14.7829 9.62933 14.7376 9.752 14.7376 9.912C14.7376 10.1093 14.8176 10.2507 14.9776 10.336C15.1376 10.4213 15.3722 10.5093 15.6816 10.6C15.9962 10.6907 16.2682 10.7813 16.4976 10.872C16.7322 10.9627 16.9136 11.08 17.0416 11.224C17.1696 11.368 17.2336 11.568 17.2336 11.824C17.2336 12.2187 17.0842 12.528 16.7856 12.752C16.4869 12.9707 16.0922 13.08 15.6016 13.08Z\" fill=\"#0047FF\"/>\n  </svg>\n);\n","import React from \"react\";\n\nimport { connect } from 'react-redux';\nimport { CircularProgressbarWithChildren, buildStyles } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\n\nimport { cycleVolumeLevel, featureIsEnabled } from '../../PlaybackApp/utils';\nimport * as controls from '../../PlaybackApp/PlaybackEngine/controls';\nimport { iconNextTrack, iconPrevTrack } from '../../PlaybackApp/icons';\nimport ProgressBar from '../../PlaybackApp/ProgressBar/ProgressBar';\nimport { iconSpotify, iconYouTube, iconAppleMusic, iconLogoAlt, iconAudius } from '../../../icons';\nimport * as services from '../../../config/services';\nimport * as modalViews from '../../../config/views/modal';\nimport * as streamEngineActions from '../../PlaybackApp/StreamEngine/actions';\n\nimport styles from './BottomBar.module.css';\nimport * as bottomBarIcons from './icons';\n\n\nfunction BottomBar(props) {\n\n  /*\n   * 🏗\n   */\n  const stream = props.stream,\n        queueMap = props.queueMap,\n        playback = props.playback,\n        modal = props.modal,\n        nowPlaying = queueMap[playback.nowPlayingUuid],\n        audioVolumeLevel = playback.volumeLevel.audio;\n\n  // eslint-disable-next-line\n  const controlsEnabled = featureIsEnabled(props),\n        nowPlayingTrackService = nowPlaying?.track?.service;\n\n  const playbackIsStream = stream.nowPlayingUuid === playback.nowPlayingUuid;\n\n  /*\n   * Opens the \"User Settings\" modal.\n   */\n  const openModal = function() {\n    props.dispatch({\n      type: \"modal/open\",\n      payload: { view: modalViews.USER_SETTINGS },\n    });\n  }\n\n  let serviceSvg;\n  if(nowPlayingTrackService === services.SPOTIFY) {\n    serviceSvg = iconSpotify;\n  } else if(nowPlayingTrackService === services.YOUTUBE) {\n    serviceSvg = iconYouTube;\n  } else if(nowPlayingTrackService === services.APPLE_MUSIC) {\n    serviceSvg = iconAppleMusic;\n  } else if(nowPlayingTrackService === services.JUKEBOX_RADIO) {\n    serviceSvg = iconLogoAlt;\n  } else if(nowPlayingTrackService === services.AUDIUS) {\n    serviceSvg = iconAudius;\n  } else {\n    serviceSvg = iconLogoAlt;\n  }\n\n  /*\n   * Modify playback to seek in a certain diretion ('forward' or 'backward').\n   */\n  const handleNext = function(direction) {\n    if(!controlsEnabled) {\n      return;\n    }\n    streamEngineActions.next({ pause: true });\n  };\n\n  /*\n   * Modify playback to seek in a certain diretion ('forward' or 'backward').\n   */\n  const handlePrev = function(direction) {\n    if(!controlsEnabled) {\n      return;\n    }\n    streamEngineActions.prev({ pause: true });\n  };\n\n  /*\n   * Modify playback to play or pause, whichever one is relevant.\n   * NOTE: If no song is currently playing, then the \"play button\" will\n   *       actually perform the \"nextTrack\" action.\n   */\n  const handlePlayPause = async function() {\n    if(!controlsEnabled) {\n      return;\n    }\n    if(nowPlaying?.status === \"played\") {\n      streamEngineActions.pause({\n        fake: { api: !playbackIsStream, playback: false },\n      });\n    } else if(nowPlaying?.status === 'paused' || !playbackIsStream) {\n      if(playbackIsStream || nowPlaying?.status === 'paused') {\n        streamEngineActions.play({\n          progress: nowPlaying.statusAt - nowPlaying.startedAt,\n          fake: { api: !playbackIsStream, playback: false },\n        });\n      } else {\n        streamEngineActions.play({\n          progress: nowPlaying.statusAt - nowPlaying.startedAt,\n          fake: { api: true, playback: false },\n        });\n      }\n    } else {\n      streamEngineActions.next({ pause: false });\n    }\n  }\n\n  /*\n   * When a user toggles volume level. It cycles through predefined volume\n   * levels.\n   */\n  const handleCycleVolumeLevel = function() {\n    const nextVolumeLevel = cycleVolumeLevel(audioVolumeLevel);\n    controls.volume(playback, nowPlaying, nextVolumeLevel);\n    props.dispatch({ type: 'playback/cycleVolumeLevelAudio' });\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.BottomBar}>\n\n      <div className={styles.ProgressBarContainer}>\n        <ProgressBar queue={nowPlaying}\n                           playbackControls={props.playbackControls}\n                           allowIntervalDelete={false}>\n        </ProgressBar>\n      </div>\n\n      <div className={styles.Settings}>\n        <button onClick={openModal}>\n          {bottomBarIcons.iconGear}\n        </button>\n      </div>\n\n      <button className={styles.Volume} onClick={handleCycleVolumeLevel}>\n        <CircularProgressbarWithChildren\n              value={audioVolumeLevel * 100}\n              circleRatio={0.75}\n              strokeWidth={3}\n              styles={buildStyles({\n                rotation: 1 / 2 + 1 / 8,\n                strokeLinecap: \"butt\",\n                pathColor: \"#0047FF\",\n                trailColor: \"#BCBCBC\",\n                pathTransitionDuration: 0.15,\n              })} >\n          <div className={styles.IconContainer}>\n            {serviceSvg}\n          </div>\n        </CircularProgressbarWithChildren>\n      </button>\n\n      {modal.view === modalViews.TRACK_DETAIL ?\n        <div className={styles.Playback}>\n          <button onClick={handleNext}\n                  disabled={!controlsEnabled} >\n            {bottomBarIcons.iconBackward1000}\n          </button>\n          <button onClick={handleNext}\n                  disabled={!controlsEnabled} >\n            {bottomBarIcons.iconBackward100}\n          </button>\n          <button onClick={handlePlayPause}\n                  disabled={!controlsEnabled} >\n            {controlsEnabled ? (\n              nowPlaying && nowPlaying.status === \"played\" ?\n                bottomBarIcons.iconPauseCircle : bottomBarIcons.iconPlayCircle\n              ) : <></>\n            }\n            {!controlsEnabled &&\n              <i className={styles.ggSpinner}></i>\n            }\n          </button>\n          <button onClick={handleNext}\n                  disabled={!controlsEnabled} >\n            {bottomBarIcons.iconForward100}\n          </button>\n          <button onClick={handleNext}\n                  disabled={!controlsEnabled} >\n            {bottomBarIcons.iconForward1000}\n          </button>\n        </div>\n        :\n        <div className={styles.Playback}>\n          <button onClick={handlePrev}\n                  disabled={!controlsEnabled} >\n            {iconPrevTrack}\n          </button>\n          <button onClick={handlePlayPause}\n                  disabled={!controlsEnabled} >\n            {controlsEnabled ? (\n              nowPlaying && nowPlaying.status === \"played\" ?\n                bottomBarIcons.iconPauseCircle : bottomBarIcons.iconPlayCircle\n              ) : <></>\n            }\n            {!controlsEnabled &&\n              <i className={styles.ggSpinner}></i>\n            }\n          </button>\n          <button onClick={handleNext}\n                  disabled={!controlsEnabled} >\n            {iconNextTrack}\n          </button>\n        </div>\n      }\n\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n    stream: state.stream,\n    queueMap: state.queueMap,\n    playback: state.playback,\n    main: state.main,\n    modal: state.modal,\n});\n\n\nexport default connect(mapStateToProps)(BottomBar);\n","import React, { useState } from \"react\";\n\nimport { connect } from 'react-redux';\nimport { Link } from \"react-router-dom\";\n\nimport styles from './SideBar.module.css';\n\n\nfunction SideBar(props) {\n\n  /*\n   * 🏗\n   */\n  const sideBar = props.sideBar;\n\n  // eslint-disable-next-line\n  const [counter, setCounter] = useState(0);\n\n  /*\n   * Switches the active tab, updating styles in the side bar.\n   */\n  const handleTab = function(tab) {\n    props.dispatch({\n      type: \"sideBar/selectTab\",\n      payload: { tab },\n    });\n  }\n\n  // TODO: refactor these inline CSS styles into classes.\n  let top;\n  if (sideBar.tab === \"search\") {\n    top = \"28px\";\n  } else if (sideBar.tab === \"queue\") {\n    top = \"91.5px\";\n  } else if (sideBar.tab === \"feed\") {\n    top = \"155px\";\n  }\n\n   /*\n    * 🎨\n    */\n  return (\n    <div className={styles.SideBar}>\n\n      <div className={styles.MenuContainer}>\n        <div className={styles.Menu}\n            onClick={(e) => { setCounter(prev => prev + 1); }}>\n          <div className={(sideBar.tab === \"search\" && styles.LiSelected) || \"\"}>\n            <Link to=\"/app/search\" onClick={() => { handleTab(\"search\"); }} style={{color: \"#000\"}}>Search</Link>\n          </div>\n          <div className={(sideBar.tab === \"queue\" && styles.LiSelected) || \"\"}>\n            <Link to=\"/app/queue\" onClick={() => { handleTab(\"queue\"); }} style={{color: \"#000\"}}>Queue</Link>\n          </div>\n          <div className={(sideBar.tab === \"feed\" && styles.LiSelected) || \"\"}>\n            <Link to=\"/app/feed\" onClick={() => { handleTab(\"feed\"); }} style={{color: \"#000\"}}>Feed</Link>\n          </div>\n        </div>\n\n        <div className={styles.BlockContainer}>\n          <div className={styles.Block} style={{top}}></div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n    sideBar: state.sideBar,\n});\n\n\nexport default connect(mapStateToProps)(SideBar);\n","export const iconLogo = (\n  <svg width=\"38\" height=\"38\" viewBox=\"0 0 213 213\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect width=\"213\" height=\"213\" fill=\"#0047FF\"/>\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M65.9999 172.354L65.9999 140.822C93.3189 140.822 115.465 118.675 115.465 91.3561L115.465 91.3535L147 91.3535L147 91.3544C147 136.089 110.735 172.354 66 172.354C66 172.354 65.9999 172.354 65.9999 172.354Z\" fill=\"white\"/>\n    <circle cx=\"130.924\" cy=\"56.7267\" r=\"16.0763\" fill=\"white\"/>\n  </svg>\n);\n","import React, { useEffect } from \"react\";\n\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport { connect } from 'react-redux';\n\nimport * as modalViews from '../../../config/views/modal';\n\nimport FeedApp from '../../FeedApp/FeedApp';\nimport QueueApp from '../../QueueApp/QueueApp';\nimport MiniQueue from '../../QueueApp/MiniQueue/MiniQueue';\nimport SearchApp from '../../SearchApp/SearchApp';\nimport MiniNotes from '../../SearchApp/MiniNotes/MiniNotes';\n\nimport ModalApp from '../../ModalApp/ModalApp';\n\nimport BottomBar from '../BottomBar/BottomBar';\nimport SideBar from '../SideBar/SideBar';\n\nimport styles from './Session.module.css';\nimport { iconLogo } from './icons';\n\n\nfunction Session(props) {\n\n  const modal = props.modal;\n\n  /*\n   * Switches the active tab, updating styles in the side bar.\n   */\n  const handleTab = function(tab) {\n    props.dispatch({\n      type: \"sideBar/selectTab\",\n      payload: { tab },\n    });\n  }\n\n  useEffect(() => {\n    if(window.location.pathname === '/app/welcome') {\n      props.dispatch({\n        type: \"modal/open\",\n        payload: { view: modalViews.WELCOME },\n      });\n    }\n  // eslint-disable-next-line\n  }, [])\n\n   /*\n    * 🎨\n    */\n  return (\n    <div className={styles.Session}>\n\n      {/* LOGO */}\n      <div className={styles.Logo}>\n        {iconLogo}\n      </div>\n\n      {/* SIDE BAR */}\n      {!modal.isOpen &&\n        <SideBar />\n      }\n\n      {/* MAIN CONTENT */}\n      {!modal.isOpen &&\n        <div className={styles.Content}>\n          <Switch>\n\n            {/* FEED */}\n            <Route path=\"/app/feed\">\n              <FeedApp />\n            </Route>\n\n            {/* QUEUE */}\n            <Route path=\"/app/queue\">\n              <div className={styles.PrimaryContent}>\n                <QueueApp />\n              </div>\n              <div className={styles.SecondaryContent}>\n                <MiniNotes />\n              </div>\n            </Route>\n\n            {/* SEARCH */}\n            <Route path=\"/app/search\">\n              <div className={styles.PrimaryContent}>\n                <SearchApp />\n              </div>\n                <div className={styles.SecondaryContent}>\n                  <MiniNotes />\n                  <Link to=\"/app/queue\" onClick={() => { handleTab(\"queue\"); }} style={{ textDecoration: 'none', color: \"#000\" }}>\n                    <MiniQueue />\n                  </Link>\n                </div>\n            </Route>\n\n          </Switch>\n        </div>\n      }\n\n      {/* BOTTOM BAR */}\n      {(!modal.isOpen || (modal.isOpen && modal.config.bottomBar)) &&\n        <BottomBar />\n      }\n\n      {/* MODAL APP */}\n      <ModalApp />\n\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n  modal: state.modal,\n});\n\n\nexport default connect(mapStateToProps)(Session);\n","import React from \"react\";\n\nimport { connect } from 'react-redux';\nimport { Switch, Route } from \"react-router-dom\";\n\nimport SpotifySync from '../SpotifySync/SpotifySync';\nimport Session from './Session/Session';\n\n\nfunction MainRouter(props) {\n\n  /*\n   * 🎨\n   */\n  return (\n    <Switch>\n      <Route path=\"/app/:content\">\n        <Session />\n      </Route>\n      <Route path=\"/u/:username\">\n        <span>PROFILE</span>\n      </Route>\n      <Route path=\"/spotify\">\n        <SpotifySync />\n      </Route>\n      <Route>\n        <Session />\n      </Route>\n    </Switch>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({});\n\n\nexport default connect(mapStateToProps)(MainRouter);\n","import {\n  fetchTextCommentList,\n  fetchVoiceRecordingList,\n} from '../FeedApp/network';\n\nimport { store } from '../../utils/redux';\n\n\n/*\n * Load comments and voice recordings to update the feed.\n */\nexport const fetchUpdateFeed = async function(trackUuid) {\n  const responseJsonTextCommentList = await fetchTextCommentList(trackUuid);\n  store.dispatch(responseJsonTextCommentList.redux);\n  const responseJsonVoiceRecordingList = await fetchVoiceRecordingList(trackUuid);\n  store.dispatch(responseJsonVoiceRecordingList.redux);\n};\n","import { store } from '../../../utils/redux';\nimport { fetchNextTrack, fetchPrevTrack } from './network';\n\n\nexport const onpause = function() {\n  const reduxState = store.getState();\n  if(reduxState.playback.action !== \"paused\") {\n    // console.log('Paused, Hmm?');\n    return;\n  }\n  const action = null;\n  store.dispatch({\n    type: \"playback/action\",\n    payload: { action },\n  });\n}\n\nexport const onplay = function() {\n  const reduxState = store.getState();\n  if(reduxState.playback.action !== \"played\") {\n    // console.log('Played, Hmm?');\n    return;\n  }\n  const action = null;\n  store.dispatch({\n    type: \"playback/action\",\n    payload: { action },\n  });\n}\n\nexport const onseeked = function() {\n  const reduxState = store.getState();\n\n  // TODO: should be \"seeked\"\n  if(reduxState.playback.action !== \"played\") {\n    // console.log('Seeked, Hmm?');\n    return;\n  }\n  const action = null;\n  store.dispatch({\n    type: \"playback/action\",\n    payload: { action },\n  });\n}\n\nexport const handleNext = async function() {\n  const reduxState = store.getState();\n\n  store.dispatch({ type: 'main/actionStart' });\n  store.dispatch({ type: 'main/disable' });\n  store.dispatch({ type: 'stream/nextTrack' });\n\n  const main = reduxState.main,\n        action = main.actions[0];\n\n  store.dispatch({ type: \"feedApp/resetTextComment\" });\n\n  if(action.settings.pause) {\n    store.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"pause\",\n          status: \"kickoff\",\n          fake: true,\n        },\n      },\n    });\n  }\n\n  if(action.settings.skip) {\n    store.dispatch({\n      type: \"main/addAction\",\n      payload: {\n        action: {\n          name: \"skip\",\n          status: \"kickoff\",\n          fake: false,\n        },\n      },\n    });\n  }\n\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: {\n      action: {\n        name: \"mount\",\n        // stream: stream,\n        status: \"kickoff\",\n        fake: true,  // symbolic, not functional\n      },\n    },\n  });\n\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: {\n      action: {\n        name: \"play\",\n        status: \"kickoff\",\n        fake: { api: true, playback: !action.settings.play },\n      },\n    },\n  });\n\n  await fetchNextTrack(false);\n  store.dispatch({ type: 'main/actionShift' });\n}\n\nexport const handlePrev = async function() {\n  store.dispatch({ type: 'main/actionStart' });\n  store.dispatch({ type: 'main/disable' });\n  store.dispatch({ type: 'stream/prevTrack' });\n\n  store.dispatch({ type: \"feedApp/resetTextComment\" });\n\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: {\n      action: {\n        name: \"pause\",\n        status: \"kickoff\",\n        fake: true,\n      },\n    },\n  });\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: {\n      action: {\n        name: \"mount\",\n        // stream: stream,\n        status: \"kickoff\",\n        fake: true,  // symbolic, not functional\n      },\n    },\n  });\n  store.dispatch({\n    type: \"main/addAction\",\n    payload: {\n      action: {\n        name: \"play\",\n        status: \"kickoff\",\n        fake: { api: true },\n      },\n    },\n  });\n\n  await fetchPrevTrack(false);\n  store.dispatch({ type: 'main/actionShift' });\n}\n","import { store } from '../../../utils/redux';\nimport { getPositionMilliseconds } from '../utils';\n\n\nexport const scheduleSpeakVoiceRecordings = function() {\n  const state = store.getState(),\n        feedApp = state.feedApp,\n        playback = state.playback,\n        queueMap = state.queueMap,\n        voiceRecordingTimeoutId = state.voiceRecordingTimeoutId,\n        voiceRecordingMap = state.voiceRecordingMap;\n\n  if(voiceRecordingTimeoutId > 0) {\n    return;\n  }\n\n  const nowPlaying = queueMap[playback.nowPlayingUuid];\n  if(!nowPlaying) {\n    return;\n  }\n\n  const arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt),\n        position = arr[0],\n        voiceRecordingUuids = [...(feedApp.trackMap[nowPlaying.track.uuid]?.voiceRecordingUuids || [])];\n\n  let voiceRecordings;\n  voiceRecordings = voiceRecordingUuids.map(uuid => voiceRecordingMap[uuid]);\n  voiceRecordings = voiceRecordings.filter(obj => obj.timestampMilliseconds > position);\n  if(!voiceRecordings.length) {\n    return;\n  }\n  voiceRecordings = voiceRecordings.sort(function(a, b) {\n    return a.timeoutMilliseconds - b.voiceRecordings;\n  });\n\n  const nextVoiceRecordingDelay = voiceRecordings[0].timestampMilliseconds - position,\n        timeoutId = setTimeout(() => {\n          store.dispatch({ type: \"voiceRecording/play\" });\n        }, nextVoiceRecordingDelay);\n\n  store.dispatch({\n    type: \"voiceRecording/schedulePlay\",\n    payload: { timeoutId },\n  });\n}\n\nexport const closeModal = function() {\n  store.dispatch({ type: 'main/actionStart' });\n  store.dispatch({ type: \"modal/close\" });\n  store.dispatch({ type: 'main/actionShift' });\n}\n","import React, { useEffect } from \"react\";\n\nimport { connect } from 'react-redux';\n\nimport MainRouter from '../../MainRouter/MainRouter';\nimport { fetchUpdateFeed } from '../../FeedApp/utils';\nimport { fetchPauseTrack, fetchPlayTrack, fetchScan, fetchTrackGetFiles } from './network';\nimport { getLeafQueue } from '../../QueueApp/utils';\nimport * as services from '../../../config/services';\nimport { onplay, onpause, onseeked, handleNext, handlePrev } from './utils';\nimport { scheduleSpeakVoiceRecordings, closeModal } from './effects';\n\n\nfunction StreamEngine(props) {\n\n  const main = props.main,\n        stream = props.stream,\n        feedApp = props.feedApp,\n        playback = props.playback,\n        queueMap = props.queueMap,\n        streamEngine = props.streamEngine,\n        lastUpQueueUuids = props.lastUpQueueUuids,\n        nextUpQueueUuids = props.nextUpQueueUuids,\n        voiceRecordingTimeoutId = props.voiceRecordingTimeoutId,\n        nowPlaying = queueMap[playback.nowPlayingUuid],\n        lastUp = getLeafQueue(lastUpQueueUuids[lastUpQueueUuids.length - 1], queueMap),\n        nextUp = getLeafQueue(nextUpQueueUuids[0], queueMap);\n\n  const playbackIsStream = stream.nowPlayingUuid === playback.nowPlayingUuid;\n\n  /*\n   *\n   */\n  const seek = async function() {\n    props.dispatch({ type: 'main/actionStart' });\n    props.dispatch({ type: 'main/disable' });\n    props.dispatch({ type: \"main/clearAutoplayTimeoutId\" });\n\n    const action = main.actions[0],\n          timestampMilliseconds = action.timestampMilliseconds;\n\n    // Seek in the playback engine\n    const isSeeking = props.playbackControls.seek(timestampMilliseconds);\n\n    if(!isSeeking) {\n      // If seek failed for some reason, return early.\n      props.dispatch({ type: 'main/actionShift' });\n      props.dispatch({ type: 'main/enable' });\n      return;\n    }\n\n    // Do other related things\n    props.dispatch({ type: \"voiceRecording/pause\" });\n    props.dispatch({ type: \"voiceRecording/play\" });\n    props.dispatch({\n      type: 'feed/takeAction',\n      payload: {\n        timestampMilliseconds: timestampMilliseconds,\n        action: \"seeked\",\n        trackUuid: nowPlaying.track.uuid,\n      },\n    });\n\n    if(timestampMilliseconds) {\n      // If not routine seek, append to feed\n      props.dispatch({\n        type: 'feed/takeAction',\n        payload: {\n          timestampMilliseconds: timestampMilliseconds,\n          action: \"seeked\",\n          trackUuid: nowPlaying.track.uuid,\n        },\n      });\n    }\n\n    // Seek in the API layer\n    const startedAt = Date.now() - timestampMilliseconds;\n    if(!action.fake) {\n      await fetchScan(startedAt);\n    }\n\n    props.dispatch({ type: 'main/actionShift' });\n    props.dispatch({ type: 'main/enable' });\n  }\n\n  /*\n   *\n   */\n  const pause = async function() {\n    props.dispatch({ type: 'main/actionStart' });\n    props.dispatch({ type: 'main/disable' });\n\n    const action = main.actions[0];\n\n    // Pause in the playback engine\n    const isPausing = props.playbackControls.pause();\n\n    if(!isPausing) {\n      // If pause failed for some reason, return early.\n      props.dispatch({ type: 'main/actionShift' });\n      props.dispatch({ type: 'main/enable' });\n      return;\n    }\n\n\n    // Do other related things\n    props.dispatch({ type: \"voiceRecording/pause\" });\n    props.dispatch({\n      type: 'feed/takeAction',\n      payload: {\n        action: \"paused\",\n      },\n    });\n\n    // Pause in the API layer\n    if(!action.fake) {\n      await fetchPauseTrack();\n    }\n\n    props.dispatch({ type: 'main/actionShift' });\n    props.dispatch({ type: 'main/enable' });\n  }\n\n  /*\n   *\n   */\n  const play = async function() {\n    props.dispatch({ type: 'main/actionStart' });\n    props.dispatch({ type: 'main/disable' });\n    props.dispatch({ type: \"main/clearAutoplayTimeoutId\" });\n\n    const action = main.actions[0],\n          timestampMilliseconds = action.timestampMilliseconds;\n\n    // Play in the playback engine\n    const isPlaying = props.playbackControls.play(timestampMilliseconds, action.fake.playback);\n    if(!isPlaying) {\n      // If play failed for some reason, return early.\n      props.dispatch({ type: 'main/actionShift' });\n      props.dispatch({ type: 'main/enable' });\n      return;\n    }\n\n    // Do other related things\n    props.dispatch({ type: \"voiceRecording/play\" });\n    props.dispatch({\n      type: 'feed/takeAction',\n      payload: {\n        timestampMilliseconds: timestampMilliseconds,\n        action: \"played\",\n        trackUuid: nowPlaying.track.uuid,\n      },\n    });\n\n    // Pause in the API layer\n    if(!action.fake.api) {\n      await fetchPlayTrack(timestampMilliseconds);\n    }\n\n    props.dispatch({ type: 'main/actionShift' });\n    props.dispatch({ type: 'main/enable' });\n  }\n\n  const loadAudio = async function() {\n    props.dispatch({ type: 'main/actionStart' });\n    props.dispatch({ type: 'main/disable' });\n\n    const action = main.actions[0],\n          queue = action.queue;\n\n    if(!playback.files.hasOwnProperty(queue.track.uuid)) {\n      if(queue.track.service === services.JUKEBOX_RADIO) {\n        const responseJson = await fetchTrackGetFiles(queue.track.uuid);\n        responseJson.redux.payload = {\n          ...responseJson.redux.payload, onplay, onpause, onseeked,\n        };\n        props.dispatch(responseJson.redux);\n      }\n      if(queue.track.service === services.AUDIUS) {\n        props.dispatch({\n          \"type\": \"playback/loadAudius\",\n          \"payload\": {\n            \"id\": queue.track.externalId,\n            \"trackUuid\": queue.track.uuid,\n            onplay, onpause, onseeked,\n          },\n        });\n      }\n      props.dispatch({\n        type: \"streamEngine/queueLoaded\",\n        payload: { queueUuid: queue.uuid },\n      });\n    }\n\n    // TODO: This actions should really be shifted once the audio file is\n    //       properly loaded.\n    props.dispatch({ type: 'main/actionShift' });\n    props.dispatch({ type: 'main/enable' });\n  }\n\n  const loadFeed = async function() {\n    props.dispatch({ type: 'main/actionStart' });\n    props.dispatch({ type: 'main/disable' });\n\n    const action = main.actions[0],\n          queue = action.queue;\n\n    await fetchUpdateFeed(queue.track.uuid);\n\n    props.dispatch({ type: 'main/actionShift' });\n    props.dispatch({ type: 'main/enable' });\n  }\n\n  const mount = function() {\n    props.dispatch({ type: 'main/actionStart' });\n    props.dispatch({ type: 'main/disable' });\n\n    const action = main.actions[0];\n    let payload = {};\n    if(action.queue) {\n      payload = { queue: action.queue };\n    } else if(action.stream) {\n      // payload = { stream: action.stream };\n    }\n\n    props.dispatch({ type: \"playback/mount\", payload });\n\n    props.dispatch({ type: 'main/actionShift' });\n    props.dispatch({ type: 'main/enable' });\n  }\n\n  const openModal = function() {\n    props.dispatch({ type: 'main/actionStart' });\n    props.dispatch({ type: 'main/disable' });\n\n    const action = main.actions[0],\n          { view } = action;\n    props.dispatch({\n      type: \"modal/open\",\n      payload: { view },\n    });\n\n    props.dispatch({ type: 'main/actionShift' });\n    props.dispatch({ type: 'main/enable' });\n  }\n\n  const handleSkip = async function() {\n    props.dispatch({ type: 'main/actionStart' });\n    props.dispatch({ type: 'main/disable' });\n\n    const queueMap = props.queueMap,\n          stream = props.stream,\n          streamNowPlaying = queueMap[stream.nowPlayingUuid];\n\n    // Play in the playback engine\n    const isSkipping = props.playbackControls.skip(streamNowPlaying);\n    if(!isSkipping) {\n      // If play failed for some reason, return early.\n      props.dispatch({ type: 'main/actionShift' });\n      props.dispatch({ type: 'main/enable' });\n      return;\n    }\n\n    props.dispatch({ type: 'main/actionShift' });\n  }\n\n  /*\n   * An action was triggered or changed somewhere in the application. This\n   * handles the change accordingly.\n   */\n  useEffect(function() {\n    console.log(main.actions)\n    if(!main.actions.length) {\n      // We only do something if there is something to do.\n      return;\n    }\n\n    const action = main.actions[0];\n    if(action.status !== \"kickoff\") {\n      // Something is already in progress.\n      return;\n    }\n\n    if(playback.action) {\n      // Playback action is still in progress.\n      return;\n    }\n\n    if(action.name === \"seek\") {\n      seek();\n    } else if(action.name === \"pause\") {\n      pause();\n    } else if(action.name === \"play\") {\n      play();\n    } else if(action.name === \"skip\") {\n      handleSkip();\n    } else if(action.name === \"next\") {\n      handleNext();\n    } else if(action.name === \"prev\") {\n      handlePrev();\n    } else if(action.name === \"loadAudio\") {\n      loadAudio();\n    } else if(action.name === \"loadFeed\") {\n      loadFeed();\n    } else if(action.name === \"mount\") {\n      mount();\n    } else if(action.name === \"openModal\") {\n      openModal();\n    } else if(action.name === \"closeModal\") {\n      closeModal();\n    }\n  // eslint-disable-next-line\n  }, [main, playback])\n\n  /*\n   * Schedules \"next track\" behavior after \"now playing\" terminates.\n   */\n  useEffect(function() {\n    if(playback.nowPlayingUuid !== stream.nowPlayingUuid) {\n      return;\n    }\n    if(main.autoplayTimeoutId || !playback.isPlaying) {\n      return;\n    }\n\n    const timestampMilliseconds = Date.now() - nowPlaying.startedAt,\n          remainingMilliseconds = nowPlaying.durationMilliseconds - timestampMilliseconds,\n          timeoutDelay = remainingMilliseconds - 5000;\n\n    const timeoutId = setTimeout(kickoffAutoplay, timeoutDelay);\n    props.dispatch({\n      type: \"main/setAutoplayTimeoutId\",\n      payload: { timeoutId },\n    });\n  // eslint-disable-next-line\n  }, [main, playback])\n\n  const kickoffAutoplay = function() {\n    props.dispatch({ type: 'main/disable' });\n\n    const timestampMilliseconds = Date.now() - nowPlaying.startedAt,\n          remainingMilliseconds = nowPlaying.durationMilliseconds - timestampMilliseconds,\n          timeoutDelay = remainingMilliseconds - 4850;\n\n    setTimeout(initializeAutoplay, timeoutDelay);\n  }\n\n  const initializeAutoplay = function() {\n\n    if(!nextUp) {\n      return;\n    }\n\n    const timestampMilliseconds = Date.now() - nowPlaying.startedAt,\n          remainingMilliseconds = nowPlaying.durationMilliseconds - timestampMilliseconds,\n          timeoutDelay = remainingMilliseconds;\n\n    const isQueued = props.playbackControls.queue(nextUp?.uuid);\n    let pause = true,\n        skip = false,\n        play = true;\n    if(isQueued) {\n      const lastIdx = nowPlaying.playbackIntervals.length - 1;\n\n      pause = false;\n      skip = (\n        nowPlaying.playbackIntervals[lastIdx].endPosition !==\n        nowPlaying.track.durationMilliseconds\n      );\n      play = false;\n    }\n\n    const settings = { pause, skip, play };\n\n    setTimeout(function() {\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: {\n          action: {\n            name: \"next\",\n            status: \"kickoff\",\n            fake: false,\n            settings,\n          },\n        },\n      });\n    }, timeoutDelay);\n  }\n\n  useEffect(function() {\n    if(playback.nowPlayingUuid === stream.nowPlayingUuid) {\n      return;\n    }\n    if(main.autoplayTimeoutId || !playback.isPlaying) {\n      return;\n    }\n\n    const timestampMilliseconds = Date.now() - nowPlaying.startedAt,\n          remainingMilliseconds = nowPlaying.durationMilliseconds - timestampMilliseconds,\n          timeoutDelay = remainingMilliseconds;\n\n    const timeoutId = setTimeout(resetStartedAt, timeoutDelay);\n    props.dispatch({\n      type: \"main/setAutoplayTimeoutId\",\n      payload: { timeoutId },\n    });\n  // eslint-disable-next-line\n  }, [main, playback]);\n\n  const resetStartedAt = function() {\n    const now = Date.now();\n    props.dispatch({\n      type: 'queue/update',\n      payload: {\n        queues: [\n          {\n            ...nowPlaying,\n            startedAt: now,\n            statusAt: now,\n            status: \"paused\",\n          }\n        ]\n      },\n    });\n  }\n\n  /*\n   * Used to preload for soon-to-be-played queue items.\n   */\n  useEffect(function() {\n    if(!playbackIsStream) {\n      return;\n    }\n\n    const queues = [lastUp, nowPlaying, nextUp];\n    const queuesAlreadyLoading = new Set(\n      main.actions\n      .filter(a => a.name === 'loadAudio')\n      .map(a => a.queue.uuid)\n    );\n\n    // Preload audio\n    for(const queue of queues) {\n      if(!queue?.track) {\n        // No queue, nothing to load.\n        continue;\n      }\n\n      if(queuesAlreadyLoading.has(queue.uuid)) {\n        // Audio is already been queued up for loading.\n        return;\n      }\n\n      if(streamEngine.loadedQueueUuids.has(queue.track.uuid)) {\n        // Audio is already loading or loaded.\n        continue;\n      }\n\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: {\n          action: {\n            name: \"loadAudio\",\n            queue: queue,\n            status: \"kickoff\",\n            fake: true,  // symbolic, not functional\n          },\n        },\n      });\n    }\n\n    // Preload feed\n    const queuesAlreadyLoadingFeed = new Set(\n      main.actions\n      .filter(a => a.name === 'loadFeed')\n      .map(a => a.queue.uuid)\n    );\n    for(const queue of queues) {\n      if(!queue?.track) {\n        // No queue, nothing to load.\n        continue;\n      }\n\n      if(queuesAlreadyLoadingFeed.has(queue.uuid)) {\n        // Feed is already loading.\n        continue;\n      }\n\n      if(feedApp.trackMap.hasOwnProperty(queue.track.uuid)) {\n        // Feed is already loaded.\n        continue;\n      }\n\n      props.dispatch({\n        type: \"main/addAction\",\n        payload: {\n          action: {\n            name: \"loadFeed\",\n            queue: queue,\n            status: \"kickoff\",\n            fake: false,  // symbolic, not functional\n          },\n        },\n      });\n    }\n  // eslint-disable-next-line\n  }, [playback])\n\n\n  /*\n   * Schedule speak voice recordings\n   */\n  useEffect(scheduleSpeakVoiceRecordings, [voiceRecordingTimeoutId]);\n\n  /*\n   * 🎨\n   */\n  return <MainRouter />;\n}\n\n\nconst mapStateToProps = (state) => ({\n  main: state.main,\n  playback: state.playback,\n  queueMap: state.queueMap,\n  lastUpQueueUuids: state.lastUpQueueUuids,\n  nextUpQueueUuids: state.nextUpQueueUuids,\n  stream: state.stream,\n  feedApp: state.feedApp,\n  voiceRecordingMap: state.voiceRecordingMap,\n  voiceRecordingTimeoutId: state.voiceRecordingTimeoutId,\n  streamEngine: state.streamEngine,\n});\n\n\nexport default connect(mapStateToProps)(StreamEngine);\n","export const appendScript = async function(scriptPath) {\n  return new Promise(resolve => {\n    const script = document.createElement(\"script\");\n    script.src = scriptPath;\n    script.async = true;\n    script.onload = () => { resolve(); };\n    document.body.appendChild(script);\n  });\n}\n","import { useEffect, useState } from \"react\";\n\nimport { connect } from 'react-redux';\nimport YouTube from 'react-youtube';\n\nimport StreamEngine from '../StreamEngine/StreamEngine';\nimport { fetchGetUserSettings } from '../../ModalApp/UserSettings/network';\nimport * as services from '../../../config/services';\nimport { appendScript } from '../../../utils/async';\nimport { store } from '../../../utils/redux';\n\nimport * as controls from './controls';\nimport { getPositionMilliseconds, updateSpotifyPlayer } from '../utils';\nimport styles from './PlaybackEngine.module.css';\n\n\nconst SpotifyWebApi = require('spotify-web-api-js');\n\n\nfunction PlaybackEngine(props) {\n\n  /*\n   * 🏗\n   */\n  const stream = props.stream,\n        playback = props.playback,\n        userSettings = props.userSettings,\n        feedApp = props.feedApp,\n        sideBar = props.sideBar,\n        modal = props.modal;\n\n  const queueMap = props.queueMap,\n        nowPlaying = queueMap[playback.nowPlayingUuid];\n\n  // Convenience values to help clarify setting up playback SDKs.\n  const [spotifySDKReady, setSpotifySDKReady] = useState(false);\n  const [spotifySDKDeviceID, setSpotifySDKDeviceID] = useState(undefined);\n\n  //////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////\n  //// PLAYBACK INTERFACE\n\n  /*\n   * Seek to the expected position in the track. This may be called in 2 cases:\n   *   1: a user prompts a manual seek event.\n   *   2: a seekTimeout event is triggered, meaning the now playing track must\n   *      seek to the new expected track progress (in the case of a muted\n   *      interval).\n   */\n  const seek = function(timestampMilliseconds = undefined) {\n    if(!nowPlaying) {\n      // A queue must be mounted to the playback engine.\n      return false;\n    }\n    if(!playback.isPlaying) {\n      // That something in must also currently be playing.\n      return false;\n    }\n    if(playback.action) {\n      // No other action can be in progress, like playing a new track.\n      return false;\n    }\n\n    // Valid conditions, so we seek.\n    const action = 'played';\n    props.dispatch({\n      type: 'playback/action',\n      payload: { action },\n    });\n\n    // Clear scheduled \"seek\"\n    props.dispatch({ type: 'playback/clearSeekTimeoutId' });\n\n    const startedAt = (\n      timestampMilliseconds === undefined ?\n      nowPlaying.startedAt : Date.now() - timestampMilliseconds\n    );\n    nowPlaying.startedAt = startedAt;\n    controls.seek(playback, nowPlaying, startedAt);\n\n    // We need to update the queue object as well.\n    props.dispatch({\n      type: 'queue/update',\n      payload: {\n        queues: [\n          {\n            ...nowPlaying,\n            startedAt,\n            statusAt: Date.now(),\n            status: \"played\",\n          }\n        ]\n      },\n    });\n\n    // Let the caller know that seek was initiated.\n    return true;\n  }\n\n  /*\n   * Toggling the player from \"playing\" to \"paused.\"\n   */\n  const pause = function() {\n    if(!nowPlaying) {\n      // A queue must be mounted to the playback engine.\n      return false;\n    }\n    if(!playback.isPlaying) {\n      // That something in must also currently be playing.\n      return false;\n    }\n    if(playback.action) {\n      // No other action can be in progress, like playing a new track.\n      return false;\n    }\n\n    // Valid conditions, so we pause.\n    const action = 'paused';\n    props.dispatch({\n      type: 'playback/action',\n      payload: { action },\n    });\n\n    // Clear scheduled \"seek\"\n    props.dispatch({ type: 'playback/clearSeekTimeoutId' });\n\n    controls.pause(playback, nowPlaying);\n\n    // We need to update the queue object as well.\n    props.dispatch({\n      type: 'queue/update',\n      payload: {\n        queues: [\n          {\n            ...nowPlaying,\n            statusAt: Date.now(),\n            status: \"paused\",\n          }\n        ]\n      },\n    });\n\n    // Let the caller know that pause was initiated.\n    return true;\n  }\n\n  /*\n   * Toggling the player from the \"paused\" to \"playing\" state.\n   */\n  const play = function(timestampMilliseconds = undefined, fake = false) {\n    if(!nowPlaying) {\n      // A queue must be mounted to the playback engine.\n      return false;\n    }\n    if(playback.isPlaying) {\n      // That something must also not be currently playing.\n      return false;\n    }\n    if(playback.action) {\n      // No other action can be in progress, like playing a new track.\n      return false;\n    }\n    if(!nowPlaying.track?.uuid) {\n      return false;\n      // The now playing item is an empty queue.\n    }\n\n    // Valid conditions, so we play.\n    const action = 'played';\n    props.dispatch({\n      type: 'playback/action',\n      payload: { action },\n    });\n\n    const now = Date.now(),\n          startedAt = (\n            timestampMilliseconds ?\n            now - timestampMilliseconds : now\n          );\n    nowPlaying.status = 'played';\n    nowPlaying.statusAt = now;\n    nowPlaying.startedAt = startedAt;\n\n    if(!fake) {\n      controls.start(playback, nowPlaying);\n    } else {\n      // NOTE: if faking a MusicKit play, then we must update the playback\n      //       action as complete.\n      if(nowPlaying.track.service === services.APPLE_MUSIC) {\n        props.dispatch({\n          type: 'playback/action',\n          payload: { action: null },\n        });\n      }\n    }\n\n    // We need to update the queue object as well.\n    props.dispatch({\n      type: 'queue/update',\n      payload: {\n        queues: [\n          {\n            ...nowPlaying,\n            startedAt,\n            statusAt: now,\n            status: \"played\",\n          }\n        ]\n      },\n    });\n\n    return true;\n  }\n\n  const queue = function(queueUuid) {\n    const queue = queueMap[queueUuid],\n          shouldQueueAppleMusic = (\n            nowPlaying.track.service === services.APPLE_MUSIC &&\n            queue.track.service === services.APPLE_MUSIC\n          ),\n          shouldQueueSpotify = (\n            nowPlaying.track.service === services.SPOTIFY &&\n            queue.track.service === services.SPOTIFY &&\n            queue.playbackIntervals[0].startPosition === 0\n          );\n\n    if(!(shouldQueueAppleMusic || shouldQueueSpotify)) {\n      return false;\n    }\n\n    controls.queue(playback, queue);\n    console.log('queued!')\n\n    return true;\n  }\n\n  /*\n   *\n   */\n  const skip = function() {\n    if(!nowPlaying) {\n      // A queue must be mounted to the playback engine.\n      return false;\n    }\n    if(!playback.isPlaying) {\n      // That something in must also currently be playing.\n      return false;\n    }\n    if(playback.action) {\n      // No other action can be in progress, like playing a new track.\n      return false;\n    }\n    // if(!playback.onDeckUuid) {\n    //   // There must be a track \"on deck,\" previously pre-loaded via a playback\n    //   // service (like MusicKit or Spotify).\n    //   return false;\n    // }\n\n    // Valid conditions, so we skip.\n    // const action = 'skipped';\n    // props.dispatch({\n    //   type: 'playback/action',\n    //   payload: { action },\n    // });\n\n    // Clear scheduled \"seek\"\n    props.dispatch({ type: 'playback/clearSeekTimeoutId' });\n\n    controls.skip(playback, nowPlaying);\n\n    // We need to update the queue object as well.\n    // const onDeck = queueMap[playback.onDeckUuid];\n    props.dispatch({\n      type: 'queue/update',\n      payload: {\n        queues: [\n          {\n            ...nowPlaying,\n            statusAt: Date.now(),\n            status: \"paused\",\n          },\n          // {\n          //   ...onDeck,\n          //   statusAt: Date.now(),\n          //   status: \"played\",\n          // }\n        ]\n      },\n    });\n\n    // Let the caller know that pause was initiated.\n    return true;\n  }\n\n  /*\n   * Passed down to child components so they can have a handle on playback.\n   */\n  const playbackControls = { seek, pause, play, skip, queue };\n\n  //////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////\n  //// PLAYBACK ENGINE\n  useEffect(() => {\n\n    // debouncer\n    const needsToScheduleAddToQueue = (\n      nowPlaying?.status === \"played\" &&\n      playback.isPlaying &&\n      !playback.seekTimeoutId\n    );\n    if(!needsToScheduleAddToQueue) {\n      return;\n    }\n\n    // Schedule task that modifies playback due to configured intervals.\n    const arr = getPositionMilliseconds(nowPlaying, nowPlaying.startedAt),\n          seekTimeoutDuration = arr[1];\n    if(seekTimeoutDuration) {\n      const timeoutId = setTimeout(function() {\n        const action = {\n          name: \"seek\",\n          status: \"kickoff\",\n          fake: true,\n        };\n        props.dispatch({\n          type: \"main/addAction\",\n          payload: { action },\n        });\n      }, seekTimeoutDuration);\n      props.dispatch({\n        type: 'playback/setSeekTimeoutId',\n        payload: { timeoutId },\n      });\n    }\n\n  // eslint-disable-next-line\n  }, [playback]);\n\n\n  //////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////\n  //// LOAD SDKs\n  useEffect(() => {\n    appendSpotifySDK();\n    appendAppleMusicSDK();\n  // eslint-disable-next-line\n  }, []);\n\n  //////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////\n  //// SPOTIFY\n\n  /*\n   * Loads the Spotify SDK.\n   */\n  const appendSpotifySDK = function() {\n    window.onSpotifyWebPlaybackSDKReady = () => {\n      setSpotifySDKReady(true);\n    };\n    appendScript(\"https://sdk.scdn.co/spotify-player.js\");\n  };\n\n  /*\n   * Spotify SDK script has been loaded. Now initialize the SDK.\n   */\n  useEffect(() => {\n    if(!spotifySDKReady) {\n      return;\n    }\n\n    // Define the Spotify Web SDK.\n    const player = new window.Spotify.Player({\n      name: 'Jukebox Radio',\n      getOAuthToken: (cb) => {\n        fetchGetUserSettings()\n          .then(responseJson => {\n            const spotifyAccessToken = responseJson.data.spotify.accessToken;\n            if(spotifyAccessToken) {\n              // Spotify's SDK automatically refreshes the access token\n              // periodically so it always has a valid token.\n              cb(spotifyAccessToken);\n              // The SpotifyWebApi interface must be updated as well.\n              const spotifyApi = new SpotifyWebApi();\n              spotifyApi.setAccessToken(responseJson.data.spotify.accessToken);\n              props.dispatch({\n                type: 'playback/spotify',\n                payload: { spotifyApi: spotifyApi },\n              });\n            }\n          });\n      }\n    });\n\n    // Once player is ready, tranfer playback to Spotify Web SDK.\n    player.addListener('ready', ({ device_id }) => {\n      setSpotifySDKDeviceID(device_id);\n    });\n\n    // TODO: Listen to Spotify events.\n    player.addListener('player_state_changed', (state) => {\n      if(!state) {\n        return;\n      }\n      const reduxState = store.getState(),\n            reduxPlayback = reduxState.playback;\n      if(!reduxPlayback.loaded.spotify) {\n        props.dispatch({\n          type: \"playback/loaded\",\n          payload: { service: \"spotify\" },\n        });\n      }\n\n      // let shouldCheckPosition = !state.paused;\n\n      // Release lock!\n      // console.log(\"action (in spotify event listner)\", reduxState.playback.action)\n      if(reduxState.playback.action === \"paused\" && state.paused) {\n        // shouldCheckPosition = true;\n        const action = null;\n        props.dispatch({\n          type: \"playback/action\",\n          payload: { action },\n        });\n      } else if(reduxState.playback.action === \"played\" && !state.paused) {\n        // shouldCheckPosition = true;\n        const action = null;\n        props.dispatch({\n          type: \"playback/action\",\n          payload: { action },\n        });\n      } else if(reduxState.playback.action === \"seek\") {\n        const action = null;\n        props.dispatch({\n          type: \"playback/action\",\n          payload: { action },\n        });\n      }\n\n      // Release lock after seek as successfully taken place.\n      // TODO: the following!\n      // if(shouldCheckPosition) {\n      //   const delay = Date.now() - state.timestamp,\n      //         reduxNowPlaying = reduxState.queueMap[reduxState.playback.nowPlayingUuid],\n      //         arr = getPositionMilliseconds(reduxNowPlaying, reduxNowPlaying.startedAt),\n      //         enginePosition = arr[0],\n      //         spotifyPosition = state.position + delay,\n      //         delta = enginePosition - spotifyPosition;\n      //   console.log(enginePosition, spotifyPosition, enginePosition - spotifyPosition, (delta > 5 || delta < -5));\n      //\n      //   if(delta > 5 || delta < -5) {\n      //     const startedAt = nowPlaying.startedAt - delta;\n      //     props.dispatch({\n      //       type: 'queue/update',\n      //       payload: { queues: [{ ...nowPlaying, startedAt }] },\n      //     });\n      //   }\n      // }\n    });\n\n    // Kick off initialization.\n    player.connect();\n\n  // eslint-disable-next-line\n  }, [spotifySDKReady]);\n\n  useEffect(() => {\n    if(!spotifySDKDeviceID) {\n      return;\n    }\n    updateSpotifyPlayer(playback, spotifySDKDeviceID);\n    props.dispatch({ type: 'playback/enable' });\n  // eslint-disable-next-line\n  }, [spotifySDKDeviceID])\n\n  //////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////\n  //// APPLE MUSIC\n  let appleMusicContainerStyle = {},\n      appleMusicWidth = 300,\n      appleMusicHeight = 169;\n  if(window.location.pathname !== '/app/welcome' && nowPlaying?.track?.service === services.APPLE_MUSIC && nowPlaying?.track?.format === 'video') {\n    if(stream.nowPlayingUuid === playback.nowPlayingUuid) {\n      if(sideBar.tab === \"feed\" && feedApp.contentContainer) {\n        const containerRect = feedApp.contentContainer;\n        appleMusicWidth = containerRect.width - 88;\n        appleMusicHeight = appleMusicWidth / 16 * 9;\n        appleMusicContainerStyle = {\n          position: \"absolute\",\n          width: appleMusicWidth,\n          height: appleMusicHeight,\n          top: `${95 + 44}px`,\n          left: `${341 + 44}px`,\n          zIndex: 16,\n        }\n      } else {\n        appleMusicContainerStyle = {\n          position: \"absolute\",\n          width: 300,\n          height: 169,\n          top: \"95px\",\n          right: \"57px\",\n          boxShadow: \"4px 4px 12px rgba(0, 0, 0, 0.15)\",\n        };\n      }\n    } else {\n      appleMusicContainerStyle = {\n        position: \"fixed\",\n        top: \"295px\",\n        right: \"257px\",\n      };\n    }\n  } else {\n    appleMusicContainerStyle = {\n      display: \"none\",\n    };\n  }\n  appleMusicContainerStyle.zIndex = 3;\n\n  const appendAppleMusicSDK = function() {\n    appendScript(\"https://js-cdn.music.apple.com/musickit/v3/musickit.js\");\n\n    // Then...\n    window.addEventListener('musickitloaded', async function() {\n      await window.MusicKit.configure({\n        developerToken: userSettings.appleMusic.token,\n        app: {\n          name: 'Jukebox Radio',\n          build: '0.0.1',\n        },\n      });\n      props.dispatch({\n        type: \"playback/loaded\",\n        payload: { service: \"appleMusic\" },\n      });\n    })\n  };\n\n  //////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////\n  //// YOUTUBE\n  let youTubeContainerStyle = {},\n      youTubeWidth = 300,\n      youTubeHeight = 169;\n  if(nowPlaying?.track?.service === services.YOUTUBE && nowPlaying?.track?.format === 'video') {\n    // if(stream.nowPlayingUuid === playback.nowPlayingUuid) {\n      if(sideBar.tab === \"feed\" && feedApp.contentContainer && !modal.isOpen) {\n        const containerRect = feedApp.contentContainer;\n        youTubeWidth = containerRect.width - 88;\n        youTubeHeight = youTubeWidth / 16 * 9;\n        youTubeContainerStyle = {\n          position: \"absolute\",\n          width: youTubeWidth,\n          height: youTubeHeight,\n          top: `${95 + 44}px`,\n          left: `${341 + 44}px`,\n          zIndex: 16,\n        }\n      } else {\n        youTubeContainerStyle = {\n          position: \"absolute\",\n          width: 300,\n          height: 169,\n          top: \"95px\",\n          right: \"57px\",\n          boxShadow: \"4px 4px 12px rgba(0, 0, 0, 0.15)\",\n        };\n      }\n    // } else {\n    //   youTubeContainerStyle = {\n    //     position: \"fixed\",\n    //     top: \"295px\",\n    //     right: \"257px\",\n    //   };\n    // }\n  } else {\n    youTubeContainerStyle = {\n      display: \"none\",\n    };\n  }\n  youTubeContainerStyle.zIndex = 3;\n\n  const currentQueue = nowPlaying,\n        isYouTube = currentQueue?.track?.service === services.YOUTUBE;\n\n  const youTubeStart = isYouTube ? Math.floor(currentQueue.playbackIntervals[0].startPosition / 1000) : null,\n        youTubeVideoId = isYouTube ? currentQueue?.track?.externalId : null,\n        youTubeOpts = {\n          width: \"100%\",\n          height: \"100%\",\n          playerVars: {\n            // https://developers.google.com/youtube/player_parameters\n            autoplay: 0,   // the initial video will automatically start to play\n            controls: 0,   // hide playback controls\n            disablekb: 1,  // disable keyboard controls\n            fs: 0,         // disable full screen\n            iv_load_policy: 3,\n            modestbranding: 1,  // minimal YT branding\n            origin: 'jukeboxrad.io',\n            playsinline: 1,\n            start: youTubeStart,\n          },\n        };\n\n  const onYouTubeReady = function(e) {\n    const youTubeApi = e.target;\n\n    props.dispatch({\n      type: \"playback/loaded\",\n      payload: { service: \"youtube\" },\n    });\n\n    console.log('YouTube on ready:', playback.youTubeAutoplay)\n    if(playback.youTubeAutoplay) {\n      youTubeApi.setVolume(playback.volumeLevel * 100);\n      youTubeApi.playVideo();\n      props.dispatch({\n        type: 'playback/youTubeTriggerAutoplay',\n        payload: { autoplay: false },\n      });\n    }\n\n    props.dispatch({\n      type: 'playback/youTube',\n      payload: { youTubeApi },\n    });\n  }\n\n  const onYouTubePause = function() {\n    // console.log(playback.youTubeApi.getCurrentTime())\n    if(!playback.action) {\n      return;\n    }\n    const action = null;\n    props.dispatch({\n      type: \"playback/action\",\n      payload: { action },\n    });\n  }\n\n  const onYouTubePlay = function() {\n    // console.log(playback.youTubeApi.getCurrentTime())\n    if(!playback.action) {\n      return;\n    }\n    const action = null;\n    props.dispatch({\n      type: \"playback/action\",\n      payload: { action },\n    });\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <>\n      <div className={styles.YouTubeContainer}\n           style={youTubeContainerStyle}>\n          <YouTube videoId={youTubeVideoId}\n                   opts={youTubeOpts}\n                   onReady={onYouTubeReady}\n                   onPause={onYouTubePause}\n                   onPlay={onYouTubePlay} />\n      </div>\n      <div className={styles.AppleMusicContainer}\n           style={appleMusicContainerStyle}>\n          <div id=\"apple-music-video-container\"></div>\n      </div>\n      <StreamEngine playbackControls={playbackControls}/>\n    </>\n  );\n}\n\n\nconst mapStateToProps = (state) => ({\n    stream: state.stream,\n    playback: state.playback,\n    queueMap: state.queueMap,\n    lastUpQueueUuids: state.lastUpQueueUuids,\n    nextUpQueueUuids: state.nextUpQueueUuids,\n    userSettings: state.userSettings,\n    feedApp: state.feedApp,\n    sideBar: state.sideBar,\n    modal: state.modal,\n});\n\n\nexport default connect(mapStateToProps)(PlaybackEngine);\n","import './App.css';\nimport {\n  fetchTextCommentList,\n  fetchVoiceRecordingList,\n} from './components/FeedApp/network';\nimport { fetchVerifyToken } from './components/Login/network';\nimport {\n  fetchStreamGet,\n  fetchPauseTrack,\n} from './components/PlaybackApp/StreamEngine/network';\nimport { fetchGetUserSettings } from './components/ModalApp/UserSettings/network';\nimport { fetchQueueList } from './components/QueueApp/network'\nimport { store } from './utils/redux'\nimport Login from './components/Login/Login';\nimport PlaybackEngine from './components/PlaybackApp/PlaybackEngine/PlaybackEngine';\nimport { useEffect, useState } from \"react\";\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport TimeAgo from 'javascript-time-ago'\nimport en from 'javascript-time-ago/locale/en'\n\n\nfunction App() {\n\n  // Keeps track of the status of the webpage\n  //\n  //    - initial:          When the page is first loaded\n  //    - unauthenticated:  The client does NOT have a valid access token\n  //    - authenticated:    The client has a valid access token\n  //    - ready:            All API data has been loaded\n  const [status, setStatus] = useState('initial');\n\n  //////////////////////\n  // componentDidMount\n  useEffect(() => {\n    async function loadData() {\n      let responseJson;\n\n      // 1: Verify authentication.\n      const authResponse = await fetchVerifyToken();\n      if (!authResponse) {\n        setStatus('unauthenticated');\n        return;\n      }\n\n      // Update status.\n      setStatus('authenticated');\n\n      // 1B: Fetch user settings!\n      responseJson = await fetchGetUserSettings();\n      await store.dispatch({\n        type: 'user/get-settings',\n        userSettings: responseJson.data,\n      });\n\n      // 2: Load stream.\n      responseJson = await fetchStreamGet();\n      await store.dispatch(responseJson.redux);\n\n      // 2.5: Mount the stream for playback\n      const state = store.getState(),\n            stream = state.stream,\n            queueMap = state.queueMap,\n            nowPlaying = queueMap[stream.nowPlayingUuid];\n\n      store.dispatch({\n        type: \"main/addAction\",\n        payload: {\n          action: {\n            name: \"mount\",\n            stream: stream,\n            status: \"kickoff\",\n            fake: true,  // symbolic, not functional\n          },\n        },\n      });\n\n      // 4: Load the queue.\n      responseJson = await fetchQueueList();\n      await store.dispatch(responseJson.redux);\n\n      // IMPORTANT: need to reload stream from state to get cleaned stream.\n      if(nowPlaying?.track?.uuid) {\n        // 5: Load relevant comments.\n        const textCommentsJsonResponse = await fetchTextCommentList(nowPlaying?.track?.uuid);\n        await store.dispatch(textCommentsJsonResponse.redux);\n\n        // 6: Load relevant voice recordings. This will also generate the feed.\n        const voiceRecordingsJsonResponse = await fetchVoiceRecordingList(nowPlaying?.track?.uuid);\n        await store.dispatch(voiceRecordingsJsonResponse.redux);\n      }\n\n      // Update status.\n      setStatus('ready');\n    }\n    TimeAgo.addDefaultLocale(en);\n    loadData();\n\n    // Start PWA\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.register('worker.js', {scope: '.'}).then(function(registration) {\n        console.log('Worker registration successful', registration.scope);\n      });\n    }\n    // End PWA\n\n    // Prestyle side bar\n    store.dispatch({\n      type: \"sideBar/selectTab\",\n      payload: { tab: window.location.pathname.substring(5) },\n    });\n\n    // Define behavior for when the webpage is closed.\n    window.addEventListener(\"beforeunload\", (e) => {\n      e.preventDefault();\n      const state = store.getState(),\n            stream = state.stream,\n            queueMap = state.queueMap,\n            nowPlaying = queueMap[stream.nowPlayingUuid];\n      if(nowPlaying.status !== \"played\") {\n        return;\n      }\n      fetchPauseTrack();\n    });\n  }, []);\n\n  window.addEventListener('playbackStateDidChange', (event) => {\n    console.log('apple loaded!!');\n  });\n\n  // When the page is initially loaded, display nothing.\n  if(status === 'initial') {\n    return <div className=\"app-main-container\"></div>;\n  }\n\n  // If the user is NOT authenticated, display the login portal.\n  if(status === 'unauthenticated') {\n    return (\n      <Router>\n        <Provider store={store}>\n          <div className=\"app-main-container\">\n            <Login />\n          </div>\n        </Provider>\n      </Router>\n    )\n  }\n\n  // if the user is not authenticated, only display the login portal\n  if(status === 'authenticated') {\n    return (\n      <Router>\n        <Provider store={store}>\n          <div className=\"app-main-container\"\n               style={{\n                 textAlign: \"center\",\n                 lineHeight: \"100vh\",\n                 fontSize: \"24px\",\n                 fontWeight: \"400\",\n                 letterSpacing: \"0.03em\",\n               }}>\n            Loading...\n          </div>\n        </Provider>\n      </Router>\n    )\n  }\n\n  // display the main UI now that everything is loaded up\n\n  /*\n   * 🎨\n   */\n  return (\n    <Router>\n      <Provider store={store}>\n        <div className=\"app-main-container\">\n          <PlaybackEngine />\n        </div>\n      </Provider>\n    </Router>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalClose\":\"Upload_ModalClose__1MagQ\",\"ModalContent\":\"Upload_ModalContent__1NVpY\",\"Title\":\"Upload_Title__2m1UJ\",\"FormLabel\":\"Upload_FormLabel__NeOF-\",\"FileInput\":\"Upload_FileInput__1qCpp\",\"FormSubmit\":\"Upload_FormSubmit__2SD7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FeedApp\":\"FeedApp_FeedApp__2YJHa\",\"ContentContainer\":\"FeedApp_ContentContainer__35Ble\",\"ImageContainer\":\"FeedApp_ImageContainer__2bkPv\",\"FeedWrapper\":\"FeedApp_FeedWrapper__5dQdY\",\"Feed\":\"FeedApp_Feed__3NWaq\",\"ComposeBar\":\"FeedApp_ComposeBar__1Ruxz\",\"NotationButton\":\"FeedApp_NotationButton__I_SwR\",\"RecordButton\":\"FeedApp_RecordButton__3saQA\",\"SubmitButton\":\"FeedApp_SubmitButton__2uOQ-\",\"spotify\":\"FeedApp_spotify__uumF9\",\"apple_music\":\"FeedApp_apple_music__1nUmb\",\"youtube\":\"FeedApp_youtube__1OvA_\",\"audius\":\"FeedApp_audius__2vOKN\",\"jukebox_radio\":\"FeedApp_jukebox_radio__3q45Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomBar\":\"BottomBar_BottomBar__1CmT1\",\"ProgressBarContainer\":\"BottomBar_ProgressBarContainer__2HMvq\",\"Playback\":\"BottomBar_Playback__3C1vo\",\"Settings\":\"BottomBar_Settings__2kDhC\",\"Volume\":\"BottomBar_Volume__j16DP\",\"IconContainer\":\"BottomBar_IconContainer__1WboC\",\"ggSpinner\":\"BottomBar_ggSpinner__1CLTx\",\"spinner\":\"BottomBar_spinner__35Mfe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QueueApp\":\"QueueApp_QueueApp__3OUXI\",\"NowPlaying\":\"QueueApp_NowPlaying__1b43j\",\"NowPlayingArt\":\"QueueApp_NowPlayingArt__lmZtW\",\"NowPlayingInformation\":\"QueueApp_NowPlayingInformation__2MrMS\",\"NowPlayingDuration\":\"QueueApp_NowPlayingDuration__2hzHf\",\"QueueContainer\":\"QueueApp_QueueContainer__1NMWJ\",\"PlaybackDuration\":\"QueueApp_PlaybackDuration__1DbyU\",\"AddToQueue\":\"QueueApp_AddToQueue__1Zpmd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QueueCollection\":\"QueueCollection_QueueCollection__2uTSJ\",\"QueueCollectionMain\":\"QueueCollection_QueueCollectionMain__2fm5w\",\"AlbumArtContainer\":\"QueueCollection_AlbumArtContainer__1LjHs\",\"QueueInformation\":\"QueueCollection_QueueInformation__3MDGa\",\"ButtonContainer\":\"QueueCollection_ButtonContainer__1NOfG\",\"DurationContainer\":\"QueueCollection_DurationContainer__2u08t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QueueTrackHead\":\"QueueTrack_QueueTrackHead__1p7iu\",\"QueueTrackChild\":\"QueueTrack_QueueTrackChild__1kwMH\",\"AlbumArtContainer\":\"QueueTrack_AlbumArtContainer__31HWs\",\"QueueInformationHead\":\"QueueTrack_QueueInformationHead__T9dRY\",\"QueueInformationChild\":\"QueueTrack_QueueInformationChild__3laIO\",\"TrackInfoDuration\":\"QueueTrack_TrackInfoDuration__3KwoI\",\"ButtonContainer\":\"QueueTrack_ButtonContainer__1X5d4\",\"ButtonHead\":\"QueueTrack_ButtonHead__1L5IW\",\"ButtonChild\":\"QueueTrack_ButtonChild__1CWxx\",\"DurationContainerChild\":\"QueueTrack_DurationContainerChild__3O650\",\"DurationContainerHead\":\"QueueTrack_DurationContainerHead__3tRZT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchResult\":\"SearchResult_SearchResult__djXCo\",\"SearchResultSubmitted\":\"SearchResult_SearchResultSubmitted__2krh6\",\"ImageParent\":\"SearchResult_ImageParent__1wD2d\",\"ResultInformation\":\"SearchResult_ResultInformation__1iB5a\",\"ServiceLogo\":\"SearchResult_ServiceLogo__38ftd\",\"AddButton\":\"SearchResult_AddButton__1rvJ4\",\"AddButtonInverted\":\"SearchResult_AddButtonInverted__bx1zo\",\"ggSpinner\":\"SearchResult_ggSpinner__iNeQG\",\"spinner\":\"SearchResult_spinner__u3axZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalClose\":\"UserSettings_ModalClose__TMEfI\",\"ModalContent\":\"UserSettings_ModalContent__rIa2n\",\"Title\":\"UserSettings_Title__1fJxW\",\"FormLabel\":\"UserSettings_FormLabel__3Owp7\",\"FileInput\":\"UserSettings_FileInput__193Gt\",\"FormSubmit\":\"UserSettings_FormSubmit__wJJ9i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressBarMarker\":\"ProgressBarMarker_ProgressBarMarker__aRKWB\",\"ProgressBarMarkerPointer\":\"ProgressBarMarker_ProgressBarMarkerPointer__AnS6j\",\"ProgressBarMarkerPointerGrey\":\"ProgressBarMarker_ProgressBarMarkerPointerGrey___FkjK\",\"ProgressBarMarkerPointerHighlighted\":\"ProgressBarMarker_ProgressBarMarkerPointerHighlighted__2JSMh\",\"ProgressBarMarkerPointerExtensionHighlighted\":\"ProgressBarMarker_ProgressBarMarkerPointerExtensionHighlighted__oCS46\",\"ProgressBarMarkerPointerExtensionGrey\":\"ProgressBarMarker_ProgressBarMarkerPointerExtensionGrey__WTP-1\",\"ProgressBarMarkerPointerExtension\":\"ProgressBarMarker_ProgressBarMarkerPointerExtension__1hWc_\",\"HoverContainer\":\"ProgressBarMarker_HoverContainer__25980\",\"ProgressBarMarkerName\":\"ProgressBarMarker_ProgressBarMarkerName__1pzoE\",\"Delete\":\"ProgressBarMarker_Delete__2dpJS\",\"Play\":\"ProgressBarMarker_Play__1yFuS\",\"Stop\":\"ProgressBarMarker_Stop__3hbtd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideBar\":\"SideBar_SideBar__3xsKP\",\"Logo\":\"SideBar_Logo__ulAwG\",\"MenuContainer\":\"SideBar_MenuContainer__BscPZ\",\"Menu\":\"SideBar_Menu__DcLJC\",\"LiSelected\":\"SideBar_LiSelected__3sQKu\",\"BlockContainer\":\"SideBar_BlockContainer__ugvnR\",\"Block\":\"SideBar_Block__1skEF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoginContainer\":\"Login_LoginContainer__3eIQR\",\"Logo\":\"Login_Logo__B0Tmi\",\"LoginHeader\":\"Login_LoginHeader__3gqy1\",\"Login\":\"Login_Login__1ujut\",\"FormBlock\":\"Login_FormBlock__S_rix\",\"FormBlockInline\":\"Login_FormBlockInline__10vy2\",\"Checkbox\":\"Login_Checkbox__z2SaG\",\"Submit\":\"Login_Submit__2KJUu\",\"ForgotPassword\":\"Login_ForgotPassword__9hZWd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressAll\":\"ChildProgressBar_ProgressAll__1AfFF\",\"ProgressStem_isolation\":\"ChildProgressBar_ProgressStem_isolation__26xzw\",\"ProgressMuted\":\"ChildProgressBar_ProgressMuted__vkPsR\",\"ProgressHoverContainerAll\":\"ChildProgressBar_ProgressHoverContainerAll__1RtHL\",\"ProgressHoverContainerMuted\":\"ChildProgressBar_ProgressHoverContainerMuted__20eR1\",\"ProgressHoverPointerAll\":\"ChildProgressBar_ProgressHoverPointerAll__dkwK8\",\"ProgressHoverPointerMuted\":\"ChildProgressBar_ProgressHoverPointerMuted__3_QuM\",\"ProgressHoverPurpose\":\"ChildProgressBar_ProgressHoverPurpose__2BFx6\",\"ProgressHoverDelete\":\"ChildProgressBar_ProgressHoverDelete__35aeX\",\"HoverContainer\":\"ChildProgressBar_HoverContainer__1xREQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Session\":\"Session_Session__3ONuN\",\"Logo\":\"Session_Logo__2dDnf\",\"Content\":\"Session_Content__2rLER\",\"MainContent\":\"Session_MainContent__CQXzB\",\"PrimaryContent\":\"Session_PrimaryContent__1CWje\",\"SecondaryContent\":\"Session_SecondaryContent__3Vc17\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ABCNotationDisplayContainer\":\"TheoryNotationDisplay_ABCNotationDisplayContainer__3kJ5R\",\"ABCNotationDisplay\":\"TheoryNotationDisplay_ABCNotationDisplay__1uumz\",\"ABCNotationDisplayDeleted\":\"TheoryNotationDisplay_ABCNotationDisplayDeleted__wxN29\",\"HoverBuffer\":\"TheoryNotationDisplay_HoverBuffer__2l_ce\",\"HoverContainer\":\"TheoryNotationDisplay_HoverContainer__2ErbZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VoiceRecordingContainer\":\"VoiceRecording_VoiceRecordingContainer__3KlG9\",\"VoiceRecording\":\"VoiceRecording_VoiceRecording__29j03\",\"VoiceRecordingDeleted\":\"VoiceRecording_VoiceRecordingDeleted__3_8Xz\",\"HoverBuffer\":\"VoiceRecording_HoverBuffer__1o_ZD\",\"HoverContainer\":\"VoiceRecording_HoverContainer__IkgPO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextCommentContainer\":\"TextComment_TextCommentContainer__SVUy9\",\"TextComment\":\"TextComment_TextComment__92FmQ\",\"TextCommentDeleted\":\"TextComment_TextCommentDeleted__2uxdr\",\"HoverBuffer\":\"TextComment_HoverBuffer__3Q-eC\",\"HoverContainer\":\"TextComment_HoverContainer__2jQUc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContentContainer\":\"NotationCompose_ContentContainer__Pn7p5\",\"NotationContainer\":\"NotationCompose_NotationContainer__kNNH2\",\"RenderingContainer\":\"NotationCompose_RenderingContainer__HQ-6Y\",\"RenderingWrapper\":\"NotationCompose_RenderingWrapper__10KKf\",\"CloseModal\":\"NotationCompose_CloseModal__2bQAW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ParentProgressBar\":\"ProgressBar_ParentProgressBar__2J9NP\",\"ProgressBar\":\"ProgressBar_ProgressBar__3sxNS\",\"ProgressPointer\":\"ProgressBar_ProgressPointer__Elhdc\",\"ProgressMarkerContainer\":\"ProgressBar_ProgressMarkerContainer__3QNJx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotableText\":\"NotableText_NotableText__gYPiJ\",\"Popover\":\"NotableText_Popover__1cHGj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SystemActionContainer\":\"SystemAction_SystemActionContainer__2HNLC\",\"SystemAction\":\"SystemAction_SystemAction__2qCDO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalPrimary\":\"ModalApp_ModalPrimary__6QkEo\",\"ModalSecondary\":\"ModalApp_ModalSecondary__WxhoU\",\"ModalOverlay\":\"ModalApp_ModalOverlay__1VP2Y\",\"CloseModal\":\"ModalApp_CloseModal__JA8WS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"YouTubeContainer\":\"PlaybackEngine_YouTubeContainer__2Vcxv\",\"AppleMusicContainer\":\"PlaybackEngine_AppleMusicContainer__1Df7e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MiniQueue\":\"MiniQueue_MiniQueue__2HfJP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MiniNotes\":\"MiniNotes_MiniNotes__2g428\"};"],"sourceRoot":""}