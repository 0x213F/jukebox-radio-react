(this["webpackJsonpjukebox-radio"]=this["webpackJsonpjukebox-radio"]||[]).push([[0],{19:function(e,t,n){e.exports={Upload:"Upload_Upload__tMDig",FormBlock:"Upload_FormBlock__2ls6S"}},23:function(e,t,n){e.exports={Login:"Login_Login__1ujut",FormBlock:"Login_FormBlock__S_rix"}},24:function(e,t,n){e.exports={Search:"Search_Search__2SQmI",FormBlock:"Search_FormBlock__3ZZZJ"}},30:function(e,t,n){e.exports={Chat:"Chat_Chat__3NjUX"}},31:function(e,t,n){e.exports={TextComment:"TextComment_TextComment__15QHu",Notated:"TextComment_Notated__24bZz"}},41:function(e,t,n){e.exports={VoiceRecording:"VoiceRecording_VoiceRecording__10J4X"}},43:function(e,t,n){e.exports={Queue:"Queue_Queue__YTCBa"}},44:function(e,t,n){e.exports={QueueItem:"QueueItem_QueueItem__e3nEn"}},51:function(e,t,n){},52:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),s=n.n(a),c=n(26),i=n.n(c),u=(n(51),n(52),n(12)),o=n(1),l=n.n(o),h=n(3),d=n(6),p=n(7),f=n(4),b=n(10),m=n(9),j=n(30),x=n.n(j),v="http://localhost:3000",O="GET",y="POST",k=n(18);function g(){return w.apply(this,arguments)}function w(){return(w=Object(h.a)(l.a.mark((function e(){var t,n,r,a,s,c,i,u,o,h,d,p,f,b,m,j,x,O,y,g,w,C,S,T=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=T.length>0&&void 0!==T[0]?T[0]:"",n=T.length>1&&void 0!==T[1]?T[1]:"",r=T.length>2&&void 0!==T[2]?T[2]:{},n=v+n,"GET"===t){e.next=16;break}for(s=new FormData,c=0,i=Object.entries(r);c<i.length;c++)u=Object(k.a)(i[c],2),o=u[0],h=u[1],s.append(o,h);return d={headers:{}},(p=localStorage.getItem("accessToken"))&&(d.headers.Authorization="Bearer ".concat(p)),f=new Request(n,d),e.next=13,fetch(f,{method:t,mode:"cors",body:s});case 13:a=e.sent,e.next=26;break;case 16:for(b=new URLSearchParams,m=0,j=Object.entries(r);m<j.length;m++)x=Object(k.a)(j[m],2),O=x[0],y=x[1],b.set(O,y);return g=n+"/?"+b.toString(),w={headers:{"Content-Type":"application/json"}},(C=localStorage.getItem("accessToken"))&&(w.headers.Authorization="Bearer ".concat(C)),S=new Request(g,w),e.next=25,fetch(S,{method:t,mode:"cors"});case 25:a=e.sent;case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/comments/text-comment/create/",{text:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(O,"/comments/text-comment/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(O,"/comments/voice-recording/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/comments/text-comment/delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,a){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/comments/text-comment-modification/create/",{textCommentUuid:t,style:n,anchorOffset:r,focusOffset:a});case 2:return s=e.sent,e.next=5,s.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/comments/text-comment-modification/list-delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/comments/voice-recording/delete/",{voiceRecordingUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=n(36),D=n(45),R=n(31),B=n.n(R),A=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).selectableRef=s.a.createRef(),r.state={modifications:e.data.modifications,selectableIsShowable:!0,anchorOffset:null,focusOffset:null},r.handleDelete=r.handleDelete.bind(Object(f.a)(r)),r.handleUnderline=r.handleUnderline.bind(Object(f.a)(r)),r.handleStrikethrough=r.handleStrikethrough.bind(Object(f.a)(r)),r.handleHighlight=r.handleHighlight.bind(Object(f.a)(r)),r.onTextSelect=r.onTextSelect.bind(Object(f.a)(r)),r.onTextUnselect=r.onTextUnselect.bind(Object(f.a)(r)),r.renderTextComment=r.renderTextComment.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"handleDelete",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.data.uuid,e.next=4,this.props.destroy(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleUnderline",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.data.uuid,e.next=4,F(n,"underline",this.state.anchorOffset,this.state.focusOffset);case 4:return r=e.sent,this.props.create(n,r.data),e.next=8,this.setState({selectableIsShowable:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleStrikethrough",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.data.uuid,e.next=4,F(n,"strike-through",this.state.anchorOffset,this.state.focusOffset);case 4:return r=e.sent,this.props.create(n,r.data),e.next=8,this.setState({selectableIsShowable:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleHighlight",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.data.uuid,e.next=4,F(n,"highlight",this.state.anchorOffset,this.state.focusOffset);case 4:return r=e.sent,this.props.create(n,r.data),e.next=8,this.setState({selectableIsShowable:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTextSelect",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=window.getSelection()).anchorNode===t.focusNode){e.next=5;break}return e.next=4,this.setState({selectableIsShowable:!1,anchorOffset:null,focusOffset:null});case 4:return e.abrupt("return");case 5:return n=parseInt(t.anchorNode.parentNode.getAttribute("offset")),e.next=8,this.setState({selectableIsShowable:!0,anchorOffset:n+t.anchorOffset,focusOffset:n+t.focusOffset});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onTextUnselect",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selectableIsShowable:!1,anchorOffset:null,focusOffset:null});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateZIndex",value:function(e){e._svg.style.zIndex=-1}},{key:"renderTextComment",value:function(){for(var e=this.props.data,t=e.text,n=e.modifications,a=0,s=Object(r.jsx)(r.Fragment,{}),c=0;c<n.length;c++){var i=n[c],u=t.substring(a,i.startPtr),o=t.substring(i.startPtr,i.endPtr);s=Object(r.jsxs)(r.Fragment,{children:[s,Object(r.jsx)("span",{offset:a,children:u}),Object(r.jsx)(D.a,{className:B.a.Notated,show:!0,multiline:!0,color:"red",type:i.type,animate:i.animate,getAnnotationObject:this.updateZIndex,ref:i.uuid,children:o})]}),a=i.endPtr}var l=t.substring(a,t.length);return s=Object(r.jsxs)(r.Fragment,{children:[s,Object(r.jsx)("span",{offset:a,children:l})]})}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:B.a.TextComment,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{ref:this.selectableRef,children:this.renderTextComment()}),Object(r.jsxs)(I.a,{selectionRef:this.selectableRef,onTextSelect:this.onTextSelect,onTextUnselect:this.onTextUnselect,isOpen:this.state.selectableIsShowable,children:[Object(r.jsx)("form",{onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUnderline(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:"U"})}),Object(r.jsx)("form",{onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleStrikethrough(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:"S"})}),Object(r.jsx)("form",{onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleHighlight(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:"H"})})]})]}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.destroyModifications(e.props.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Clear modifications"}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.destroy(e.props.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"})]})}}]),n}(s.a.Component);A.defaultProps={};var U=A,M=n(41),Q=n.n(M),q=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).handleDelete=r.handleDelete.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"handleDelete",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.data.uuid,e.next=4,_(n);case 4:return e.next=6,this.props.destroy(n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.data;return Object(r.jsxs)("div",{className:Q.a.VoiceRecording,children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"null"===t.transcriptFinal?"<transcript not available>":t.transcriptFinal})}),Object(r.jsx)("form",{onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleDelete(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:"Delete"})})]})}}]),n}(s.a.Component);q.defaultProps={};var L=q,V=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,_textComments:void 0,_voiceRecordings:void 0,feed:[],text:""},r.handleChange=r.handleChange.bind(Object(f.a)(r)),r.buildFeed=r.buildFeed.bind(Object(f.a)(r)),r.destroyFeedItem=r.destroyFeedItem.bind(Object(f.a)(r)),r.destroyTextCommentModifications=r.destroyTextCommentModifications.bind(Object(f.a)(r)),r.destroyTextComment=r.destroyTextComment.bind(Object(f.a)(r)),r.destroyVoiceRecording=r.destroyVoiceRecording.bind(Object(f.a)(r)),r.createTextComment=r.createTextComment.bind(Object(f.a)(r)),r.createTextCommentModification=r.createTextCommentModification.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return 200!==(t=e.sent).system.status?this.errorMessage=t.system.message:this.setState({_textComments:t.data}),e.next=6,T();case 6:200!==(n=e.sent).system.status?this.errorMessage=n.system.message:this.setState({_voiceRecordings:n.data}),this.buildFeed();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"buildFeed",value:function(){var e=this.state._textComments,t=this.state._voiceRecordings;if(Array.isArray(e)&&Array.isArray(t)){var n=[].concat(Object(u.a)(e),Object(u.a)(t)).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}));this.setState({feed:n})}else this.setState({feed:[]})}},{key:"destroyFeedItem",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state._textComments,r=this.state._voiceRecordings,a=n.filter((function(e){return e.uuid!==t})),s=r.filter((function(e){return e.uuid!==t})),e.next=4,this.setState({_textComments:a});case 4:return e.next=6,this.setState({_voiceRecordings:s});case 6:this.buildFeed();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroyTextCommentModifications",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return n=this.state._textComments,r=n.findIndex((function(e){return e.uuid===t})),n[r].modifications=[],e.next=7,this.setState({_textComments:n});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroyTextComment",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return e.next=4,N(t);case 4:return e.next=6,this.destroyFeedItem(t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroyVoiceRecording",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:return e.next=4,this.destroyFeedItem(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTextComment",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C(this.state.text);case 3:return n=e.sent,(r=Object(u.a)(this.state._textComments)).push(n.data),e.next=8,this.setState({_textComments:r,text:""});case 8:this.buildFeed();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTextCommentModification",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(this.state._textComments),a=r.findIndex((function(e){return e.uuid===t})),(s=Object(u.a)(r[a].modifications)).push(n),c=s.sort((function(e,t){return e.startPtr-t.startPtr})),r[a].modifications=c,e.next=8,this.setState({_textComments:r});case 8:this.buildFeed();case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:x.a.Chat,children:this.state.feed.map((function(t,n){return"TextComment"===t.class?Object(r.jsx)(U,{data:t,destroy:e.destroyTextComment,destroyModifications:e.destroyTextCommentModifications,create:e.createTextCommentModification},n):"VoiceRecording"===t.class?Object(r.jsx)(L,{data:t,destroy:e.destroyVoiceRecording},n):null}))}),Object(r.jsxs)("form",{className:x.a.CreateTextComment,onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createTextComment(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(r.jsx)("input",{type:"text",name:"text",placeholder:"text",value:this.state.text,onChange:this.handleChange}),Object(r.jsx)("button",{type:"submit",children:"Send"})]})]})}}]),n}(s.a.Component);V.defaultProps={};var H=V,J=n(16),Z=n(23),z=n.n(Z),E=function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/auth/obtain-tokens/",{username:t,password:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,username:"",password:"",rememberMe:!1},r.handleChange=r.handleChange.bind(Object(f.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,E(this.state.username,this.state.password);case 3:if((n=e.sent).access&&n.refresh){e.next=6;break}return e.abrupt("return");case 6:localStorage.setItem("accessToken",n.access),localStorage.setItem("refreshToken",n.refresh);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("form",{className:z.a.Login,onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleSubmit(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Sign in"}),Object(r.jsxs)("p",{children:["If you have not created an account yet, then please ",Object(r.jsx)(J.b,{to:"/signup",children:"Sign Up"})," first."]}),Object(r.jsxs)("label",{className:z.a.FormBlock,children:["Username",Object(r.jsx)("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange})]}),Object(r.jsxs)("label",{className:z.a.FormBlock,children:["Password",Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange})]}),Object(r.jsxs)("label",{className:z.a.FormBlock,children:[Object(r.jsx)("input",{type:"checkbox",name:"remember-me",value:this.state.rememberMe,onChange:this.handleChange}),"Remember Me"]}),Object(r.jsxs)("div",{className:z.a.FormBlock,children:[Object(r.jsx)("button",{type:"submit",children:"Sign In"}),Object(r.jsx)("span",{children:Object(r.jsx)(J.b,{to:"/forgotpassword",children:"Forgot Password?"})})]})]})}}]),n}(s.a.Component);Y.defaultProps={};var G=Y,X=n(43),K=n.n(X),W=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(O,"/streams/queue/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/streams/queue/delete/",{queueUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=n(44),te=n.n(ee),ne=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={reveal:!1},r.handleDelete=r.handleDelete.bind(Object(f.a)(r)),r.toggleReveal=r.toggleReveal.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"handleDelete",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.data.uuid,e.next=4,this.props.destroy(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleReveal",value:function(e){this.setState({reveal:!this.state.reveal})}},{key:"render",value:function(){var e=this,t=this.props.data,a="-".repeat(t.depth)+" ";return Object(r.jsxs)("div",{className:te.a.QueueItem,children:[Object(r.jsxs)("span",{children:[a,!t.isDeleted&&(t.trackName||t.collectionName)]}),!t.isDeleted&&0===t.depth&&Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.destroy(e.props.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"}),!t.isDeleted&&1===t.depth&&Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.destroyChild(e.props.parentQueueUuid,e.props.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"}),t.children.length>0&&!this.state.reveal&&Object(r.jsx)("button",{type:"button",onClick:this.toggleReveal,children:"More"}),t.children.length>0&&this.state.reveal&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{type:"button",onClick:this.toggleReveal,children:"Less"}),Object(r.jsx)("div",{children:t.children.map((function(a,s){return Object(r.jsx)(n,{data:a,destroy:e.props.destroy,destroyChild:e.props.destroyChild,parentQueueUuid:t.uuid},s)}))})]})]})}}]),n}(s.a.Component);ne.defaultProps={};var re=ne,ae=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,queues:[]},r.destroyQueueItem=r.destroyQueueItem.bind(Object(f.a)(r)),r.destroyChildQueueItem=r.destroyChildQueueItem.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:if(200===(t=e.sent).system.status){e.next=7;break}this.errorMessage=t.system.message,e.next=14;break;case 7:if(n=t.data,this.setState({queues:n}),n.length){e.next=12;break}return localStorage.setItem("lastQueueUuid",""),e.abrupt("return");case 12:r=n[n.length-1].uuid,localStorage.setItem("lastQueueUuid",r);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroyQueueItem",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:return n=this.state.queues,r=n.filter((function(e){return e.uuid!==t})),e.next=6,this.setState({queues:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroyChildQueueItem",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(n);case 2:return r=Object(u.a)(this.state.queues),a=r.findIndex((function(e){return e.uuid===t})),s=r[a].children,c=s.filter((function(e){return e.uuid!==n})),r[a].children=c,e.next=9,this.setState({queues:r});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:K.a.Queue,children:Object(r.jsx)("div",{children:this.state.queues.map((function(t,n){return Object(r.jsx)(re,{data:t,destroy:e.destroyQueueItem,destroyChild:e.destroyChildQueueItem},n)}))})})}}]),n}(s.a.Component);ae.defaultProps={};var se=ae,ce=n(17),ie=n(24),ue=n.n(ie),oe=function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,a,s,c,i,u){var o,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(O,"/music/search",{query:t,providerSpotify:n,providerYouTube:r,providerJukeboxRadio:a,formatTrack:s,formatAlbum:c,formatPlaylist:i,formatVideo:u});case 2:return o=e.sent,e.next=5,o.json();case 5:return h=e.sent,e.abrupt("return",h);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s,c,i,u){return e.apply(this,arguments)}}(),le=function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,a){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/streams/queue/create/",{className:t,genericUuid:n,prevQueueUuid:r,nextQueueUuid:a});case 2:return s=e.sent,e.next=5,s.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),he=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props.data;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[t.provider," ",t.format," ",t.name]}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.addToQueue(e.props.data.class,e.props.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Add"})]})}}]),n}(s.a.Component);he.defaultProps={};var de=he,pe=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,searchResults:[],query:"",provider:{spotify:!0,youTube:!0,jukeboxRadio:!0},format:{track:!0,album:!0,playlist:!0,video:!0}},r.handleChange=r.handleChange.bind(Object(f.a)(r)),r.handleCheckboxChange=r.handleCheckboxChange.bind(Object(f.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(f.a)(r)),r.addToQueue=r.addToQueue.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleCheckboxChange",value:function(e){var t=e.target.name.split("."),n=Object(k.a)(t,2),r=n[0],a=n[1],s=e.target.checked,c={};c[r]=Object(ce.a)({},this.state[r]),c[r][a]=s,this.setState(c)}},{key:"handleSubmit",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,oe(this.state.query,this.state.provider.spotify,this.state.provider.youTube,this.state.provider.jukeboxRadio,this.state.format.track,this.state.format.album,this.state.format.playlist,this.state.format.video);case 3:n=e.sent,this.setState({searchResults:n.data});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addToQueue",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("lastQueueUuid")||null,null,e.next=4,le(t,n,r,null);case 4:this.setState({searchResults:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("form",{className:ue.a.Login,onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleSubmit(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Search"}),Object(r.jsxs)("label",{className:ue.a.FormBlock,children:["Query",Object(r.jsx)("input",{type:"text",name:"query",placeholder:"Search by name or artist",value:this.state.query,onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:ue.a.FormBlock,children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.spotify",checked:this.state.provider.spotify,onChange:this.handleCheckboxChange}),"Spotify"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.youTube",checked:this.state.provider.youTube,onChange:this.handleCheckboxChange}),"YouTube"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.jukeboxRadio",checked:this.state.provider.jukeboxRadio,onChange:this.handleCheckboxChange}),"Jukebox Radio"]})]}),Object(r.jsxs)("div",{className:ue.a.FormBlock,children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"format.track",checked:this.state.format.track,onChange:this.handleCheckboxChange}),"Track"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"format.album",checked:this.state.format.album,onChange:this.handleCheckboxChange}),"Album"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"format.playlist",checked:this.state.format.playlist,onChange:this.handleCheckboxChange}),"Playlist"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"format.video",checked:this.state.format.video,onChange:this.handleCheckboxChange}),"Video"]})]}),Object(r.jsx)("div",{className:ue.a.FormBlock,children:Object(r.jsx)("button",{type:"submit",children:"Search"})})]}),Object(r.jsx)("div",{children:this.state.searchResults.map((function(t,n){return Object(r.jsx)(de,{data:t,addToQueue:e.addToQueue},n)}))})]})}}]),n}(s.a.Component);pe.defaultProps={};var fe=pe,be=n(19),me=n.n(be),je=function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,a,s){var c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/music/track/create/",{audioFile:t,imageFile:n,trackName:r,artistName:a,albumName:s});case 2:return c=e.sent,e.next=5,c.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),xe=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,audioFile:"",imageFile:"",trackName:"",artistName:"",albumName:""},r.handleFileChange=r.handleFileChange.bind(Object(f.a)(r)),r.handleChange=r.handleChange.bind(Object(f.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"handleFileChange",value:function(e){var t={};t[e.target.name]=e.target.files[0],this.setState(t)}},{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,je(this.state.audioFile,this.state.imageFile,this.state.trackName,this.state.artistName,this.state.albumName);case 3:this.setState({trackName:"",artistName:"",albumName:""});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("form",{className:me.a.Login,onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleSubmit(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Upload"}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Audio file",Object(r.jsx)("input",{type:"file",name:"audioFile",onChange:this.handleFileChange})]}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Image file",Object(r.jsx)("input",{type:"file",name:"imageFile",onChange:this.handleFileChange})]}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Track name",Object(r.jsx)("input",{type:"text",name:"trackName",placeholder:"Track name",value:this.state.trackName,onChange:this.handleChange})]}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Artist name",Object(r.jsx)("input",{type:"text",name:"artistName",placeholder:"Artist name",value:this.state.artistName,onChange:this.handleChange})]}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Album name",Object(r.jsx)("input",{type:"text",name:"albumName",placeholder:"Album name",value:this.state.albumName,onChange:this.handleChange})]}),Object(r.jsx)("div",{className:me.a.FormBlock,children:Object(r.jsx)("button",{type:"submit",children:"Upload"})})]})}}]),n}(s.a.Component);xe.defaultProps={};var ve=xe,Oe=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(O,"/streams/stream/get");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/streams/stream/next-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/streams/stream/pause-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/streams/stream/play-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/streams/stream/previous-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/streams/stream/scan-backward/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,"/streams/stream/scan-forward/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={progress:void 0,_nextTrackScheduledAt:void 0,stream:void 0},r.getStream=r.getStream.bind(Object(f.a)(r)),r.animateProgressBar=r.animateProgressBar.bind(Object(f.a)(r)),r.scheduleNextTrack=r.scheduleNextTrack.bind(Object(f.a)(r)),r.handlePrevTrack=r.handlePrevTrack.bind(Object(f.a)(r)),r.handleNextTrack=r.handleNextTrack.bind(Object(f.a)(r)),r.handlePlayTrack=r.handlePlayTrack.bind(Object(f.a)(r)),r.handlePauseTrack=r.handlePauseTrack.bind(Object(f.a)(r)),r.handleScanBackward=r.handleScanBackward.bind(Object(f.a)(r)),r.handleScanForward=r.handleScanForward.bind(Object(f.a)(r)),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStream();case 2:this.scheduleNextTrack();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=t.data,e.next=6,this.setState({stream:n});case 6:this.animateProgressBar();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"animateProgressBar",value:function(){var e=this;!function t(){var n=e.state.stream;if(null===n||void 0===n?void 0:n.nowPlaying)if(n.isPlaying||!n.isPaused){var r=(new Date).getTime()-1e3*n.playedAt;r>n.nowPlaying.durationMilliseconds+3e3?e.setState({progress:void 0,stream:void 0}):(e.setState({progress:r}),window.requestAnimationFrame(t))}else e.setState({progress:1e3*n.pausedAt-1e3*n.playedAt});else e.setState({progress:void 0,stream:void 0})}()}},{key:"scheduleNextTrack",value:function(){var e=this.state._nextTrackScheduledAt;e&&clearTimeout(e);var t=this.state.stream;if(null===t||void 0===t?void 0:t.isPlaying){var n=(new Date).getTime()-1e3*t.playedAt,r=t.nowPlaying.durationMilliseconds;e=setTimeout(this.handleNextTrack,r-n),console.log(e),this.setState({_nextTrackScheduledAt:e})}else this.setState({_nextTrackScheduledAt:void 0})}},{key:"handlePrevTrack",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,we();case 3:return e.next=5,this.getStream();case 5:this.scheduleNextTrack();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleNextTrack",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),e.next=3,ye();case 3:return e.next=5,this.getStream();case 5:this.scheduleNextTrack();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePlayTrack",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.stream,e.next=4,ge();case 4:return r=e.sent,e.next=7,this.setState({stream:Object(ce.a)(Object(ce.a)({},n),{},{isPlaying:!0,isPaused:!1,playedAt:r.data.playedAt})});case 7:this.animateProgressBar(),this.scheduleNextTrack();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePauseTrack",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.stream,e.next=4,ke();case 4:return r=e.sent,e.next=7,this.setState({stream:Object(ce.a)(Object(ce.a)({},n),{},{isPlaying:!1,isPaused:!0,pausedAt:r.data.pausedAt})});case 7:this.scheduleNextTrack();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleScanBackward",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.stream,e.next=4,Ce();case 4:return r=new Date,a=r.getTime(),s=n.playedAt+10,c=a-1e3*s>0?s:Math.floor(a/1e3),e.next=11,this.setState({stream:Object(ce.a)(Object(ce.a)({},n),{},{playedAt:c})});case 11:this.scheduleNextTrack();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleScanForward",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Se();case 3:if(200===(n=e.sent).system.status){e.next=6;break}throw n.system.message;case 6:return r=this.state.stream,e.next=9,this.setState({stream:Object(ce.a)(Object(ce.a)({},r),{},{playedAt:r.playedAt-10})});case 9:this.scheduleNextTrack();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this.state.stream;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[((null===n||void 0===n?void 0:n.isPlaying)||(null===n||void 0===n?void 0:n.isPaused))&&Object(r.jsx)("p",{children:null===n||void 0===n||null===(e=n.nowPlaying)||void 0===e?void 0:e.name}),Object(r.jsx)("progress",{value:this.state.progress,max:null===n||void 0===n||null===(t=n.nowPlaying)||void 0===t?void 0:t.durationMilliseconds})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:this.handlePrevTrack,children:"Prev"}),(null===n||void 0===n?void 0:n.isPaused)&&Object(r.jsx)("button",{onClick:this.handlePlayTrack,children:"Play"}),(null===n||void 0===n?void 0:n.isPlaying)&&Object(r.jsx)("button",{onClick:this.handlePauseTrack,children:"Pause"}),Object(r.jsx)("button",{onClick:this.handleNextTrack,children:"Next"})]}),Object(r.jsxs)("div",{children:[(null===n||void 0===n?void 0:n.isPlaying)&&Object(r.jsx)("button",{onClick:this.handleScanBackward,children:"Backward"}),(null===n||void 0===n?void 0:n.isPlaying)&&Object(r.jsx)("button",{onClick:this.handleScanForward,children:"Forward"})]})]})}}]),n}(s.a.Component);Te.defaultProps={};var Ne=Te,Fe=n(8);var Pe=function(){return Object(r.jsx)(J.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(J.b,{to:"/login",children:"Login"})}),Object(r.jsx)("li",{children:Object(r.jsx)(J.b,{to:"/chat",children:"Chat"})}),Object(r.jsx)("li",{children:Object(r.jsx)(J.b,{to:"/player",children:"Player"})}),Object(r.jsx)("li",{children:Object(r.jsx)(J.b,{to:"/queue",children:"Queue"})}),Object(r.jsx)("li",{children:Object(r.jsx)(J.b,{to:"/search",children:"Search"})}),Object(r.jsx)("li",{children:Object(r.jsx)(J.b,{to:"/upload",children:"Upload"})})]})}),Object(r.jsxs)(Fe.c,{children:[Object(r.jsx)(Fe.a,{path:"/login",children:Object(r.jsx)(G,{})}),Object(r.jsx)(Fe.a,{path:"/chat",children:Object(r.jsx)(H,{})}),Object(r.jsx)(Fe.a,{path:"/player",children:Object(r.jsx)(Ne,{})}),Object(r.jsx)(Fe.a,{path:"/queue",children:Object(r.jsx)(se,{})}),Object(r.jsx)(Fe.a,{path:"/search",children:Object(r.jsx)(fe,{})}),Object(r.jsx)(Fe.a,{path:"/upload",children:Object(r.jsx)(ve,{})})]})]})})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(Pe,{})}),document.getElementById("root")),_e()}},[[73,1,2]]]);
//# sourceMappingURL=main.83bbb6a6.chunk.js.map