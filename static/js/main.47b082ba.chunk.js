(this["webpackJsonpjukebox-radio"]=this["webpackJsonpjukebox-radio"]||[]).push([[0],{100:function(e,t,n){},17:function(e,t,n){e.exports={Session:"Session_Session__3G52u",Top:"Session_Top__3uCH7",Content:"Session_Content__3lPl4",PrimaryContent:"Session_PrimaryContent__3yGCf",SecondaryContent:"Session_SecondaryContent__1Uvc2"}},18:function(e,t,n){e.exports={Player:"Player_Player__Xx8fy",Div:"Player_Div__1Mznx",Button:"Player_Button__1lbWu",Image:"Player_Image__1PWwp",MoreNextUp:"Player_MoreNextUp__2_uZ-"}},19:function(e,t,n){e.exports={BottomBar:"BottomBar_BottomBar__3MLzc",Playback:"BottomBar_Playback__3N-qW",PlaybackButton:"BottomBar_PlaybackButton__1axWT",Volume:"BottomBar_Volume__25kUh",VolumeButton:"BottomBar_VolumeButton__26qBR",ExtraControl:"BottomBar_ExtraControl__2zuEs",ExtraControlButton:"BottomBar_ExtraControlButton__3Kvpp"}},194:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(26),i=n.n(s),u=(n(98),n(2)),o=n.n(u),l=n(4),d=n(6),p=(n(100),"https://prod.jukeboxrad.io"),b="GET",j="POST";function f(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(o.a.mark((function e(){var t,n,a,r,c,s,i,u,l,b,j,f,x,h,v,O,m,y,k,g,w,C,P,S=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.length>0&&void 0!==S[0]?S[0]:"",n=S.length>1&&void 0!==S[1]?S[1]:"",a=S.length>2&&void 0!==S[2]?S[2]:{},n=p+n,"GET"===t){e.next=16;break}for(c=new FormData,s=0,i=Object.entries(a);s<i.length;s++)u=Object(d.a)(i[s],2),l=u[0],b=u[1],c.append(l,b);return j={headers:{}},(f=localStorage.getItem("accessToken"))&&(j.headers.Authorization="Bearer ".concat(f)),x=new Request(n,j),e.next=13,fetch(x,{method:t,mode:"cors",body:c});case 13:r=e.sent,e.next=26;break;case 16:for(h=new URLSearchParams,v=0,O=Object.entries(a);v<O.length;v++)m=Object(d.a)(O[v],2),y=m[0],k=m[1],h.set(y,k);return g=n+"/?"+h.toString(),w={headers:{"Content-Type":"application/json"}},(C=localStorage.getItem("accessToken"))&&(w.headers.Authorization="Bearer ".concat(C)),P=new Request(g,w),e.next=25,fetch(P,{method:t,mode:"cors"});case 25:r=e.sent;case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment/create/",{text:t,format:n,trackUuid:a,textCommentTimestamp:r});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/comments/text-comment/list",{trackUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/comments/voice-recording/list",{trackUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/auth/obtain-tokens/",{username:t,password:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/initialize/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accessToken"),e.next=3,f(j,"/auth/verify-token/",{token:t});case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/stream/get");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/music/track/get-files",{trackUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/next-track/",{nowPlayingTotalDurationMilliseconds:t,isPlanned:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/pause-track/",{nowPlayingTotalDurationMilliseconds:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/play-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/prev-track/",{nowPlayingTotalDurationMilliseconds:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/scan-backward/",{nowPlayingTotalDurationMilliseconds:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/scan-forward/",{nowPlayingTotalDurationMilliseconds:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/queue/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue/delete/",{queueUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e,t){if(!e.nowPlaying)return[void 0,void 0];for(var n,a=Date.now()-t,r="all",c=0,s=0;;){var i=e.nowPlaying.playbackIntervals[c],u=i.endPosition-i.startPosition,o=a-s;if(o<u){a=i.startPosition+o,r=i.instrument,n=i.endPosition-a;break}c+=1,s+=u}return c===e.nowPlaying.playbackIntervals.length-1&&(n=void 0),[a,n,r]},B=function(e){return(null===e||void 0===e?void 0:e.isPaused)?e.pausedAt-e.startedAt:(null===e||void 0===e?void 0:e.isPlaying)?Date.now()-e.startedAt:void 0},A=function(e){return e>.6?.6:e>.3?.3:e>0?0:1},I="spotify",R="youtube",D="jukebox_radio",F=function(e,t){var n=t.nowPlaying.track.service;if(n===I)e.spotifyApi.pause();else if(n===R)e.youTubeApi.pauseVideo();else if(n===D)for(var a=t.nowPlaying.track.uuid,r=e.files[a],c=0,s=Object.entries(r);c<s.length;c++){var i=Object(d.a)(s[c],2),u=(i[0],i[1]);u.paused&&u.pause()}},V=function(e,t){var n=t.nowPlaying.track.service;if(n===I)e.spotifyApi.play();else if(n===R)e.youTubeApi.playVideo();else if(n===D){var a=Q(t,t.startedAt)[2],r=t.nowPlaying.track.uuid;e.files[r][a].play()}},q=function(e,t,n){var a=Q(t,n),r=a[0],c=a[2],s=t.nowPlaying.track.service;if(s===I)e.spotifyApi.seek(r);else if(s===R)e.youTubeApi.seekTo(r/1e3),e.youTubeApi.playVideo();else if(s===D){for(var i=t.nowPlaying.track.uuid,u=e.files[i],o=u[c],l=0,p=Object.entries(u);l<p.length;l++){var b=Object(d.a)(p[l],2),j=b[0],f=b[1];j!==c&&(f.paused||f.pause())}o.currentTime=r/1e3,o.play()}},L=n(8),E=n(3),z=n(44),Z="hide",H=function(e){var t=e.stream,n=W(t),a=Object(d.a)(n,3),r=a[0],c=a[1],s=a[2];if(!r)return[];var i=Object(L.a)(e.textComments),u=Object(L.a)(e.voiceRecordings),o=[].concat(Object(L.a)(i),Object(L.a)(u));return o=(o=(o=o.map((function(e){var t=e.timestampMilliseconds>s&&e.timestampMilliseconds<=c,n=e.timestampMilliseconds>c&&e.timestampMilliseconds<=r;return e.renderStatus=t?"history":n?"display":Z,Object(E.a)({},e)}))).filter((function(e){return e.renderStatus!==Z}))).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}))},W=function(e){var t;if(!(null===e||void 0===e||null===(t=e.nowPlaying)||void 0===t?void 0:t.track))return[void 0,void 0,void 0];for(var n=e.startedAt,a=e.isPlaying?Date.now()-n:e.pausedAt-n,r=0,c=0,s=0,i=0;;){var u=e.nowPlaying.playbackIntervals[r],o=u.endPosition-u.startPosition,l=void 0;if((l=a-3e4-i)>=0&&l<o&&(c=u.startPosition+l),(l=a-3e4-45e3-i)>=0&&l<o&&(s=u.startPosition+l),(l=a-i)<o){a=u.startPosition+l;break}r+=1,i+=o}return[a,c,s]},J=function(e){return Object(E.a)(Object(E.a)({},e),{},{feed:H(e)})},X=function(e,t){var n=Object(E.a)({},e.trackMarkerMap),a=t.queueUuid,r=t.marker,c=[].concat(Object(L.a)(n[a]),[r]).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}));return n[a]=c,Object(E.a)(Object(E.a)({},e),{},{trackMarkerMap:n})},Y=function(e,t){var n=Object(E.a)({},e.trackMarkerMap),a=t.queueUuid,r=t.marker,c=n[t.queueUuid].filter((function(e){return e.uuid!==r.uuid}));return n[a]=c,Object(E.a)(Object(E.a)({},e),{},{trackMarkerMap:n})},G=function(e,t){var n=t.queueUuid,a=t.markers,r=Object(E.a)({},e.trackMarkerMap);return r[n]=a,Object(E.a)(Object(E.a)({},e),{},{trackMarkerMap:r})},K=n(22),$=function(e){return e[e.length-1]},ee=function(e){return e.length?e[0].children.length?e[0].children[0]:e[0]:void 0},te=function(e,t){var n=function(e){var t=0;if(e.children.length){var n,a=Object(K.a)(e.children);try{for(a.s();!(n=a.n()).done;){t+=n.value.totalDurationMilliseconds}}catch(r){a.e(r)}finally{a.f()}}else t+=e.totalDurationMilliseconds;return t},a=B(t),r=0;return a&&(r=t.nowPlaying.totalDurationMilliseconds-a),e.length?1===e.length?r+n(e[0]):r+e.reduce((function(e,t){return"number"!==typeof e&&(e=n(e)),e+n(t)})):r+0},ne=function e(t){var n,a=Object(E.a)({},t);if(a.children.length){var r=a.children.map(e),c=r.reduce((function(e,t){return e+t.durationMilliseconds}),0);return a.children=r,a.totalDurationMilliseconds=c,a}var s=a.intervals,i=null===(n=a.track)||void 0===n?void 0:n.durationMilliseconds;if(!s.length)return a.totalDurationMilliseconds=i,a.playbackIntervals=[{startPosition:0,endPosition:i,purpose:"all"}],a;var u,o,l,d,p=[],b=Object(K.a)(s);try{for(b.s();!(l=b.n()).done;){var j=l.value;if("muted"!==j.purpose)if(j.lowerBound)j.upperBound?(p.push({startPosition:j.lowerBound.timestampMilliseconds,endPosition:j.upperBound.timestampMilliseconds,purpose:j.purpose}),u=j.upperBound.timestampMilliseconds):p.push({startPosition:j.lowerBound.timestampMilliseconds,endPosition:a.totalDurationMilliseconds,purpose:j.purpose});else{var f=j.upperBound.timestampMilliseconds||a.totalDurationMilliseconds;p.push({startPosition:0,endPosition:f,purpose:j.purpose}),u=j.upperBound.timestampMilliseconds}else j.lowerBound?j.upperBound?(u||(u=0),o=j.lowerBound.timestampMilliseconds,p.push({startPosition:u,endPosition:o,purpose:"all"}),u=j.upperBound.timestampMilliseconds,o=void 0):(u||(u=0),o=j.lowerBound.timestampMilliseconds,p.push({startPosition:u,endPosition:o,purpose:"all"}),u=void 0):u=j.upperBound.timestampMilliseconds}}catch(h){b.e(h)}finally{b.f()}u&&(o=i,p.push({startPosition:u,endPosition:o,purpose:"all",audioUuid:null===(d=a.track)||void 0===d?void 0:d.uuid}));var x=p.reduce((function(e,t){return e+(t.endPosition-t.startPosition)}),0);return a.totalDurationMilliseconds=x,a.playbackIntervals=p,a},ae=function(e,t){var n=t.lastUpQueues.map(ne),a=t.nextUpQueues.map(ne),r=e._lastPlayed;r&&n.push(r);var c=e.stream;c.isPlaying||c.isPaused||!c.nowPlaying||(n.push(c.nowPlaying),c=Object(E.a)(Object(E.a)({},c),{},{nowPlaying:void 0}));var s=n.length?n[n.length-1]:void 0,i=a.length?a[0].children.length?a[0].children[0]:a[0]:void 0;return Object(E.a)(Object(E.a)({},e),{},{stream:c,lastUp:s,lastUpQueues:n,nextUp:i,nextUpQueues:a})},re=function(e,t){var n=t.stream,a=n.nowPlaying,r=Object(E.a)({},e);if(a&&(n.nowPlaying=ne(a)),r.stream=n,n.isPlaying||n.isPaused||!n.nowPlaying){if(n.isPlaying){var c=Date.now()-n.startedAt;c&&c>=n.nowPlaying.totalDurationMilliseconds&&(r.lastUp=n.nowPlaying,r._lastPlayed=n.nowPlaying,r.stream.nowPlaying=void 0,r.stream.isPlaying=!1,r.stream.isPaused=!1)}}else r.lastUp=n.nowPlaying,r._lastPlayed=n.nowPlaying,r.stream.nowPlaying=void 0,r.stream.isPlaying=!1,r.stream.isPaused=!1;return r},ce=function(e,t){var n={stream:Object(E.a)(Object(E.a)({},e.stream),{},{isPlaying:!0,isPaused:!1,startedAt:t.startedAt})};return re(e,n)},se=function(e,t){var n={stream:Object(E.a)(Object(E.a)({},e.stream),{},{isPlaying:!1,isPaused:!0,pausedAt:t.pausedAt})};return re(e,n)},ie=function(e,t){var n=Object(L.a)(e.lastUpQueues),a=Object(L.a)(e.nextUpQueues),r=e.stream.nowPlaying,c=a[0],s=n[n.length-1],i=(null===r||void 0===r?void 0:r.parentUuid)&&(null===c||void 0===c?void 0:c.uuid)&&(null===r||void 0===r?void 0:r.parentUuid)===(null===c||void 0===c?void 0:c.uuid);return r&&(i?c.children.unshift(r):a.unshift(r)),n.pop(),Object(E.a)(Object(E.a)({},e),{},{stream:Object(E.a)(Object(E.a)({},e.stream),{},{startedAt:t.startedAt,nowPlaying:s,isPlaying:!0,isPaused:!1}),lastUpQueues:n,nextUpQueues:a,_lastPlayed:void 0})},ue=function(e,t){var n=Object(L.a)(e.lastUpQueues),a=Object(L.a)(e.nextUpQueues),r=e.stream.nowPlaying,c=a[0],s=c?c.children.length?c.children[0]:c:void 0;return r&&n.push(r),c&&(c.children.length?(c.children.shift(),c.children.length||a.shift()):a.shift()),Object(E.a)(Object(E.a)({},e),{},{stream:Object(E.a)(Object(E.a)({},e.stream),{},{startedAt:t.startedAt,nowPlaying:s,isPlaying:!!s,isPaused:!1}),lastUpQueues:n,nextUpQueues:a,_lastPlayed:r})},oe=function(e,t){return Object(E.a)(Object(E.a)({},e),{},{playback:Object(E.a)(Object(E.a)({},e.playback),{},{spotifyApi:t.spotifyApi,isReady:!0})})},le=function(e,t){return Object(E.a)(Object(E.a)({},e),{},{playback:Object(E.a)(Object(E.a)({},e.playback),{},{youTubeApi:t.youTubeApi})})},de=function(e){var t=ee(e.nextUpQueues);if(!t)return Object(E.a)({},e);var n=Object(E.a)({},e.playback),a=e.stream.nowPlaying,r=a.track.service===I&&t.track.service===I&&0===t.playbackIntervals[0].startPosition,c=t.track.service===D;if(r){!function(e,t,n){t.nowPlaying.track.service===I&&e.spotifyApi.queue(n.track.externalId)}(e.playback,e.stream,t),n.queuedUp=!0;var s=a.playbackIntervals;s[s.length-1].endPosition===a.track.durationMilliseconds&&(n.noopNextTrack=!0)}else c&&w(t.track.uuid).then((function(e){qe.dispatch(e.redux)}));return Object(E.a)(Object(E.a)({},e),{},{playback:n})},pe=function(e){var t=ee(e.nextUpQueues),n=e.playback.queuedUp,a=e.playback.noopNextTrack,r=e.playback.addToQueueTimeoutId,c=e.playback.nextSeekTimeoutId,s=Object(E.a)(Object(E.a)({},e.playback),{},{queuedUp:!1,noopNextTrack:!1});return!t||a?(s.addToQueueTimeoutId=void 0,Object(E.a)(Object(E.a)({},e),{},{playback:s})):n?(function(e,t){t.nowPlaying.track.service===I&&e.spotifyApi.skipToNext()}(e.playback,e.stream),s.addToQueueTimeoutId=void 0,Object(E.a)(Object(E.a)({},e),{},{playback:s})):(clearTimeout(r),clearTimeout(c),s.isPlaying=!1,s.addToQueueTimeoutId=void 0,s.nextSeekTimeoutId=void 0,Object(E.a)(Object(E.a)({},e),{},{playback:s}))},be=function(e,t){var n=e;n=pe(n);var a=t.payload,r=n.stream.nowPlaying;return a.startedAt=n.stream.startedAt+r.totalDurationMilliseconds,n=ue(n,a)},je=function(e){var t=e.playback.addToQueueTimeoutId,n=e.playback.nextSeekTimeoutId,a=Object(E.a)(Object(E.a)({},e.playback),{},{queuedUp:!1,noopNextTrack:!1,isPlaying:!1,addToQueueTimeoutId:void 0});return clearTimeout(t),clearTimeout(n),Object(E.a)(Object(E.a)({},e),{},{playback:a})},fe=function(e){var t=Object(E.a)(Object(E.a)({},e.playback),{},{isPlaying:!0});return Object(E.a)(Object(E.a)({},e),{},{playback:t})},xe=function(e){var t=e.playback.addToQueueTimeoutId,n=e.playback.nextSeekTimeoutId,a=Object(E.a)(Object(E.a)({},e.playback),{},{addToQueueTimeoutId:void 0,nextSeekTimeoutId:void 0});return clearTimeout(t),clearTimeout(n),Object(E.a)(Object(E.a)({},e),{},{playback:a})},he=function(e,t){var n=Object(E.a)(Object(E.a)({},e.playback),{},{addToQueueTimeoutId:t.addToQueueTimeoutId});return Object(E.a)(Object(E.a)({},e),{},{playback:n})},ve=function(e,t){var n=e.playback.nextSeekTimeoutId,a=Object(E.a)(Object(E.a)({},e.playback),{},{nextSeekTimeoutId:t.nextSeekTimeoutId});return clearTimeout(n),Object(E.a)(Object(E.a)({},e),{},{playback:a})},Oe=function(e){return Object(E.a)(Object(E.a)({},e),{},{playback:Object(E.a)(Object(E.a)({},e.playback),{},{controlsEnabled:!1})})},me=function(e){return Object(E.a)(Object(E.a)({},e),{},{playback:Object(E.a)(Object(E.a)({},e.playback),{},{controlsEnabled:!0})})},ye=function(e,t){var n,a=Object(E.a)({},e.playback),r=Object(E.a)({},e.playback.files),c={all:new Audio(t.track.audioUrl)},s=Object(K.a)(t.track.stems);try{for(s.s();!(n=s.n()).done;){var i=n.value;c[i.instrument]=new Audio(i.audioUrl)}}catch(u){s.e(u)}finally{s.f()}return r[t.track.uuid]=c,Object(E.a)(Object(E.a)({},e),{},{playback:Object(E.a)(Object(E.a)({},a),{},{files:r})})},ke=function(e){var t=Object(E.a)({},e.playback.volumeLevel),n=t.audio;return t.audio=A(n),Object(E.a)(Object(E.a)({},e),{},{playback:Object(E.a)(Object(E.a)({},e.playback),{},{volumeLevel:t})})},ge=function(e){return function(t){return t.uuid===e}},we=function(e,t){return t.upperBound?e.upperBound?e.upperBound.timestampMilliseconds-e.upperBound.timestampMilliseconds:1:-1},Ce=function(e,t){var n,a=t.queueInterval,r=t.queueUuid,c=t.parentQueueUuid,s=e.nextUpQueues,i=-1;c&&(i=s.findIndex(ge(c)),s=s[i].children),n=s.findIndex(ge(r));var u=s[n],o=[].concat(Object(L.a)(u.intervals),[a]).sort(we),l=Object(L.a)(e.nextUpQueues);-1!==i?l[i].children[n].intervals=o:l[n].intervals=o;var d=l.map(ne);return Object(E.a)(Object(E.a)({},e),{},{nextUpQueues:d})},Pe=function(e,t){var n,a=t.queueInterval,r=t.queueUuid,c=t.parentQueueUuid,s=e.nextUpQueues,i=-1;c&&(i=s.findIndex(ge(c)),s=s[i].children),n=s.findIndex(ge(r));var u,o=s[n],l=Object(L.a)(o.intervals).filter((u=a.uuid,function(e){return e.uuid!==u})),d=Object(L.a)(e.nextUpQueues);-1!==i?d[i].children[n].intervals=l:d[n].intervals=l;var p=d.map(ne);return Object(E.a)(Object(E.a)({},e),{},{nextUpQueues:p})},Se=function(e,t){var n=t.textComments,a=Object(E.a)(Object(E.a)({},e),{},{textComments:n});return Object(E.a)(Object(E.a)({},a),{},{feed:H(a)})},_e=function(e,t){var n=[].concat(Object(L.a)(e.textComments),[t.textComment]),a=Object(E.a)(Object(E.a)({},e),{},{textComments:n});return Object(E.a)(Object(E.a)({},a),{},{feed:H(a)})},Me=function(e,t){var n=e.textComments.filter((function(e){return e.uuid!==t.textCommentUuid})),a=Object(E.a)(Object(E.a)({},e),{},{textComments:n});return Object(E.a)(Object(E.a)({},a),{},{feed:H(a)})},Te=function(e,t){var n,a=t.textCommentModifications,r=a.modified,c=a.deleted,s=t.textCommentUuid,i=Object(L.a)(e.textComments),u=i.findIndex((function(e){return e.uuid===s})),o=i[u],l=Object(L.a)(o.modifications);if(-1!==(n=l.findIndex((function(e){return e.uuid===r.uuid})))?l[n]=r:(l.push(r),l=l.sort((function(e,t){return e.startPtr-t.startPtr}))),c)for(var d=function(e){var t=c[e];-1!==(n=l.findIndex((function(e){return e.uuid===c.uuid})))&&(l=l.filter((function(e){return e.uuid!==t.uuid})))},p=0;p<c.length;p++)d(p);return i[u].modifications=l,Object(E.a)(Object(E.a)({},e),{},{textComments:i})},Ue=function(e,t){var n=e.textComments.findIndex((function(e){return e.uuid===t.textCommentUuid})),a=Object(L.a)(e.textComments);return a[n].modifications=[],Object(E.a)(Object(E.a)({},e),{},{textComments:a})},Ne=function(e,t){var n=t.voiceRecordings,a=Object(E.a)(Object(E.a)({},e),{},{voiceRecordings:n});return Object(E.a)(Object(E.a)({},a),{},{feed:H(a)})},Qe=function(e,t){var n=[].concat(Object(L.a)(e.voiceRecordings),[t.voiceRecording]),a=Object(E.a)(Object(E.a)({},e),{},{voiceRecordings:n});return Object(E.a)(Object(E.a)({},a),{},{feed:H(a)})},Be=function(e,t){var n=e.voiceRecordings.filter((function(e){return e.uuid!==t.voiceRecordingUuid})),a=Object(E.a)(Object(E.a)({},e),{},{voiceRecordings:n});return Object(E.a)(Object(E.a)({},a),{},{feed:H(a)})},Ae=function(e,t){return Object(E.a)(Object(E.a)({},e),{},{userSettings:Object(E.a)(Object(E.a)({},e.userSettings),t)})},Ie={nextUpQueues:[],lastUpQueues:[],_lastPlayed:void 0,textComments:[],voiceRecordings:[],feed:[],userSettings:void 0,trackMarkerMap:{},playback:{controlsEnabled:!1,spotifyApi:void 0,youTubeApi:void 0,isPlaying:!1,addToQueueTimeoutId:void 0,isReady:!1,files:{},volumeLevel:{audio:1,voice:1}}};function Re(e,t){var n=Object(E.a)({},e.stream),a=n.nowPlaying;return n.isPlaying=!1,n.isPaused=!1,n.nowPlaying=void 0,Object(E.a)(Object(E.a)({},e),{},{stream:n,_lastPlayed:a})}function De(e,t){var n=e.nextUpQueues.filter((function(e){return e.uuid!==t.queueUuid}));return Object(E.a)(Object(E.a)({},e),{},{nextUpQueues:n})}function Fe(e,t){var n=Object(L.a)(e.nextUpQueues),a=n.findIndex((function(e){return e.uuid===t.parentUuid})),r=n[a].children.filter((function(e){return e.uuid!==t.queueUuid}));return n[a].children=r,r.length||(n=n.filter((function(e){return e.uuid!==t.parentUuid}))),Object(E.a)(Object(E.a)({},e),{},{nextUpQueues:n})}function Ve(e,t){return Object(E.a)(Object(E.a)({},e),{},{userSettings:t.userSettings})}var qe=Object(z.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"stream/set":return re(e,t.payload);case"stream/play":return ce(e,t.payload);case"stream/pause":return se(e,t.payload);case"stream/prevTrack":return ie(e,t.payload);case"stream/nextTrack":return ue(e,t.payload);case"stream/expire":return Re(e);case"queue/listSet":return ae(e,t.payload);case"queue/deleteNode":return De(e,t);case"queue/deleteChildNode":return Fe(e,t);case"textComment/listSet":return Se(e,t.payload);case"textComment/create":return _e(e,t.payload);case"textComment/delete":return Me(e,t.payload);case"textCommentModification/create":return Te(e,t.payload);case"textComment/clearModifications":return Ue(e,t.payload);case"voiceRecording/create":return Qe(e,t);case"voiceRecording/listSet":return Ne(e,t.payload);case"voiceRecording/delete":return Be(e,t);case"user/get-settings":return Ve(e,t);case"marker/create":return X(e,t.payload);case"marker/delete":return Y(e,t.payload);case"marker/list":return G(e,t.payload);case"queueInterval/create":return Ce(e,t.payload);case"queueInterval/delete":return Pe(e,t.payload);case"playback/disable":return Oe(e);case"playback/enable":return me(e);case"playback/spotify":return oe(e,t.payload);case"playback/youTube":return le(e,t.payload);case"playback/addToQueue":return de(e);case"playback/plannedNextTrack":return be(e,t.payload);case"playback/start":return je(e);case"playback/started":return fe(e);case"playback/addToQueueReschedule":return xe(e);case"playback/addToQueueScheduled":return he(e,t.payload);case"playback/nextSeekScheduled":return ve(e,t.payload);case"userSettings/update":return Ae(e,t.payload);case"playback/loadFiles":return ye(e,t.payload);case"playback/cycleVolumeLevelAudio":return ke(e);case"feed/update":return J(e);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0})),Le=n(10),Ee=n(32),ze=n.n(Ee);var Ze=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(!1),f=Object(d.a)(j,2),x=f[0],h=f[1],v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m(c,p);case 3:if((n=e.sent).access&&n.refresh){e.next=6;break}return e.abrupt("return");case 6:return localStorage.setItem("accessToken",n.access),localStorage.setItem("refreshToken",n.refresh),e.next=10,y();case 10:window.location.href="/app/search";case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:ze.a.Login,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("h3",{children:"Sign in"}),Object(a.jsx)("p",{children:"Contact a system administrator for login information."}),Object(a.jsx)("p",{children:"At this time, new registrations are on a case by case basis."}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{className:ze.a.FormBlock,children:["Username\xa0\xa0",Object(a.jsx)("input",{type:"text",name:"username",placeholder:"username",value:c,onChange:function(e){s(e.target.value)}})]}),Object(a.jsxs)("label",{className:ze.a.FormBlock,children:["Password\xa0\xa0",Object(a.jsx)("input",{type:"password",name:"password",placeholder:"password",value:p,onChange:function(e){b(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{className:ze.a.FormBlock,children:[Object(a.jsx)("input",{type:"checkbox",name:"remember-me",value:x,onChange:function(e){h(e.target.value)}}),"Remember Me"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:ze.a.FormBlock,children:[Object(a.jsx)("button",{type:"submit",children:"Sign In"}),Object(a.jsxs)("span",{children:["\xa0\xa0",Object(a.jsx)(Le.b,{to:"/forgotpassword",children:"Forgot Password?"})]})]})]})},He=n(7),We=n(75),Je=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/users/user/get-settings");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/users/user/update-settings/",{field:t,value:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=n(11),Ge=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/users/user/connect-spotify/",{code:t,error:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var Ke=function(e){return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.search,n=new URLSearchParams(t),a=n.get("code"),r=n.get("error"),e.next=3,Ge(a,r);case 3:window.location.href="../app/search";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsx)("p",{children:"Redirecting..."})},$e=n(17),et=n.n($e),tt=n(27),nt=n.n(tt),at=n(78),rt=n.n(at),ct=n(38),st=n.n(ct),it=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/voice-recording/create/",{audioFile:t,transcriptData:n,transcriptFinal:a});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ut=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/voice-recording/delete/",{voiceRecordingUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=n(79),lt=n(84),dt=n.n(lt),pt="bold",bt="italicize",jt="strikethrough",ft="highlight",xt=[pt,bt,jt,ft],ht=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment-modification/create/",{textCommentUuid:t,style:n,anchorOffset:a,focusOffset:r});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();var vt=Object(He.b)((function(e){return{}}))((function(e){var t=e.textColor,n=Object(r.useRef)(null),c=Object(r.useState)(!0),s=Object(d.a)(c,2),i=s[0],u=s[1],p=Object(r.useState)(null),b=Object(d.a)(p,2),j=b[0],f=b[1],x=Object(r.useState)(null),h=Object(d.a)(x,2),v=h[0],O=h[1],m=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.data.uuid,t.next=3,ht(a,n,j,v);case 3:r=t.sent,e.dispatch(r.redux),u(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.getSelection(),n=parseInt(t.anchorNode.parentNode.getAttribute("offset"))-1,a=parseInt(t.focusNode.parentNode.getAttribute("offset")),u(!0),f(n),O(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),f(null),O(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:dt.a.NotableText,style:{color:t},children:[Object(a.jsx)("p",{ref:n,children:function(){for(var t=e.data,n=t.text,r=t.modifications,c=[],s=0;s<n.length;s++)c[s]=new Set;for(var i=0;i<r.length;i++)for(var u=r[i],o=u.startPtr;o<u.endPtr;o++)c[o].add(u.style);for(var l=Object(a.jsx)(a.Fragment,{}),d=0;d<c.length;d++){var p=n[d],b=c[d],j={};b.has(pt)&&(j.fontWeight="bold"),b.has(bt)&&(j.fontStyle="italic"),b.has(jt)&&(j.textDecoration="line-through"),b.has(ft)&&(j.backgroundColor="yellow"),l=Object(a.jsxs)(a.Fragment,{children:[l,Object(a.jsx)("span",{offset:d,style:j,children:p})]})}return l}()}),Object(a.jsx)(ot.a,{selectionRef:n,onTextSelect:y,onTextUnselect:k,isOpen:i,children:xt.map((function(e,t){return Object(a.jsx)("button",{type:"button",onClick:Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:case"end":return t.stop()}}),t)}))),children:e},t)}))})]})})),Ot=n(85),mt=n.n(Ot),yt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment/delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment-modification/list-delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var gt=Object(He.b)((function(e){return{}}))((function(e){var t,n=e.data,r=n.uuid,c=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(r);case 2:n=t.sent,e.dispatch(n.redux);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(r);case 2:return n=t.sent,t.next=5,e.dispatch(n.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t="history"===n.renderStatus?"grey":"display"===n.renderStatus?"black":"red",Object(a.jsxs)("div",{className:mt.a.TextComment,children:[Object(a.jsx)(vt,{data:n,textColor:t}),Object(a.jsx)("button",{type:"button",onClick:s,children:"Clear modifications"}),Object(a.jsx)("button",{type:"button",onClick:c,children:"Delete"})]})})),wt=n(45),Ct=n(86),Pt=n.n(Ct);var St=Object(He.b)((function(e){return{}}))((function(e){var t=e.data,n=t.uuid,r=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(n);case 2:a=t.sent,e.dispatch(a.redux);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:Pt.a.ABCNotationDisplay,children:[Object(a.jsx)(wt.Notation,{notation:t.text,engraverParams:{staffwidth:278}}),Object(a.jsx)("button",{type:"button",onClick:r,children:"Delete"})]})})),_t=n(21),Mt=n.n(_t);var Tt=Object(He.b)((function(e){return{}}))((function(e){var t=e.trackUuid,n=e.textCommentTimestamp,c=e.isOpen,s=e.closeModal,i=Object(r.useState)(!1),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(""),f=Object(d.a)(j,2),x=f[0],v=f[1],O=function(){var a=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return b(!0),a.next=3,h(x,"abc_notation",t,n);case 3:r=a.sent,e.dispatch(r.redux),s(),v(""),b(!1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(a.jsxs)(Mt.a,{isOpen:c,ariaHideApp:!1,children:[Object(a.jsx)("button",{onClick:s,disabled:p,children:"Close"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:x,onChange:function(e){v(e.target.value)},disabled:p}),Object(a.jsx)(wt.Notation,{notation:x,engraverParams:{staffwidth:278}})]}),Object(a.jsx)("button",{onClick:O,disabled:p,children:"Post"})]})})),Ut=n(87),Nt=n.n(Ut);var Qt=Object(He.b)((function(e){return{}}))((function(e){var t=e.data,n=t.uuid,r=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut(n);case 2:e.dispatch({type:"voiceRecording/delete",voiceRecordingUuid:n});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:Nt.a.VoiceRecording,children:[Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"null"===t.transcriptFinal?"<transcript not available>":t.transcriptFinal})}),Object(a.jsx)("button",{type:"submit",onClick:r,children:"Delete"})]})}));var Bt=Object(He.b)((function(e){return{stream:e.stream,textComments:e.textComments,voiceRecordings:e.voiceRecordings,feed:e.feed}}))((function(e){var t=e.feed,n=e.stream,c=Object(r.useState)(""),s=Object(d.a)(c,2),i=s[0],u=s[1],p=Object(r.useState)(void 0),b=Object(d.a)(p,2),j=b[0],f=b[1],x=Object(r.useState)(void 0),v=Object(d.a)(x,2),O=v[0],m=v[1],y=Object(r.useState)(!1),k=Object(d.a)(y,2),g=k[0],w=k[1],C=Object(r.useState)(new rt.a({bitRate:320})),P=Object(d.a)(C,1)[0],S=Object(r.useState)([]),_=Object(d.a)(S,1)[0],M=Object(r.useState)(!1),T=Object(d.a)(M,2),U=T[0],N=T[1];Object(r.useEffect)((function(){var t=setInterval((function(){e.dispatch({type:"feed/update"})}),50);return function(){clearInterval(t)}}),[]);var B=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),"text",t.next=4,h(i,"text",j,O);case 4:a=t.sent,e.dispatch(a.redux),m(void 0),f(void 0),u("");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=Object(tt.useSpeechRecognition)(),I=A.transcript,R=A.resetTranscript;return Object(a.jsxs)("div",{className:st.a.FeedApp,children:[Object(a.jsx)("div",{className:st.a.Feed,children:Object(a.jsx)("div",{className:st.a.FeedWrapper,children:t.map((function(e,t){if("TextComment"===e.class){if("text"===e.format)return Object(a.jsx)(gt,{data:e},t);if("abc_notation"===e.format)return Object(a.jsx)(St,{data:e},t)}else if("VoiceRecording"===e.class)return Object(a.jsx)(Qt,{data:e},t);return Object(a.jsx)(a.Fragment,{})}))})}),Object(a.jsxs)("form",{className:st.a.CreateTextComment,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("button",{type:"button",onClick:function(){var e=Q(n)[0];m(e),f(n.nowPlaying.track.uuid),N(!0)},disabled:!n.isPlaying,children:"Notation"}),Object(a.jsx)(Tt,{trackUuid:j,textCommentTimestamp:O,isOpen:U,closeModal:function(){N(!1)}}),Object(a.jsx)("button",{type:"button",onClick:function(){g?(nt.a.browserSupportsSpeechRecognition()&&nt.a.stopListening(),P.stop().getMp3().then((function(t){var n=Object(d.a)(t,2),a=n[0],r=n[1];Object(l.a)(o.a.mark((function t(){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new File(a,"voice.mp3",{type:r.type,lastModified:Date.now()}),t.next=3,it(n,JSON.stringify(_),I);case 3:return c=t.sent,t.next=6,e.dispatch({type:"voiceRecording/create",voiceRecording:c.data});case 6:nt.a.browserSupportsSpeechRecognition()&&R();case 7:case"end":return t.stop()}}),t)})))()})),w(!1)):(nt.a.browserSupportsSpeechRecognition()&&nt.a.startListening({continuous:!0}),P.start(),w(!0))},disabled:!n.isPlaying,children:"Record"}),Object(a.jsx)("input",{type:"text",name:"text",placeholder:"text",value:i,onChange:function(e){if(!j){var t=Q(n)[0];m(t),f(n.nowPlaying.track.uuid)}u(e.target.value)},disabled:!n.isPlaying}),Object(a.jsx)("button",{type:"submit",disabled:!n.isPlaying,children:"Send"})]})]})})),At=n(88),It=n.n(At);var Rt=function(e){return Object(a.jsx)("div",{className:It.a.MiniFeed,children:Object(a.jsx)("h3",{children:Object(a.jsx)("i",{children:"Feed..."})})})},Dt=n(58),Ft=n.n(Dt),Vt=n(28),qt=n.n(Vt),Lt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/marker/create/",{trackUuid:t,timestampMilliseconds:n,queueUuid:a});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Et=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/marker/delete/",{markerUuid:t,queueUuid:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/marker/list",{trackUuid:t,queueUuid:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r,c,s){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue-interval/create/",{queueUuid:t,lowerBoundMarkerUuid:n,upperBoundMarkerUuid:a,purpose:r,repeatCount:c,parentQueueUuid:s});case 2:return i=e.sent,e.next=5,i.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,s){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue-interval/delete/",{queueIntervalUuid:t,queueUuid:n,parentQueueUuid:a});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();var Wt=Object(He.b)((function(e){return{}}))((function(e){var t=e.data,n=t.queueInterval,r=t.queueUuid,c=t.parentQueueUuid,s=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ht(n.uuid,r,c);case 2:return a=t.sent,t.next=5,e.dispatch(a.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=n.purpose,u=n.lowerBound?n.lowerBound.timestampMilliseconds/1e3:"beginning",d=n.upperBound?n.upperBound.timestampMilliseconds/1e3:"end";return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:["[",i,"]",u," =>",d]}),Object(a.jsx)("button",{onClick:s,children:"Delete"})]})}));var Jt=Object(He.b)((function(e){return{}}))((function(e){var t=e.data,n=t.trackMarker,r=t.queueUuid,c=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Et(n.uuid,r);case 2:return a=t.sent,t.next=5,e.dispatch(a.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:["@ ",n.timestampMilliseconds/1e3]}),Object(a.jsx)("button",{onClick:c,children:"Delete"})]})}));var Xt=Object(He.b)((function(e){return{trackMarkerMap:e.trackMarkerMap}}))((function(e){var t=e.data,n=t.uuid,c=t.parentUuid,s=e.shouldOpenModal,i=e.setShouldOpenModal,u=e.isOpen,p=e.openModal,b=e.closeModal,j=e.trackMarkerMap[n]||[],f=Object(r.useState)("muted"),x=Object(d.a)(f,2),h=x[0],v=x[1],O=Object(r.useState)(""),m=Object(d.a)(O,2),y=m[0],k=m[1],g=Object(r.useState)("null"),w=Object(d.a)(g,2),C=w[0],P=w[1],S=Object(r.useState)("null"),_=Object(d.a)(S,2),M=_[0],T=_[1],U=function(){var a=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lt(t.track.uuid,y,n);case 2:return r=a.sent,a.next=5,e.dispatch(r.redux);case 5:k("");case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),N=function(){var n=Object(l.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Zt(t.uuid,C,M,h,null,c);case 2:return a=n.sent,n.next=5,e.dispatch(a.redux);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){function a(){return(a=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,zt(t.track.uuid,n);case 2:return r=a.sent,a.next=5,e.dispatch(r.redux);case 5:p();case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}s&&(i(!1),function(){a.apply(this,arguments)}())}),[s]),Object(a.jsxs)(Mt.a,{isOpen:u,ariaHideApp:!1,children:[Object(a.jsx)("button",{onClick:b,children:"Close"}),Object(a.jsx)("p",{children:"Markers"}),j.map((function(e,t){return Object(a.jsx)(Jt,{data:{trackMarker:e,queueUuid:n}},t)})),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",name:"timestampMilliseconds",placeholder:"timestamp",value:y,onChange:function(e){k(e.target.value)}}),Object(a.jsx)("button",{onClick:U,children:"Create Marker"})]}),Object(a.jsx)("p",{children:"Intervals"}),t.intervals.map((function(e,t){return Object(a.jsx)(Wt,{data:{queueInterval:e,queueUuid:n,parentQueueUuid:c}},t)})),Object(a.jsxs)("div",{children:[Object(a.jsxs)("select",{value:h,onChange:function(e){v(e.target.value)},children:[Object(a.jsx)("option",{value:"muted",children:"Muted"}),Object(a.jsx)("option",{value:"solo_drums",children:"Solo drums"}),Object(a.jsx)("option",{value:"solo_vocals",children:"Solo vocals"}),Object(a.jsx)("option",{value:"solo_bass",children:"Solo bass"}),Object(a.jsx)("option",{value:"solo_other",children:"Solo other"})]}),Object(a.jsxs)("select",{value:C,onChange:function(e){P(e.target.value)},children:[Object(a.jsx)("option",{value:"null",children:"Beginning"}),j.map((function(e,t){return Object(a.jsxs)("option",{value:e.uuid,children:["@ ",e.timestampMilliseconds]},t)}))]}),Object(a.jsxs)("select",{value:M,onChange:function(e){T(e.target.value)},children:[j.map((function(e,t){return Object(a.jsxs)("option",{value:e.uuid,children:["@ ",e.timestampMilliseconds]},t)})),Object(a.jsx)("option",{value:"null",children:"End"})]}),Object(a.jsx)("button",{onClick:N,children:"Create Interval"})]})]})})),Yt=n(46),Gt=n.n(Yt);var Kt=Object(He.b)((function(e){return{stream:e.stream,lastUp:e.lastUp}}))((function(e){var t,n=e.data,c=e.stream,s=e.lastUp,i=Object(r.useState)(!1),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(!1),f=Object(d.a)(j,2),x=f[0],h=f[1],v=(null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t?void 0:t.index)||(null===s||void 0===s?void 0:s.index),O=!v||v<n.index,m=n.parentUuid&&O?"-":"";return Object(a.jsxs)("div",{className:Gt.a.QueueTrack,children:[Object(a.jsxs)("span",{children:[m,n.track.name]}),O&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:Gt.a.Button,type:"button",onClick:function(){h(!0)},children:"Edit"}),Object(a.jsx)("button",{className:Gt.a.Button,type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"})]}),Object(a.jsx)(Xt,{data:n,isOpen:p,shouldOpenModal:x,setShouldOpenModal:h,openModal:function(){b(!0)},closeModal:function(){b(!1)}})]})}));var $t=Object(He.b)((function(e){return{stream:e.stream,lastUpQueues:e.lastUpQueues}}))((function(e){var t,n=e.data,c=e.stream,s=e.lastUpQueues,i=s[s.length-1],u=n.uuid,p=(null===c||void 0===c?void 0:c.nowPlaying)&&(null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t?void 0:t.parentUuid)===u||!(null===c||void 0===c?void 0:c.nowPlaying)&&(null===i||void 0===i?void 0:i.parentUuid)&&(null===i||void 0===i?void 0:i.parentUuid)===u,b=Object(r.useState)(p),j=Object(d.a)(b,2),f=j[0],x=j[1],h=function(e){x(!f)};return Object(a.jsxs)("div",{className:qt.a.QueueCollection,children:[Object(a.jsxs)("div",{className:qt.a.Item,children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{children:n.collection.name})}),"\xa0\xa0",n.children.length>0&&!f&&Object(a.jsx)("button",{className:qt.a.Button,type:"button",onClick:h,children:"More"}),"\xa0\xa0",n.children.length>0&&f&&Object(a.jsx)("button",{className:qt.a.Button,type:"button",onClick:h,children:"Less"}),"\xa0\xa0",!p&&Object(a.jsx)("button",{className:qt.a.Button,type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"})]}),n.children.length>0&&f&&Object(a.jsx)("div",{className:qt.a.Children,children:n.children.map((function(t,n){return Object(a.jsx)(Kt,{data:t,destroy:e.destroy},n)}))})]})})),en=n(199);var tn=Object(He.b)((function(e){return{stream:e.stream,nextUpQueues:e.nextUpQueues,lastUpQueues:e.lastUpQueues}}))((function(e){var t,n,r=e.nextUpQueues,c=e.stream,s=null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.name,i=te(r,c),u=new Date(Date.now()+i),d=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.uuid,t.next=3,N(a);case 3:(r=n.parentUuid)?e.dispatch({type:"queue/deleteChildNode",parentUuid:r,queueUuid:a}):e.dispatch({type:"queue/deleteNode",queueUuid:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:Ft.a.QueueApp,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:"Last up..."})}),Object(a.jsx)("div",{children:e.lastUpQueues.map((function(e,t){return e.track?Object(a.jsx)(Kt,{data:e,destroy:function(){}},t):Object(a.jsx)(a.Fragment,{})}))}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:"Now playing..."})}),s?Object(a.jsx)("p",{children:s}):Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"Nothing is playing..."})})]}),Object(a.jsx)("h2",{children:Object(a.jsx)("i",{children:"Next up..."})}),Object(a.jsxs)("div",{children:[r.map((function(e,t){return e.collection?Object(a.jsx)($t,{data:e,destroy:d},e.uuid):e.track?Object(a.jsx)(Kt,{data:e,destroy:d},e.uuid):Object(a.jsx)(a.Fragment,{})})),i?Object(a.jsx)("p",{children:Object(a.jsxs)("i",{children:["Playback will end\xa0",Object(a.jsx)(en.a,{future:!0,date:u,locale:"en-US"})]})}):Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"There is nothing in the queue."})}),Object(a.jsx)(Le.b,{to:"/app/search",children:Object(a.jsx)("button",{className:Ft.a.AddToQueue,children:"Add to Queue"})})]})]})})),nn=n(60),an=n.n(nn);var rn=Object(He.b)((function(e){return{nextUpQueues:e.nextUpQueues,stream:e.stream}}))((function(e){var t,n,r=e.nextUpQueues,c=e.stream;r.length?(t=function(e){if(e.length){var t,n=[],a=Object(K.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.children.length){var c,s=Object(K.a)(r.children);try{for(s.s();!(c=s.n()).done;){var i=c.value;n.push(i)}}catch(u){s.e(u)}finally{s.f()}}else n.push(r)}}catch(u){a.e(u)}finally{a.f()}return n}}([r[0]]),n=[].concat(Object(L.a)(t),Object(L.a)(r.slice(1)))):n=[];var s=te(r,c),i=new Date(Date.now()+s);return Object(a.jsxs)("div",{className:an.a.MiniQueue,children:[Object(a.jsx)("h3",{children:Object(a.jsx)("i",{children:"Next up..."})}),s?Object(a.jsx)("p",{children:Object(a.jsxs)("i",{children:["Playback will end\xa0",Object(a.jsx)(en.a,{future:!0,date:i,locale:"en-US"})]})}):Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"There is nothing in the queue."})}),Object(a.jsx)("div",{children:n.map((function(e,t){var n,r;return Object(a.jsx)("div",{className:an.a.MiniQueueItem,children:(null===(n=e.track)||void 0===n?void 0:n.name)||(null===(r=e.collection)||void 0===r?void 0:r.name)})}))})]})})),cn=n(29),sn=n.n(cn),un=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r,c,s,i,u){var l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/music/search",{query:t,providerSpotify:n,providerYouTube:a,providerJukeboxRadio:r,formatTrack:c,formatAlbum:s,formatPlaylist:i,formatVideo:u});case 2:return l=e.sent,e.next=5,l.json();case 5:return d=e.sent,e.abrupt("return",d);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,s,i,u){return e.apply(this,arguments)}}(),on=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue/create/",{className:t,genericUuid:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ln=n(34),dn=n.n(ln),pn=Object(a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M10.5858 13.4142L7.75735 10.5858L6.34314 12L10.5858 16.2427L17.6568 9.1716L16.2426 7.75739L10.5858 13.4142Z",fill:"currentColor"})});var bn=function(e){var t=e.data,n=e.addToQueue,c=Object(r.useState)(!1),s=Object(d.a)(c,2),i=s[0],u=s[1],p=Object(r.useState)(!1),b=Object(d.a)(p,2),j=b[0],f=b[1],x=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,n(t.class,t.uuid);case 3:f(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:dn.a.SearchResult,children:[Object(a.jsxs)("span",{children:[t.provider," ",t.format," ",t.name,"\xa0\xa0\xa0\xa0\xa0"]}),!i&&!j&&Object(a.jsx)("button",{type:"button",className:dn.a.Button,onClick:x,disabled:!1,children:"Add"}),i&&!j&&Object(a.jsx)("button",{type:"button",className:dn.a.Button,disabled:!0,children:Object(a.jsx)("i",{className:dn.a.ggSpinner})}),j&&Object(a.jsx)("button",{type:"button",className:dn.a.Button,disabled:!0,children:pn})]})},jn=n(23),fn=n.n(jn),xn=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r,c){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/music/track/create/",{audioFile:t,imageFile:n,trackName:a,artistName:r,albumName:c});case 2:return s=e.sent,e.next=5,s.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}();var hn=function(e){var t=Object(r.useState)(0),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(!1),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(""),f=Object(d.a)(j,2),x=f[0],h=f[1],v=Object(r.useState)(""),O=Object(d.a)(v,2),m=O[0],y=O[1],k=Object(r.useState)(""),g=Object(d.a)(k,2),w=g[0],C=g[1],P=Object(r.useState)(""),S=Object(d.a)(P,2),_=S[0],M=S[1],T=Object(r.useState)(""),U=Object(d.a)(T,2),N=U[0],Q=U[1],B=e.isOpen,A=e.closeModal,I=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,xn(x,m,w,_,N);case 3:b(!1),s((function(e){return e+2})),C(""),M(""),Q(""),A();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(Mt.a,{isOpen:B,ariaHideApp:!1,children:[Object(a.jsx)("button",{onClick:A,disabled:p,children:"Close"}),Object(a.jsxs)("div",{className:fn.a.Login,children:[Object(a.jsx)("h3",{children:"Upload"}),Object(a.jsxs)("label",{className:fn.a.FormBlock,children:["Audio file",Object(a.jsx)("input",{type:"file",name:"audioFile",onChange:function(e){h(e.target.files[0])},disabled:p},c)]}),Object(a.jsxs)("label",{className:fn.a.FormBlock,children:["Image file",Object(a.jsx)("input",{type:"file",name:"imageFile",onChange:function(e){y(e.target.files[0])},disabled:p},c+1)]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{className:fn.a.FormBlock,children:["Track name",Object(a.jsx)("input",{type:"text",name:"trackName",placeholder:"Track name",value:w,onChange:function(e){C(e.target.value)},disabled:p})]}),Object(a.jsxs)("label",{className:fn.a.FormBlock,children:["Artist name",Object(a.jsx)("input",{type:"text",name:"artistName",placeholder:"Artist name",value:_,onChange:function(e){M(e.target.value)},disabled:p})]}),Object(a.jsxs)("label",{className:fn.a.FormBlock,children:["Album name",Object(a.jsx)("input",{type:"text",name:"albumName",placeholder:"Album name",value:N,onChange:function(e){Q(e.target.value)},disabled:p})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:fn.a.FormBlock,children:Object(a.jsx)("button",{type:"submit",onClick:I,disabled:p,children:"Submit"})})]})]})};var vn=Object(He.b)((function(e){return{}}))((function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(!0),f=Object(d.a)(j,2),x=f[0],h=f[1],v=Object(r.useState)(!0),O=Object(d.a)(v,2),m=O[0],y=O[1],k=Object(r.useState)(!0),g=Object(d.a)(k,2),w=g[0],C=g[1],P=Object(r.useState)(!0),S=Object(d.a)(P,2),_=S[0],M=S[1],T=Object(r.useState)(!0),N=Object(d.a)(T,2),Q=N[0],B=N[1],A=Object(r.useState)(!0),I=Object(d.a)(A,2),R=I[0],D=I[1],F=Object(r.useState)(!0),V=Object(d.a)(F,2),q=V[0],L=V[1],E=Object(r.useState)(!1),z=Object(d.a)(E,2),Z=z[0],H=z[1],W=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,un(p,x,m,w,_,Q,R,q);case 4:t=e.sent,s(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var t=Object(l.a)(o.a.mark((function t(n,a){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,on(n,a);case 2:return t.next=4,U();case 4:r=t.sent,e.dispatch(r.redux);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:sn.a.SearchApp,children:[Object(a.jsx)("h3",{children:"Search"}),Object(a.jsx)("button",{onClick:function(){H(!0)},children:"Upload"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{className:sn.a.FormBlock,children:["Query \xa0",Object(a.jsx)("input",{type:"text",name:"query",placeholder:"",value:p,onChange:function(e){b(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&W()}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:sn.a.FormBlock,children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:x,onChange:function(e){h(e.target.checked)}}),"Spotify"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",name:"provider.youTube",checked:m,onChange:function(e){y(e.target.checked)}}),"YouTube"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",name:"provider.jukeboxRadio",checked:w,onChange:function(e){C(e.target.checked)}}),"Jukebox Radio"]})]}),Object(a.jsxs)("div",{className:sn.a.FormBlock,children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:_,onChange:function(e){M(e.target.checked)}}),"Track"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:Q,onChange:function(e){B(e.target.checked)}}),"Album"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:R,onChange:function(e){D(e.target.checked)}}),"Playlist"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:q,onChange:function(e){L(e.target.checked)}}),"Video"]})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:sn.a.FormBlock,onClick:W,children:Object(a.jsx)("button",{type:"submit",children:"Search"})})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:sn.a.SearchResults,children:c.map((function(e,t){return Object(a.jsx)(bn,{data:e,addToQueue:J},t)}))}),Object(a.jsx)(hn,{isOpen:Z,closeModal:function(){H(!1)}})]})})),On=n(39),mn=n.n(On),yn=Object(a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 2C8.44771 2 8 2.44772 8 3V5C8 5.55228 8.44771 6 9 6C9.55229 6 10 5.55228 10 5V3C10 2.44772 9.55229 2 9 2ZM8 9H16V11C16 13.2091 14.2091 15 12 15C9.79086 15 8 13.2091 8 11V9ZM13 16.917C15.8377 16.441 18 13.973 18 11V7H6V11C6 13.973 8.16229 16.441 11 16.917V22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V16.917ZM14 3C14 2.44772 14.4477 2 15 2C15.5523 2 16 2.44772 16 3V5C16 5.55228 15.5523 6 15 6C14.4477 6 14 5.55228 14 5V3Z",fill:"currentColor"})});var kn=Object(He.b)((function(e){return{userSettings:e.userSettings}}))((function(e){var t=Object(Ye.f)(),n=e.userSettings,r=e.isOpen,c=e.closeModal;return Object(a.jsx)(Mt.a,{isOpen:r,ariaHideApp:!1,children:Object(a.jsxs)("div",{className:mn.a.WelcomeApp,children:[Object(a.jsx)("button",{onClick:c,children:"Close"}),Object(a.jsx)("h2",{children:"Welcome"}),Object(a.jsx)("p",{children:"Where do you want to start?"}),Object(a.jsxs)("button",{className:mn.a.Button,onClick:function(){n&&!n.spotify.accessToken?window.location.href=e.userSettings.spotify.authorizationUrl:t.push("/app/search"),c()},disabled:!n,children:[n&&!n.spotify.accessToken&&yn,"Spotify"]}),"\xa0\xa0\xa0\xa0",Object(a.jsx)("button",{className:mn.a.Button,onClick:function(){t.push("/app/search"),c()},children:"YouTube"}),"\xa0\xa0\xa0\xa0",Object(a.jsx)("button",{className:mn.a.Button,onClick:function(){t.push("/app/search"),c()},children:"Library"})]})})})),gn=Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M6 17L14 12L6 7V17Z",fill:"currentColor"}),Object(a.jsx)("path",{d:"M18 7H15V12V17H18V7Z",fill:"currentColor"})]}),wn=Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M18 17L10 12L18 7V17Z",fill:"currentColor"}),Object(a.jsx)("path",{d:"M6 7H9V17H6V7Z",fill:"currentColor"})]}),Cn=n(18),Pn=n.n(Cn);var Sn=Object(He.b)((function(e){return{stream:e.stream,lastUpQueues:e.lastUpQueues,nextUpQueues:e.nextUpQueues,playback:e.playback}}))((function(e){var t,n,c,s,i,u,o=e.stream,l=e.playback,p=null===(t=o.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.imageUrl,b=null===o||void 0===o||null===(c=o.nowPlaying)||void 0===c?void 0:c.track,j=$(e.lastUpQueues),f=ee(e.nextUpQueues),x=Object(r.useState)(0),h=Object(d.a)(x,2),v=(h[0],h[1]);return 1===(null===o||void 0===o||null===(s=o.nowPlaying)||void 0===s?void 0:s.index)||j||window.location.reload(),Object(r.useEffect)((function(){var e=setInterval((function(){v((function(e){return e+1}))}),100);return function(){clearInterval(e)}}),[]),Object(a.jsxs)("div",{className:Pn.a.Player,children:[Object(a.jsxs)("div",{className:Pn.a.Div,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:"Last..."})}),Object(a.jsx)("p",{children:null===j||void 0===j||null===(i=j.track)||void 0===i?void 0:i.name})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:Pn.a.Div,children:[Object(a.jsx)("h2",{children:Object(a.jsx)("i",{children:"Now playing..."})}),p&&Object(a.jsx)("img",{alt:"",src:p,className:Pn.a.Image}),((null===o||void 0===o?void 0:o.isPlaying)||(null===o||void 0===o?void 0:o.isPaused))&&Object(a.jsx)("h3",{children:null===b||void 0===b?void 0:b.name}),!(null===o||void 0===o?void 0:o.isPlaying)&&!(null===o||void 0===o?void 0:o.isPaused)&&Object(a.jsx)("h3",{children:Object(a.jsx)("i",{children:"Waiting..."})})]}),Object(a.jsx)("div",{className:Pn.a.Div,children:Object(a.jsx)("progress",{value:B(o),max:null===o||void 0===o||null===(u=o.nowPlaying)||void 0===u?void 0:u.totalDurationMilliseconds})}),Object(a.jsxs)("div",{className:Pn.a.Div,children:[Object(a.jsx)("button",{className:Pn.a.Button,onClick:e.prevTrack,disabled:!l.controlsEnabled,children:wn}),Object(a.jsx)("button",{className:Pn.a.Button,onClick:e.nextTrack,disabled:!l.controlsEnabled,children:gn})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:Pn.a.Div,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:"Next..."})}),Object(a.jsx)("p",{children:null===f||void 0===f?void 0:f.track.name})]}),Object(a.jsx)(Le.b,{to:"/app/queue",children:Object(a.jsx)("button",{className:Pn.a.MoreNextUp,children:"More"})})]})})),_n=n(89),Mn=n.n(_n);var Tn=Object(He.b)((function(e){return{stream:e.stream}}))((function(e){var t,n,r,c,s=e.stream,i=null===(t=s.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.imageUrl,u=null===s||void 0===s||null===(r=s.nowPlaying)||void 0===r||null===(c=r.track)||void 0===c?void 0:c.name;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:Object(a.jsx)("i",{children:"Now playing..."})}),i&&Object(a.jsx)("img",{alt:"",src:i,className:Mn.a.Image}),u?Object(a.jsx)("p",{children:u}):Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"Nothing is playing..."})})]})})),Un=n(61),Nn=(n(192),n(19)),Qn=n.n(Nn),Bn=Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#000000",children:[Object(a.jsxs)("g",{children:[Object(a.jsx)("rect",{fill:"none",height:"48",width:"48"}),Object(a.jsx)("rect",{fill:"none",height:"48",width:"48"}),Object(a.jsx)("rect",{fill:"none",height:"48",width:"48"})]}),Object(a.jsxs)("g",{children:[Object(a.jsx)("g",{}),Object(a.jsxs)("g",{children:[Object(a.jsx)("path",{d:"M18,13c0,3.31-2.69,6-6,6s-6-2.69-6-6s2.69-6,6-6v4l5-5l-5-5v4c-4.42,0-8,3.58-8,8c0,4.42,3.58,8,8,8s8-3.58,8-8H18z"}),Object(a.jsx)("polygon",{points:"10.9,16 10.9,11.73 10.81,11.73 9.04,12.36 9.04,13.05 10.05,12.74 10.05,16"}),Object(a.jsx)("path",{d:"M14.32,11.78c-0.18-0.07-0.37-0.1-0.59-0.1s-0.41,0.03-0.59,0.1s-0.33,0.18-0.45,0.33s-0.23,0.34-0.29,0.57 s-0.1,0.5-0.1,0.82v0.74c0,0.32,0.04,0.6,0.11,0.82s0.17,0.42,0.3,0.57s0.28,0.26,0.46,0.33s0.37,0.1,0.59,0.1s0.41-0.03,0.59-0.1 s0.33-0.18,0.45-0.33s0.22-0.34,0.29-0.57s0.1-0.5,0.1-0.82V13.5c0-0.32-0.04-0.6-0.11-0.82s-0.17-0.42-0.3-0.57 S14.49,11.85,14.32,11.78z M14.33,14.35c0,0.19-0.01,0.35-0.04,0.48s-0.06,0.24-0.11,0.32s-0.11,0.14-0.19,0.17 s-0.16,0.05-0.25,0.05s-0.18-0.02-0.25-0.05s-0.14-0.09-0.19-0.17s-0.09-0.19-0.12-0.32s-0.04-0.29-0.04-0.48v-0.97 c0-0.19,0.01-0.35,0.04-0.48s0.06-0.23,0.12-0.31s0.11-0.14,0.19-0.17s0.16-0.05,0.25-0.05s0.18,0.02,0.25,0.05 s0.14,0.09,0.19,0.17s0.09,0.18,0.12,0.31s0.04,0.29,0.04,0.48V14.35z"})]})]})]}),An=Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#000000",children:[Object(a.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(a.jsx)("path",{d:"M11.99 5V1l-5 5 5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6h-2c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8zm-1.1 11h-.85v-3.26l-1.01.31v-.69l1.77-.63h.09V16zm4.28-1.76c0 .32-.03.6-.1.82s-.17.42-.29.57-.28.26-.45.33-.37.1-.59.1-.41-.03-.59-.1-.33-.18-.46-.33-.23-.34-.3-.57-.11-.5-.11-.82v-.74c0-.32.03-.6.1-.82s.17-.42.29-.57.28-.26.45-.33.37-.1.59-.1.41.03.59.1.33.18.46.33.23.34.3.57.11.5.11.82v.74zm-.85-.86c0-.19-.01-.35-.04-.48s-.07-.23-.12-.31-.11-.14-.19-.17-.16-.05-.25-.05-.18.02-.25.05-.14.09-.19.17-.09.18-.12.31-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32.11.14.19.17.16.05.25.05.18-.02.25-.05.14-.09.19-.17.09-.19.11-.32.04-.29.04-.48v-.97z"})]}),In=Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#000000",children:[Object(a.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(a.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]}),Rn=Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#000000",children:[Object(a.jsx)("g",{children:Object(a.jsx)("rect",{fill:"none",height:"24",width:"24"})}),Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M9,16h2V8H9V16z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8 s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z M13,16h2V8h-2V16z"})})})]}),Dn=Object(a.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 8.95439L17.6352 7.82736C19.0102 7.55235 20 6.34501 20 4.94274C20 3.08637 18.3017 1.69406 16.4813 2.05813L12.4117 2.87206C11.0094 3.15252 10 4.38376 10 5.8138V13.8895C9.41165 13.5492 8.72857 13.3544 8 13.3544C5.79086 13.3544 4 15.1453 4 17.3544C4 19.5635 5.79086 21.3544 8 21.3544C10.2091 21.3544 12 19.5635 12 17.3544V8.95439ZM16.8736 4.01929L12.8039 4.83322C12.3365 4.92671 12 5.33712 12 5.8138V6.91479L17.2429 5.8662C17.6831 5.77816 18 5.39165 18 4.94274C18 4.34846 17.4563 3.90274 16.8736 4.01929ZM10 17.3544C10 16.2498 9.10457 15.3544 8 15.3544C6.89543 15.3544 6 16.2498 6 17.3544C6 18.459 6.89543 19.3544 8 19.3544C9.10457 19.3544 10 18.459 10 17.3544Z",fill:"currentColor"})});var Fn=Object(He.b)((function(e){return{stream:e.stream,playback:e.playback,nextUpQueues:e.nextUpQueues}}))((function(e){var t=e.playbackControls,n=e.stream,r=e.playback,c=r.volumeLevel.audio,s=e.nextUpQueues,i=!n.nowPlaying||n.isPaused||!r.controlsEnabled,u=!n.nowPlaying||!r.controlsEnabled,o=!n.nowPlaying&&!!s.length,l=!n.nowPlaying&&!s.length,d=function(e){i||t.seek(e)};return Object(a.jsxs)("div",{className:Qn.a.BottomBar,children:[Object(a.jsxs)("div",{className:Qn.a.ExtraControl,children:[o&&Object(a.jsx)("button",{className:Qn.a.ExtraControlButton,onClick:function(){t.nextTrack()},children:"Start Playback"}),l&&Object(a.jsx)(Le.b,{to:"/app/search",children:Object(a.jsx)("button",{className:Qn.a.ExtraControlButton,children:"Add to Queue"})})]}),Object(a.jsx)("div",{className:Qn.a.Volume,children:Object(a.jsx)("button",{className:Qn.a.VolumeButton,onClick:function(){var t=A(c);!function(e,t,n){var a,r;e.spotifyApi.setVolume(100*n),e.youTubeApi.setVolume(100*n);var c=null===(a=t.nowPlaying)||void 0===a||null===(r=a.track)||void 0===r?void 0:r.uuid,s=e.files[c];s&&(s.all.volume=n,s.drums.volume=n,s.vocals.volume=n,s.bass.volume=n,s.other.volume=n)}(r,n,t),e.dispatch({type:"playback/cycleVolumeLevelAudio"})},children:Object(a.jsx)(Un.a,{value:100*c,circleRatio:.75,styles:Object(Un.b)({rotation:.625,strokeLinecap:"butt",trailColor:"#eee"}),children:Dn})})}),Object(a.jsxs)("div",{className:Qn.a.Playback,children:[Object(a.jsx)("button",{className:Qn.a.PlaybackButton,onClick:function(){d("backward")},disabled:i,children:An}),Object(a.jsx)("button",{className:Qn.a.PlaybackButton,onClick:function(){u||(n.isPlaying&&t.pause(),n.isPaused&&t.play())},disabled:u,children:n.nowPlaying&&n.isPlaying?Rn:In}),Object(a.jsx)("button",{className:Qn.a.PlaybackButton,onClick:function(){d("forward")},disabled:i,children:Bn})]})]})}));var Vn=Object(He.b)((function(e){return{userSettings:e.userSettings}}))((function(e){var t=e.isOpen,n=e.closeModal,c=Object(r.useState)(!0),s=Object(d.a)(c,2),i=s[0];return s[1],e.userSettings?Object(a.jsxs)(Mt.a,{isOpen:t,ariaHideApp:!1,children:[Object(a.jsx)("button",{onClick:n,children:"Close"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("a",{href:e.userSettings.spotify.authorizationUrl,children:"Connect Your Spotify Account"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:e.userSettings.idleQueue,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{idleQueue:t.target.checked}}),Xe("idle_after_now_playing",t.target.checked)},disabled:!i}),"Idle After Queue"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:e.userSettings.speakVoice,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{speakVoice:t.target.checked}}),Xe("mute_voice_recordings",t.target.checked)},disabled:!i}),"Speak Voice Recordings"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:e.userSettings.focusMode,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{focusMode:t.target.checked}}),Xe("focus_mode",t.target.checked)},disabled:!i}),"Focus Mode"]}),Object(a.jsx)("br",{})]})]})]}):Object(a.jsx)(a.Fragment,{})})),qn=n(47),Ln=n.n(qn),En=Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"}),Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"})]}),zn=Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 15C6.65685 15 8 13.6569 8 12C8 10.3431 6.65685 9 5 9C3.34315 9 2 10.3431 2 12C2 13.6569 3.34315 15 5 15ZM5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z",fill:"currentColor"}),Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15ZM12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",fill:"currentColor"}),Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 13.6569 20.6569 15 19 15C17.3431 15 16 13.6569 16 12C16 10.3431 17.3431 9 19 9C20.6569 9 22 10.3431 22 12ZM20 12C20 12.5523 19.5523 13 19 13C18.4477 13 18 12.5523 18 12C18 11.4477 18.4477 11 19 11C19.5523 11 20 11.4477 20 12Z",fill:"currentColor"})]});var Zn=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],s=n[1];return Object(a.jsxs)("div",{className:Ln.a.SideBar,children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:Ln.a.Center,children:En}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(Le.b,{to:"/app/feed",children:"Feed"})}),Object(a.jsx)("li",{children:Object(a.jsx)(Le.b,{to:"/app/player",children:"Player"})}),Object(a.jsx)("li",{children:Object(a.jsx)(Le.b,{to:"/app/queue",children:"Queue"})}),Object(a.jsx)("li",{children:Object(a.jsx)(Le.b,{to:"/app/search",children:"Search"})})]}),Object(a.jsx)("div",{className:Ln.a.Center,children:Object(a.jsx)("button",{onClick:function(){s(!0)},children:zn})}),Object(a.jsx)(Vn,{isOpen:c,closeModal:function(){s(!1)}})]})};var Hn=Object(He.b)((function(e){return{stream:e.stream,nextUpQueues:e.nextUpQueues}}))((function(e){var t=e.stream,n=e.nextUpQueues,c=Object(r.useState)(!1),s=Object(d.a)(c,2),i=s[0],u=s[1],o=Object(r.useState)(!1),l=Object(d.a)(o,2),p=l[0],b=l[1];return Object(r.useEffect)((function(){!t.isPlaying&&!t.isPaused&&!n.length&&!p&&(u(!0),b(!0))}),[t,n,p]),Object(a.jsxs)("div",{className:et.a.Session,children:[Object(a.jsx)(kn,{isOpen:i,closeModal:function(){u(!1)}}),Object(a.jsxs)("div",{className:et.a.Top,children:[Object(a.jsx)(Zn,{}),Object(a.jsx)("div",{className:et.a.Content,children:Object(a.jsxs)(Ye.c,{children:[Object(a.jsx)(Ye.a,{path:"/app/feed",children:Object(a.jsx)("div",{className:et.a.PrimaryContent,children:Object(a.jsx)(Bt,{})})}),Object(a.jsxs)(Ye.a,{path:"/app/player",children:[Object(a.jsx)("div",{className:et.a.PrimaryContent,children:Object(a.jsx)(Sn,{nextTrack:e.playbackControls.nextTrack,prevTrack:e.playbackControls.prevTrack,seek:e.playbackControls.seek,pause:e.playbackControls.pause,play:e.playbackControls.play})}),Object(a.jsx)("div",{className:et.a.SecondaryContent,children:Object(a.jsx)(Le.b,{to:"/app/feed",children:Object(a.jsx)(Rt,{})})})]}),Object(a.jsxs)(Ye.a,{path:"/app/queue",children:[Object(a.jsx)("div",{className:et.a.PrimaryContent,children:Object(a.jsx)(tn,{})}),Object(a.jsx)("div",{className:et.a.SecondaryContent,children:Object(a.jsx)(Le.b,{to:"/app/player",children:Object(a.jsx)(Tn,{})})})]}),Object(a.jsxs)(Ye.a,{path:"/app/search",children:[Object(a.jsx)("div",{className:et.a.PrimaryContent,children:Object(a.jsx)(vn,{})}),Object(a.jsx)("div",{className:et.a.SecondaryContent,children:Object(a.jsx)(Le.b,{to:"/app/queue",children:Object(a.jsx)(rn,{})})})]})]})})]}),Object(a.jsx)(Fn,{playbackControls:e.playbackControls})]})}));var Wn=function(e){return Object(a.jsxs)(Ye.c,{children:[Object(a.jsx)(Ye.a,{path:"/app/:content",children:Object(a.jsx)(Hn,{playbackControls:e.playbackControls})}),Object(a.jsx)(Ye.a,{path:"/u/:username",children:Object(a.jsx)("span",{children:"PROFILE"})}),Object(a.jsx)(Ye.a,{path:"/spotify",children:Object(a.jsx)(Ke,{})})]})},Jn=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return n=e.sent,e.next=5,O(t);case 5:a=e.sent,qe.dispatch(n.redux),qe.dispatch(a.redux);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xn=n(193);var Yn=Object(He.b)((function(e){return{stream:e.stream,playback:e.playback,lastUpQueues:e.lastUpQueues,nextUpQueues:e.nextUpQueues}}))((function(e){var t,n,c=e.stream,s=e.playback,i=$(e.lastUpQueues),u=ee(e.nextUpQueues),p=Object(r.useState)(!1),b=Object(d.a)(p,2),j=b[0],f=b[1],x=Object(r.useState)(void 0),h=Object(d.a)(x,2),v=h[0],O=h[1],m=Object(r.useState)(!1),y=Object(d.a)(m,2),k=y[0],g=y[1],U=Object(r.useState)(!1),N=Object(d.a)(U,2),B=N[0],A=N[1],L=Object(r.useState)({}),z=Object(d.a)(L,2),Z=z[0],H=z[1],W=Object(r.useState)({}),J=Object(d.a)(W,2),X=J[0],Y=J[1],G=function(e,t){var n=c.nowPlaying,a=null===n||void 0===n?void 0:n.playbackIntervals,r=a?a[a.length-1]:void 0;return(null===n||void 0===n?void 0:n.track)&&(n.track.service===D||n.track.service===I&&!(null===e||void 0===e?void 0:e.track)||n.track.service===I&&e.track.service!==I&&(!t||r.endPosition!==n.totalDurationMilliseconds&&t))},K=function(){var t;(null===(t=c.nowPlaying)||void 0===t?void 0:t.track)&&(e.dispatch({type:"playback/started"}),function(e,t){var n=Q(t,t.startedAt),a=n[0],r=n[2],c=t.nowPlaying.track.service;if(c===I)e.spotifyApi.play({uris:[t.nowPlaying.track.externalId],position_ms:a});else if(c===R)e.youTubeApi.seekTo(a/1e3),e.youTubeApi.playVideo();else if(c===D){var s=t.nowPlaying.track.uuid,i=e.files[s][r];a>0&&(i.currentTime=a/1e3),i.play()}}(s,c))},te=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:return t.next=4,C(null===(n=c.nowPlaying)||void 0===n?void 0:n.totalDurationMilliseconds,!0);case 4:return a=t.sent,Y(a),t.next=8,e.dispatch({type:"playback/addToQueue"});case 8:A(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(u,!0)&&F(s,c),t.next=3,e.dispatch({type:"playback/plannedNextTrack",payload:{payload:X.redux}});case 3:return t.next=5,e.dispatch({type:"playback/enable"});case 5:return t.next=7,Jn(null===u||void 0===u||null===(n=u.track)||void 0===n?void 0:n.uuid);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,r,u,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:if(G(i,!1)&&F(s,c),(null===(n=i.track)||void 0===n?void 0:n.service)!==D){t.next=9;break}return t.next=6,w(i.track.uuid);case 6:return u=t.sent,t.next=9,e.dispatch(u.redux);case 9:return t.next=11,_(null===(a=c.nowPlaying)||void 0===a?void 0:a.totalDurationMilliseconds);case 11:return l=t.sent,t.next=14,e.dispatch(l.redux);case 14:return t.next=16,e.dispatch({type:"playback/start"});case 16:return t.next=18,e.dispatch({type:"playback/enable"});case 18:return t.next=20,Jn(null===i||void 0===i||null===(r=i.track)||void 0===r?void 0:r.uuid);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:if(G(u,!1)&&F(s,c),(null===u||void 0===u?void 0:u.track.service)!==D){t.next=9;break}return t.next=6,w(u.track.uuid);case 6:return r=t.sent,t.next=9,e.dispatch(r.redux);case 9:return t.next=11,C(null===(n=c.nowPlaying)||void 0===n?void 0:n.totalDurationMilliseconds,!1);case 11:return i=t.sent,t.next=14,e.dispatch(i.redux);case 14:return t.next=16,e.dispatch({type:"playback/start"});case 16:return t.next=18,e.dispatch({type:"playback/enable"});case 18:return t.next=20,Jn(null===u||void 0===u||null===(a=u.track)||void 0===a?void 0:a.uuid);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ce=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,r,i,u,l,d,p,b=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.length>0&&void 0!==b[0]?b[0]:void 0,t.next=3,e.dispatch({type:"playback/disable"});case 3:if("forward"!==n){t.next=14;break}return t.next=6,T(c.nowPlaying.totalDurationMilliseconds);case 6:if(400!==t.sent.system.status){t.next=11;break}return t.next=10,e.dispatch({type:"playback/enable"});case 10:return t.abrupt("return");case 11:a=c.startedAt-1e4,t.next=22;break;case 14:if("backward"!==n){t.next=21;break}return t.next=17,M(c.nowPlaying.totalDurationMilliseconds);case 17:r=new Date,i=r.getTime(),u=c.startedAt+1e4,a=i-u>0?u:i,t.next=22;break;case 21:a=c.startedAt;case 22:return t.next=24,e.dispatch({type:"stream/set",payload:{stream:Object(E.a)(Object(E.a)({},c),{},{startedAt:a})}});case 24:return l=Q(c,a),d=l[1],q(s,c,a),t.next=28,e.dispatch({type:"playback/addToQueueReschedule"});case 28:return d&&(p=setTimeout((function(){ce()}),d),e.dispatch({type:"playback/nextSeekScheduled",payload:{nextSeekTimeoutId:p}})),t.next=31,e.dispatch({type:"playback/enable"});case 31:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:return t.next=4,P(c.nowPlaying.totalDurationMilliseconds);case 4:return n=t.sent,t.next=7,e.dispatch(n.redux);case 7:return t.next=9,e.dispatch({type:"playback/addToQueueReschedule"});case 9:return F(s,c),clearTimeout(Z),t.next=13,e.dispatch({type:"playback/enable"});case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:return t.next=4,S();case 4:return n=t.sent,t.next=7,e.dispatch(n.redux);case 7:if(s.isPlaying){t.next=11;break}return t.next=10,e.dispatch({type:"playback/enable"});case 10:return t.abrupt("return");case 11:return t.next=13,e.dispatch({type:"playback/addToQueueReschedule"});case 13:return V(s,c),t.next=16,e.dispatch({type:"playback/enable"});case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){!function(){var e=document.createElement("script");e.src="https://sdk.scdn.co/spotify-player.js",e.async=!0,new Promise((function(e){window.Spotify?e():window.onSpotifyWebPlaybackSDKReady=e})).then((function(){f(!0)})),document.body.appendChild(e)}()}),[]),Object(r.useEffect)((function(){if(j){var t=new window.Spotify.Player({name:"Jukebox Radio",getOAuthToken:function(t){Je().then((function(n){if(t(n.data.spotify.accessToken),e.dispatch({type:"user/get-settings",userSettings:n.data}),n.data.spotify.accessToken){var a=new Xn;a.setAccessToken(n.data.spotify.accessToken),e.dispatch({type:"playback/spotify",payload:{spotifyApi:a}})}e.dispatch({type:"playback/enable"}),g(!0)}))}});t.addListener("ready",(function(e){var t=e.device_id;O(t)})),t.addListener("player_state_changed",(function(e){})),t.connect()}}),[j]),Object(r.useEffect)((function(){k&&v&&function(e,t){e.spotifyApi.transferMyPlayback([t])}(s,v)}),[k,v]),Object(r.useEffect)((function(){if(c.isPlaying&&s.isPlaying&&!s.addToQueueTimeoutId&&(null===c||void 0===c?void 0:c.nowPlaying)){var t=Date.now()-c.startedAt,n=c.nowPlaying.totalDurationMilliseconds-t,a=setTimeout((function(){te()}),n-5e3);e.dispatch({type:"playback/addToQueueScheduled",payload:{addToQueueTimeoutId:a}});var r=Q(c,c.startedAt)[1];if(r){var i=setTimeout((function(){ce()}),r);e.dispatch({type:"playback/nextSeekScheduled",payload:{nextSeekTimeoutId:i}})}}}),[s]),Object(r.useEffect)((function(){if(B){A(!1);var e=Date.now()-c.startedAt,t=c.nowPlaying.totalDurationMilliseconds-e,n=setTimeout((function(){ne()}),t);clearTimeout(Z),H(n)}}),[B]),Object(r.useEffect)((function(){c.isPlaying&&!s.isPlaying&&s.isReady&&K()}),[c,s]);var ue={nextTrack:re,prevTrack:ae,seek:ce,pause:se,play:ie},oe=null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.externalId;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(We.a,{videoId:oe,opts:{height:"135",width:"240",playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1,origin:"jukeboxrad.io",playsinline:1}},onReady:function(t){var n=t.target;e.dispatch({type:"playback/youTube",payload:{youTubeApi:n}})},onPause:function(){se()},onPlay:function(){ie()}})}),Object(a.jsx)(Wn,{playbackControls:ue})]})})),Gn=n(198),Kn=n(90);var $n=function(){var e=Object(r.useState)("initial"),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,a,r,s,i,u,l,d,p,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(e.sent){e.next=6;break}return c("unauthenticated"),e.abrupt("return");case 6:return c("authenticated"),e.next=9,g();case 9:return i=e.sent,e.next=12,qe.dispatch(i.redux);case 12:if(u=i.redux.payload,(null===(l=null===(t=u.stream.nowPlaying)||void 0===t?void 0:t.track)||void 0===l?void 0:l.service)!==D){e.next=20;break}return d=l.uuid,e.next=17,w(d);case 17:return i=e.sent,e.next=20,qe.dispatch(i.redux);case 20:return e.next=22,U();case 22:return i=e.sent,e.next=25,qe.dispatch(i.redux);case 25:return e.next=27,v(null===(n=u.stream.nowPlaying)||void 0===n||null===(a=n.track)||void 0===a?void 0:a.uuid);case 27:return p=e.sent,e.next=30,qe.dispatch(p.redux);case 30:return e.next=32,O(null===(r=u.stream.nowPlaying)||void 0===r||null===(s=r.track)||void 0===s?void 0:s.uuid);case 32:return b=e.sent,e.next=35,qe.dispatch(b.redux);case 35:c("ready");case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Gn.a.addDefaultLocale(Kn),function(){e.apply(this,arguments)}(),window.addEventListener("beforeunload",(function(e){e.preventDefault();var t=qe.getState();t.stream.isPlaying&&(P(),F(t.playback,t.stream))}))}),[]),"initial"===n?Object(a.jsx)(a.Fragment,{}):"unauthenticated"===n?Object(a.jsx)(Le.a,{children:Object(a.jsx)(He.a,{store:qe,children:Object(a.jsx)("div",{className:"app-main-container",children:Object(a.jsx)("div",{className:"app-main",children:Object(a.jsx)(Ze,{})})})})}):"authenticated"===n?Object(a.jsx)(Le.a,{children:Object(a.jsx)(He.a,{store:qe,children:"Loading..."})}):Object(a.jsx)(Le.a,{children:Object(a.jsx)(He.a,{store:qe,children:Object(a.jsx)("div",{className:"app-main-container",children:Object(a.jsx)(Yn,{})})})})},ea=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)($n,{})}),document.getElementById("root")),ea()},23:function(e,t,n){e.exports={Upload:"Upload_Upload__tMDig",FormBlock:"Upload_FormBlock__2ls6S"}},28:function(e,t,n){e.exports={QueueCollection:"QueueCollection_QueueCollection__2uTSJ",Item:"QueueCollection_Item__2k6HI",Button:"QueueCollection_Button__KLnuj",Children:"QueueCollection_Children__1Q1i5"}},29:function(e,t,n){e.exports={SearchApp:"SearchApp_SearchApp__Mfcqz",FormBlock:"SearchApp_FormBlock__1myUf",SearchResults:"SearchApp_SearchResults__p1J6y"}},32:function(e,t,n){e.exports={Login:"Login_Login__1ujut",FormBlock:"Login_FormBlock__S_rix"}},34:function(e,t,n){e.exports={SearchResult:"SearchResult_SearchResult__djXCo",Button:"SearchResult_Button__1Hbjl",ggSpinner:"SearchResult_ggSpinner__iNeQG",spinner:"SearchResult_spinner__u3axZ"}},38:function(e,t,n){e.exports={FeedApp:"FeedApp_FeedApp__2YJHa",Feed:"FeedApp_Feed__3NWaq",FeedWrapper:"FeedApp_FeedWrapper__5dQdY",CreateTextComment:"FeedApp_CreateTextComment__1tCDm"}},39:function(e,t,n){e.exports={WelcomeApp:"WelcomeApp_WelcomeApp__3mJcH"}},46:function(e,t,n){e.exports={QueueTrack:"QueueTrack_QueueTrack__cD3iI",Button:"QueueTrack_Button__3peLA"}},47:function(e,t,n){e.exports={SideBar:"SideBar_SideBar__2JzAY",Center:"SideBar_Center__SYGR6"}},58:function(e,t,n){e.exports={QueueApp:"QueueApp_QueueApp__3OUXI",AddToQueue:"QueueApp_AddToQueue__1Zpmd"}},60:function(e,t,n){e.exports={MiniQueue:"MiniQueue_MiniQueue__2HfJP",MiniQueueItem:"MiniQueue_MiniQueueItem__2-wsK"}},84:function(e,t,n){e.exports={NotableText:"NotableText_NotableText__gYPiJ"}},85:function(e,t,n){e.exports={TextComment:"TextComment_TextComment__92FmQ",Notated:"TextComment_Notated__8XL21"}},86:function(e,t,n){e.exports={ABCNotationDisplay:"ABCNotationDisplay_ABCNotationDisplay__2WbrS"}},87:function(e,t,n){e.exports={VoiceRecording:"VoiceRecording_VoiceRecording__29j03"}},88:function(e,t,n){e.exports={MiniFeed:"MiniFeed_MiniFeed__2GXUK"}},89:function(e,t,n){e.exports={MiniPlayer:"MiniPlayer_MiniPlayer__w1Mms",Image:"MiniPlayer_Image__1dVlH"}},98:function(e,t,n){}},[[194,1,2]]]);
//# sourceMappingURL=main.47b082ba.chunk.js.map