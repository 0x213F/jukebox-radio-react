(this["webpackJsonpjukebox-radio"]=this["webpackJsonpjukebox-radio"]||[]).push([[0],{13:function(e,t,n){e.exports={Player:"Player_Player__RgpZ6",Div:"Player_Div__HhfjS",Button:"Player_Button__1m74t"}},150:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),c=n.n(a),u=n(25),s=n.n(u),i=(n(74),n(1)),o=n.n(i),l=n(4),d=n(5),p=(n(76),"https://prod.jukeboxrad.io"),b="GET",j="POST";function f(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(o.a.mark((function e(){var t,n,r,a,c,u,s,i,l,b,j,f,x,h,m,v,O,y,k,g,w,C,U,T=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=T.length>0&&void 0!==T[0]?T[0]:"",n=T.length>1&&void 0!==T[1]?T[1]:"",r=T.length>2&&void 0!==T[2]?T[2]:{},n=p+n,"GET"===t){e.next=16;break}for(c=new FormData,u=0,s=Object.entries(r);u<s.length;u++)i=Object(d.a)(s[u],2),l=i[0],b=i[1],c.append(l,b);return j={headers:{}},(f=localStorage.getItem("accessToken"))&&(j.headers.Authorization="Bearer ".concat(f)),x=new Request(n,j),e.next=13,fetch(x,{method:t,mode:"cors",body:c});case 13:a=e.sent,e.next=26;break;case 16:for(h=new URLSearchParams,m=0,v=Object.entries(r);m<v.length;m++)O=Object(d.a)(v[m],2),y=O[0],k=O[1],h.set(y,k);return g=n+"/?"+h.toString(),w={headers:{"Content-Type":"application/json"}},(C=localStorage.getItem("accessToken"))&&(w.headers.Authorization="Bearer ".concat(C)),U=new Request(g,w),e.next=25,fetch(U,{method:t,mode:"cors"});case 25:a=e.sent;case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r,a){var c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment/create/",{text:t,format:n,textCommentUuid:r,textCommentTimestamp:a});case 2:return c=e.sent,e.next=5,c.json();case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/comments/text-comment/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/comments/voice-recording/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/auth/obtain-tokens/",{username:t,password:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/initialize/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accessToken"),e.next=3,f(j,"/auth/verify-token/",{token:t});case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/stream/get");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/next-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/pause-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/play-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/prev-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/scan-backward/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/scan-forward/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/queue/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue/delete/",{queueUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/users/user/get-settings");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=n(9),M=n(3),B=n(38),R="hide",q=function(e){var t=e.stream,n=F(t),r=Object(d.a)(n,3),a=r[0],c=r[1],u=r[2];if(!a)return[];var s=Object(I.a)(e.textComments),i=Object(I.a)(e.voiceRecordings),o=[].concat(Object(I.a)(s),Object(I.a)(i));return o=(o=(o=o.map((function(e){var t=e.timestampMilliseconds>u&&e.timestampMilliseconds<=c,n=e.timestampMilliseconds>c&&e.timestampMilliseconds<=a;return e.renderStatus=t?"history":n?"display":R,Object(M.a)({},e)}))).filter((function(e){return e.renderStatus!==R}))).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}))},F=function(e){if(!(null===e||void 0===e?void 0:e.nowPlaying))return[void 0,void 0,void 0];for(var t=e.startedAt,n=e.isPlaying?Date.now()-t:e.pausedAt-t,r=0,a=0,c=0,u=0;;){var s=e.nowPlaying.playbackIntervals[r],i=s[1]-s[0],o=void 0;if((o=n-3e4-u)>=0&&o<i&&(a=s[0]+o),(o=n-3e4-45e3-u)>=0&&o<i&&(c=s[0]+o),(o=n-u)<i){n=s[0]+o;break}r+=1,u+=i}return[n,a,c]},A=function(e){return Object(M.a)(Object(M.a)({},e),{},{feed:q(e)})},D=function(e,t){var n=Object(M.a)({},e.trackMarkerMap),r=t.queueUuid,a=t.marker,c=[].concat(Object(I.a)(n[r]),[a]).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}));return n[r]=c,Object(M.a)(Object(M.a)({},e),{},{trackMarkerMap:n})},E=function(e,t){var n=Object(M.a)({},e.trackMarkerMap),r=t.queueUuid,a=t.marker,c=n[t.queueUuid].filter((function(e){return e.uuid!==a.uuid}));return n[r]=c,Object(M.a)(Object(M.a)({},e),{},{trackMarkerMap:n})},L=function(e,t){var n=t.queueUuid,r=t.markers,a=Object(M.a)({},e.trackMarkerMap);return a[n]=r,Object(M.a)(Object(M.a)({},e),{},{trackMarkerMap:a})},V="spotify",J=n(56),z=function e(t){var n,r=Object(M.a)({},t);if(r.children.length){var a=r.children.map(e),c=a.reduce((function(e,t){return e+t.durationMilliseconds}),0);return r.children=a,r.totalDurationMilliseconds=c,r}var u=r.intervals,s=null===(n=r.track)||void 0===n?void 0:n.durationMilliseconds;if(!u.length)return r.totalDurationMilliseconds=s,r.playbackIntervals=[[0,s]],r;var i,o,l,d=[],p=Object(J.a)(u);try{for(p.s();!(l=p.n()).done;){var b=l.value;if(b.lowerBound){if(b.upperBound){i||(i=0),o=b.lowerBound.timestampMilliseconds,d.push([i,o]),i=b.upperBound.timestampMilliseconds,o=void 0;continue}i||(i=0),o=b.lowerBound.timestampMilliseconds,d.push([i,o]),i=void 0;break}i=b.upperBound.timestampMilliseconds}}catch(f){p.e(f)}finally{p.f()}i&&(o=s,d.push([i,o]));var j=d.reduce((function(e,t){return e+(t[1]-t[0])}),0);return r.totalDurationMilliseconds=j,r.playbackIntervals=d,r},X=function(e,t){var n=t.lastUpQueues.map(z),r=t.nextUpQueues.map(z),a=e._lastPlayed;a&&n.push(a);var c=e.stream;c.isPlaying||c.isPaused||!c.nowPlaying||(n.push(c.nowPlaying),c=Object(M.a)(Object(M.a)({},c),{},{nowPlaying:void 0}));var u=n.length?n[n.length-1]:void 0,s=r.length?r[0].children.length?r[0].children[0]:r[0]:void 0;return Object(M.a)(Object(M.a)({},e),{},{stream:c,lastUp:u,lastUpQueues:n,nextUp:s,nextUpQueues:r})},Y=function(e,t){var n=t.stream,r=n.nowPlaying,a=Object(M.a)({},e);if(r&&(n.nowPlaying=z(r)),a.stream=n,n.isPlaying||n.isPaused||!n.nowPlaying){if(n.isPlaying){var c=Date.now()-n.startedAt;c&&c>=n.nowPlaying.totalDurationMilliseconds&&(a.lastUp=n.nowPlaying,a._lastPlayed=n.nowPlaying,a.stream.nowPlaying=void 0,a.stream.isPlaying=!1,a.stream.isPaused=!1)}}else a.lastUp=n.nowPlaying,a._lastPlayed=n.nowPlaying,a.stream.nowPlaying=void 0,a.stream.isPlaying=!1,a.stream.isPaused=!1;return a},Z=function(e,t){var n={stream:Object(M.a)(Object(M.a)({},e.stream),{},{isPlaying:!0,isPaused:!1,startedAt:t.startedAt})};return Y(e,n)},H=function(e,t){var n={stream:Object(M.a)(Object(M.a)({},e.stream),{},{isPlaying:!1,isPaused:!0,pausedAt:t.pausedAt})};return Y(e,n)},G=function(e,t){var n=Object(I.a)(e.lastUpQueues),r=Object(I.a)(e.nextUpQueues),a=e.stream.nowPlaying,c=r[0],u=n[n.length-1],s=(null===a||void 0===a?void 0:a.parentUuid)&&(null===c||void 0===c?void 0:c.uuid)&&(null===a||void 0===a?void 0:a.parentUuid)===(null===c||void 0===c?void 0:c.uuid);return a&&(s?c.children.unshift(a):r.unshift(a)),n.pop(),Object(M.a)(Object(M.a)({},e),{},{stream:Object(M.a)(Object(M.a)({},e.stream),{},{startedAt:t.startedAt,nowPlaying:u,isPlaying:!0,isPaused:!1}),lastUpQueues:n,nextUpQueues:r,_lastPlayed:void 0})},W=function(e,t){var n=Object(I.a)(e.lastUpQueues),r=Object(I.a)(e.nextUpQueues),a=e.stream.nowPlaying,c=r[0],u=c?c.children.length?c.children[0]:c:void 0;return a&&n.push(a),c&&(c.children.length?(c.children.shift(),c.children.length||r.shift()):r.shift()),Object(M.a)(Object(M.a)({},e),{},{stream:Object(M.a)(Object(M.a)({},e.stream),{},{startedAt:t.startedAt,nowPlaying:u,isPlaying:!!u,isPaused:!1}),lastUpQueues:n,nextUpQueues:r,_lastPlayed:a})},K=function(e){var t=e.nextUpQueues;return t.length?t[0].children.length?t[0].children[0]:t[0]:void 0},$=function(e,t){return Object(M.a)(Object(M.a)({},e),{},{playback:Object(M.a)(Object(M.a)({},e.playback),{},{spotifyApi:t.spotifyApi,isReady:!0})})},ee=function(e){var t=K(e);if(!t)return Object(M.a)({},e);var n=Object(M.a)({},e.playback),r=e.stream.nowPlaying;r.track.service===V&&t.track.service===V&&0===t.playbackIntervals[0][0]&&(e.playback.spotifyApi.queue(t.track.externalId),n.queuedUp=!0,r.playbackIntervals[r.playbackIntervals.length-1][1]===r.track.durationMilliseconds&&(n.noopNextTrack=!0));return Object(M.a)(Object(M.a)({},e),{},{playback:n})},te=function(e,t){var n=e;n=function(e){var t=K(e),n=e.playback.queuedUp,r=e.playback.noopNextTrack,a=e.playback.addToQueueTimeoutId,c=e.playback.nextSeekTimeoutId,u=Object(M.a)(Object(M.a)({},e.playback),{},{queuedUp:!1,noopNextTrack:!1});return!t||r?(u.addToQueueTimeoutId=void 0,Object(M.a)(Object(M.a)({},e),{},{playback:u})):n?(e.playback.spotifyApi.skipToNext(),u.addToQueueTimeoutId=void 0,Object(M.a)(Object(M.a)({},e),{},{playback:u})):(clearTimeout(a),clearTimeout(c),u.isPlaying=!1,u.addToQueueTimeoutId=void 0,u.nextSeekTimeoutId=void 0,Object(M.a)(Object(M.a)({},e),{},{playback:u}))}(n);var r=t.payload,a=n.stream.nowPlaying;return r.startedAt=n.stream.startedAt+a.totalDurationMilliseconds,n=W(n,r)},ne=function(e){var t=e.playback.addToQueueTimeoutId,n=e.playback.nextSeekTimeoutId,r=Object(M.a)(Object(M.a)({},e.playback),{},{queuedUp:!1,noopNextTrack:!1,isPlaying:!1,addToQueueTimeoutId:void 0});return clearTimeout(t),clearTimeout(n),Object(M.a)(Object(M.a)({},e),{},{playback:r})},re=function(e){var t=Object(M.a)(Object(M.a)({},e.playback),{},{isPlaying:!0});return Object(M.a)(Object(M.a)({},e),{},{playback:t})},ae=function(e){var t=e.playback.addToQueueTimeoutId,n=e.playback.nextSeekTimeoutId,r=Object(M.a)(Object(M.a)({},e.playback),{},{addToQueueTimeoutId:void 0,nextSeekTimeoutId:void 0});return clearTimeout(t),clearTimeout(n),Object(M.a)(Object(M.a)({},e),{},{playback:r})},ce=function(e,t){var n=Object(M.a)(Object(M.a)({},e.playback),{},{addToQueueTimeoutId:t.addToQueueTimeoutId});return Object(M.a)(Object(M.a)({},e),{},{playback:n})},ue=function(e,t){var n=e.playback.nextSeekTimeoutId,r=Object(M.a)(Object(M.a)({},e.playback),{},{nextSeekTimeoutId:t.nextSeekTimeoutId});return clearTimeout(n),Object(M.a)(Object(M.a)({},e),{},{playback:r})},se=function(e,t){return Object(M.a)(Object(M.a)({},e),{},{player:Object(M.a)(Object(M.a)({},e.player),{},{controlsEnabled:!1})})},ie=function(e,t){return Object(M.a)(Object(M.a)({},e),{},{player:Object(M.a)(Object(M.a)({},e.player),{},{controlsEnabled:!0})})},oe=function(e){return function(t){return t.uuid===e}},le=function(e,t){return t.upperBound?e.upperBound?e.upperBound.timestampMilliseconds-e.upperBound.timestampMilliseconds:1:-1},de=function(e,t){var n,r=t.queueInterval,a=t.queueUuid,c=t.parentQueueUuid,u=e.nextUpQueues,s=-1;c&&(s=u.findIndex(oe(c)),u=u[s].children),n=u.findIndex(oe(a));var i=u[n],o=[].concat(Object(I.a)(i.intervals),[r]).sort(le),l=Object(I.a)(e.nextUpQueues);-1!==s?l[s].children[n].intervals=o:l[n].intervals=o;var d=l.map(z);return Object(M.a)(Object(M.a)({},e),{},{nextUpQueues:d})},pe=function(e,t){var n,r=t.queueInterval,a=t.queueUuid,c=t.parentQueueUuid,u=e.nextUpQueues,s=-1;c&&(s=u.findIndex(oe(c)),u=u[s].children),n=u.findIndex(oe(a));var i,o=u[n],l=Object(I.a)(o.intervals).filter((i=r.uuid,function(e){return e.uuid!==i})),d=Object(I.a)(e.nextUpQueues);-1!==s?d[s].children[n].intervals=l:d[n].intervals=l;var p=d.map(z);return Object(M.a)(Object(M.a)({},e),{},{nextUpQueues:p})},be=function(e,t){var n=t.textComments,r=Object(M.a)(Object(M.a)({},e),{},{textComments:n});return Object(M.a)(Object(M.a)({},r),{},{feed:q(r)})},je=function(e,t){var n=[].concat(Object(I.a)(e.textComments),[t.textComment]),r=Object(M.a)(Object(M.a)({},e),{},{textComments:n});return Object(M.a)(Object(M.a)({},r),{},{feed:q(r)})},fe=function(e,t){var n=e.textComments.filter((function(e){return e.uuid!==t.textCommentUuid})),r=Object(M.a)(Object(M.a)({},e),{},{textComments:n});return Object(M.a)(Object(M.a)({},r),{},{feed:q(r)})},xe=function(e,t){var n=t.textCommentModification,r=t.textCommentUuid,a=Object(I.a)(e.textComments),c=a.findIndex((function(e){return e.uuid===r})),u=a[c],s=Object(I.a)(u.modifications);s.push(n);var i=s.sort((function(e,t){return e.startPtr-t.startPtr}));return a[c].modifications=i,Object(M.a)(Object(M.a)({},e),{},{textComments:a})},he=function(e,t){var n=t.voiceRecordings,r=Object(M.a)(Object(M.a)({},e),{},{voiceRecordings:n});return Object(M.a)(Object(M.a)({},r),{},{feed:q(r)})},me=function(e,t){var n=[].concat(Object(I.a)(e.voiceRecordings),[t.voiceRecording]),r=Object(M.a)(Object(M.a)({},e),{},{voiceRecordings:n});return Object(M.a)(Object(M.a)({},r),{},{feed:q(r)})},ve=function(e,t){var n=e.voiceRecordings.filter((function(e){return e.uuid!==t.voiceRecordingUuid})),r=Object(M.a)(Object(M.a)({},e),{},{voiceRecordings:n});return Object(M.a)(Object(M.a)({},r),{},{feed:q(r)})},Oe={nextUpQueues:[],lastUpQueues:[],_lastPlayed:void 0,textComments:[],voiceRecordings:[],feed:[],userSettings:void 0,trackMarkerMap:{},playback:{controlsEnabled:!0,spotifyApi:void 0,isPlaying:!1,queuedUp:!1,noopNextTrack:!1,addToQueueTimeoutId:void 0,isReady:!1}};function ye(e,t){var n=Object(M.a)({},e.stream),r=n.nowPlaying;return n.isPlaying=!1,n.isPaused=!1,n.nowPlaying=void 0,Object(M.a)(Object(M.a)({},e),{},{stream:n,_lastPlayed:r})}function ke(e,t){var n=e.nextUpQueues.filter((function(e){return e.uuid!==t.queueUuid}));return Object(M.a)(Object(M.a)({},e),{},{nextUpQueues:n})}function ge(e,t){var n=Object(I.a)(e.nextUpQueues),r=n.findIndex((function(e){return e.uuid===t.parentUuid})),a=n[r].children.filter((function(e){return e.uuid!==t.queueUuid}));return n[r].children=a,a.length||(n=n.filter((function(e){return e.uuid!==t.parentUuid}))),Object(M.a)(Object(M.a)({},e),{},{nextUpQueues:n})}function we(e,t){var n=e.textComments.findIndex((function(e){return e.uuid===t.textCommentUuid})),r=Object(I.a)(e.textComments);return r[n].modifications=[],Object(M.a)(Object(M.a)({},e),{},{textComments:r})}function Ce(e,t){return Object(M.a)(Object(M.a)({},e),{},{userSettings:t.userSettings})}var Ue=Object(B.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"stream/set":return Y(e,t.payload);case"stream/play":return Z(e,t.payload);case"stream/pause":return H(e,t.payload);case"stream/prevTrack":return G(e,t.payload);case"stream/nextTrack":return W(e,t.payload);case"stream/expire":return ye(e);case"queue/listSet":return X(e,t.payload);case"queue/deleteNode":return ke(e,t);case"queue/deleteChildNode":return ge(e,t);case"textComment/listSet":return be(e,t.payload);case"textComment/create":return je(e,t);case"textComment/delete":return fe(e,t);case"textCommentModification/create":return xe(e,t.payload);case"textComment/clearModifications":return we(e,t);case"voiceRecording/create":return me(e,t);case"voiceRecording/listSet":return he(e,t.payload);case"voiceRecording/delete":return ve(e,t);case"user/get-settings":return Ce(e,t);case"marker/create":return D(e,t.payload);case"marker/delete":return E(e,t.payload);case"marker/list":return L(e,t.payload);case"queueInterval/create":return de(e,t.payload);case"queueInterval/delete":return pe(e,t.payload);case"player/disable":return se(e);case"player/enable":return ie(e);case"playback/spotify":return $(e,t.payload);case"playback/addToQueue":return ee(e);case"playback/plannedNextTrack":return te(e,t.payload);case"playback/start":return ne(e);case"playback/started":return re(e);case"playback/addToQueueReschedule":return ae(e);case"playback/addToQueueScheduled":return ce(e,t.payload);case"playback/nextSeekScheduled":return ue(e,t.payload);case"feed/update":return A(e);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0})),Te=n(11),Se=n(27),Pe=n.n(Se);var _e=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],u=n[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),p=i[0],b=i[1],j=Object(a.useState)(!1),f=Object(d.a)(j,2),x=f[0],h=f[1],m=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O(c,p);case 3:if((n=e.sent).access&&n.refresh){e.next=6;break}return e.abrupt("return");case 6:return localStorage.setItem("accessToken",n.access),localStorage.setItem("refreshToken",n.refresh),e.next=10,y();case 10:window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{className:Pe.a.Login,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Sign in"}),Object(r.jsxs)("p",{children:["If you have not created an account yet, then please ",Object(r.jsx)(Te.b,{to:"/signup",children:"Sign Up"})," first."]}),Object(r.jsxs)("label",{className:Pe.a.FormBlock,children:["Username",Object(r.jsx)("input",{type:"text",name:"username",placeholder:"username",value:c,onChange:function(e){u(e.target.value)}})]}),Object(r.jsxs)("label",{className:Pe.a.FormBlock,children:["Password",Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",value:p,onChange:function(e){b(e.target.value)}})]}),Object(r.jsxs)("label",{className:Pe.a.FormBlock,children:[Object(r.jsx)("input",{type:"checkbox",name:"remember-me",value:x,onChange:function(e){h(e.target.value)}}),"Remember Me"]}),Object(r.jsxs)("div",{className:Pe.a.FormBlock,children:[Object(r.jsx)("button",{type:"submit",children:"Sign In"}),Object(r.jsx)("span",{children:Object(r.jsx)(Te.b,{to:"/forgotpassword",children:"Forgot Password?"})})]})]})},Ne=n(6),Qe=n(10),Ie=n(22),Me=n.n(Ie),Be=n(58),Re=n.n(Be),qe=n(48),Fe=n.n(qe),Ae=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/voice-recording/create/",{audioFile:t,transcriptData:n,transcriptFinal:r});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),De=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/voice-recording/delete/",{voiceRecordingUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=n(59),Le=n(64),Ve=n.n(Le),Je=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r,a){var c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment-modification/create/",{textCommentUuid:t,style:n,anchorOffset:r,focusOffset:a});case 2:return c=e.sent,e.next=5,c.json();case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ze="bold",Xe="italicize",Ye="strikethrough",Ze=[ze,Xe,Ye];var He=Object(Ne.b)((function(e){return{stream:e.stream,textComments:e.textComments,voiceRecordings:e.voiceRecordings,feed:e.feed}}))((function(e){var t=e.textColor,n=Object(a.useRef)(null),c=Object(a.useState)(!0),u=Object(d.a)(c,2),s=u[0],i=u[1],p=Object(a.useState)(null),b=Object(d.a)(p,2),j=b[0],f=b[1],x=Object(a.useState)(null),h=Object(d.a)(x,2),m=h[0],v=h[1],O=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.data.uuid,t.next=3,Je(r,n,j,m);case 3:a=t.sent,e.dispatch(a.redux),i(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=window.getSelection()).anchorNode===t.focusNode){e.next=6;break}return i(!1),f(null),v(null),e.abrupt("return");case 6:n=parseInt(t.anchorNode.parentNode.getAttribute("offset")),i(!0),f(n+t.anchorOffset),v(n+t.focusOffset);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!1),f(null),v(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:Ve.a.NotableText,style:{color:t},children:[Object(r.jsx)("p",{ref:n,children:function(){for(var t=e.data,n=t.text,a=t.modifications,c=0,u=Object(r.jsx)(r.Fragment,{}),s=0;s<a.length;s++){var i=a[s],o=n.substring(c,i.startPtr),l=n.substring(i.startPtr,i.endPtr);u=Object(r.jsxs)(r.Fragment,{children:[u,Object(r.jsx)("span",{offset:c,children:o}),i.type===ze&&Object(r.jsx)("b",{children:Object(r.jsx)("span",{children:l})}),i.type===Xe&&Object(r.jsx)("i",{children:Object(r.jsx)("span",{children:l})}),i.type===Ye&&Object(r.jsx)("strike",{children:Object(r.jsx)("span",{children:l})})]}),c=i.endPtr}var d=n.substring(c,n.length);return u=Object(r.jsxs)(r.Fragment,{children:[u,Object(r.jsx)("span",{offset:c,children:d})]})}()}),Object(r.jsx)(Ee.a,{selectionRef:n,onTextSelect:y,onTextUnselect:k,isOpen:s,children:Ze.map((function(e,t){return Object(r.jsx)("button",{type:"button",onClick:Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:case"end":return t.stop()}}),t)}))),children:e},t)}))})]})})),Ge=n(65),We=n(66),Ke=n.n(We),$e=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment/delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment-modification/list-delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var tt=Object(Ne.b)((function(e){return{}}))((function(e){var t,n=e.data,a=n.uuid,c=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$e(a);case 2:return t.next=4,e.dispatch({type:"textComment/delete",textCommentUuid:a});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et(a);case 2:return t.next=4,e.dispatch({type:"textComment/clearModifications",textCommentUuid:a});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t="history"===n.renderStatus?"grey":"display"===n.renderStatus?"black":"red",Object(r.jsxs)("div",{className:Ke.a.TextComment,children:["text"===n.format?Object(r.jsx)(He,{data:n,textColor:t}):Object(r.jsx)(Ge.Notation,{notation:n.text,engraverParams:{staffwidth:278}}),"text"===n.format&&Object(r.jsx)("button",{type:"button",onClick:u,children:"Clear modifications"}),Object(r.jsx)("button",{type:"button",onClick:c,children:"Delete"})]})})),nt=n(67),rt=n.n(nt);var at=function(e){var t=function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.data.uuid,t.next=4,De(r);case 4:return t.next=6,e.dispatch({type:"voiceRecording/delete",voiceRecordingUuid:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=e.data;return Object(r.jsxs)("div",{className:rt.a.VoiceRecording,children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"null"===n.transcriptFinal?"<transcript not available>":n.transcriptFinal})}),Object(r.jsx)("form",{onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:"Delete"})})]})};var ct=Object(Ne.b)((function(e){return{stream:e.stream,textComments:e.textComments,voiceRecordings:e.voiceRecordings,feed:e.feed}}))((function(e){var t=e.feed,n=e.stream,c=Object(a.useState)(""),u=Object(d.a)(c,2),s=u[0],i=u[1],p=Object(a.useState)(void 0),b=Object(d.a)(p,2),j=b[0],f=b[1],x=Object(a.useState)(void 0),m=Object(d.a)(x,2),v=m[0],O=m[1],y=Object(a.useState)(""),k=Object(d.a)(y,2),g=k[0],w=k[1],C=Object(a.useState)(!1),U=Object(d.a)(C,2),T=U[0],S=U[1],P=Object(a.useState)(new Re.a({bitRate:320})),_=Object(d.a)(P,1)[0],N=Object(a.useState)([]),Q=Object(d.a)(N,1)[0];Object(a.useEffect)((function(){var t=setInterval((function(){e.dispatch({type:"feed/update"})}),250);return function(){clearInterval(t)}}),[]);var I=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=g?"abc_notation":"text",t.next=4,h(s,r,j,v);case 4:return a=t.sent,t.next=7,e.dispatch({type:"textComment/create",textComment:a.data});case 7:O(void 0),f(void 0),i("");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=Object(Ie.useSpeechRecognition)(),B=M.transcript,R=M.resetTranscript;return Object(r.jsxs)("div",{className:Fe.a.Chat,children:[Object(r.jsx)("div",{children:t.map((function(e,t){return"TextComment"===e.class?Object(r.jsx)(tt,{data:e},t):"VoiceRecording"===e.class?Object(r.jsx)(at,{data:e},t):Object(r.jsx)(r.Fragment,{})}))}),Object(r.jsxs)("form",{className:Fe.a.CreateTextComment,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("input",{type:"checkbox",value:g,onChange:function(e){w(e.target.checked)}}),Object(r.jsx)("button",{type:"button",onClick:function(){T?(Me.a.browserSupportsSpeechRecognition()&&Me.a.stopListening(),_.stop().getMp3().then((function(t){var n=Object(d.a)(t,2),r=n[0],a=n[1];Object(l.a)(o.a.mark((function t(){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new File(r,"voice.mp3",{type:a.type,lastModified:Date.now()}),t.next=3,Ae(n,JSON.stringify(Q),B);case 3:return c=t.sent,t.next=6,e.dispatch({type:"voiceRecording/create",voiceRecording:c.data});case 6:Me.a.browserSupportsSpeechRecognition()&&R();case 7:case"end":return t.stop()}}),t)})))()})),S(!1)):(Me.a.browserSupportsSpeechRecognition()&&Me.a.startListening({continuous:!0}),_.start(),S(!0))},disabled:!n.isPlaying,children:"Record"}),g?Object(r.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:s,onChange:function(e){i(e.target.value)},disabled:!n.isPlaying}):Object(r.jsx)("input",{type:"text",name:"text",placeholder:"text",value:s,onChange:function(e){if(!j){var t=F(n)[0];O(t),f(n.nowPlaying.track.uuid)}i(e.target.value)},disabled:!n.isPlaying}),Object(r.jsx)("button",{type:"submit",disabled:!n.isPlaying,children:"Send"})]}),Object(r.jsx)("div",{})]})})),ut=n(68),st=n.n(ut),it=n(23),ot=n.n(it),lt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/marker/create/",{trackUuid:t,timestampMilliseconds:n,queueUuid:r});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),dt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/marker/delete/",{markerUuid:t,queueUuid:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/marker/list",{trackUuid:t,queueUuid:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r,a,c,u){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue-interval/create/",{queueUuid:t,lowerBoundMarkerUuid:n,upperBoundMarkerUuid:r,isMuted:a,repeatCount:c,parentQueueUuid:u});case 2:return s=e.sent,e.next=5,s.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,u){return e.apply(this,arguments)}}(),jt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue-interval/delete/",{queueIntervalUuid:t,queueUuid:n,parentQueueUuid:r});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var ft=Object(Ne.b)((function(e){return{}}))((function(e){var t=e.data,n=t.trackMarker,a=t.queueUuid,c=function(){var t=Object(l.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt(n.uuid,a);case 2:return r=t.sent,t.next=5,e.dispatch(r.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:["@ ",n.timestampMilliseconds/1e3]}),Object(r.jsx)("button",{onClick:c,children:"Delete"})]})}));var xt=Object(Ne.b)((function(e){return{}}))((function(e){var t=e.data,n=t.queueInterval,a=t.queueUuid,c=t.parentQueueUuid,u=function(){var t=Object(l.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jt(n.uuid,a,c);case 2:return r=t.sent,t.next=5,e.dispatch(r.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=n.lowerBound?n.lowerBound.timestampMilliseconds/1e3:"beginning",i=n.upperBound?n.upperBound.timestampMilliseconds/1e3:"end";return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[s," =>",i,"(",n.isMuted?"muted":"played",")"]}),Object(r.jsx)("button",{onClick:u,children:"Delete"})]})}));var ht=Object(Ne.b)((function(e){return{trackMarkerMap:e.trackMarkerMap,nextUpQueues:e.nextUpQueues}}))((function(e){var t=e.data,n=t.uuid,c=t.parentUuid,u=e.trackMarkerMap[n]||[],s=Object(a.useState)(""),i=Object(d.a)(s,2),p=i[0],b=i[1],j=Object(a.useState)("null"),f=Object(d.a)(j,2),x=f[0],h=f[1],m=Object(a.useState)("null"),v=Object(d.a)(m,2),O=v[0],y=v[1];Object(a.useEffect)((function(){function r(){return(r=Object(l.a)(o.a.mark((function r(){var a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,pt(t.track.uuid,n);case 2:return a=r.sent,r.next=5,e.dispatch(a.redux);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[]);var k=function(){var r=Object(l.a)(o.a.mark((function r(){var a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lt(t.track.uuid,p,n);case 2:return a=r.sent,r.next=5,e.dispatch(a.redux);case 5:b("");case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),g=function(){var n=Object(l.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bt(t.uuid,x,O,!0,null,c);case 2:return r=n.sent,n.next=5,e.dispatch(r.redux);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Markers"}),u.map((function(e,t){return Object(r.jsx)(ft,{data:{trackMarker:e,queueUuid:n}},t)})),Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"text",name:"timestampMilliseconds",placeholder:"timestamp",value:p,onChange:function(e){b(e.target.value)}}),Object(r.jsx)("button",{onClick:k,children:"Create Marker"})]}),Object(r.jsx)("p",{children:"Intervals"}),t.intervals.map((function(e,t){return Object(r.jsx)(xt,{data:{queueInterval:e,queueUuid:n,parentQueueUuid:c}},t)})),Object(r.jsxs)("div",{children:[Object(r.jsxs)("select",{value:x,onChange:function(e){h(e.target.value)},children:[Object(r.jsx)("option",{value:"null",children:"Beginning"}),u.map((function(e,t){return Object(r.jsxs)("option",{value:e.uuid,children:["@ ",e.timestampMilliseconds]},t)}))]}),Object(r.jsxs)("select",{value:O,onChange:function(e){y(e.target.value)},children:[u.map((function(e,t){return Object(r.jsxs)("option",{value:e.uuid,children:["@ ",e.timestampMilliseconds]},t)})),Object(r.jsx)("option",{value:"null",children:"End"})]}),Object(r.jsx)("button",{onClick:g,children:"Mute Interval"})]})]})})),mt=n(32),vt=n.n(mt);var Ot=Object(Ne.b)((function(e){return{stream:e.stream,lastUp:e.lastUp}}))((function(e){var t,n=e.data,c=e.stream,u=e.lastUp,s=Object(a.useState)(!1),i=Object(d.a)(s,2),p=i[0],b=i[1],j=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=(null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t?void 0:t.index)||(null===u||void 0===u?void 0:u.index),h=!x||x<n.index,m=n.parentUuid&&h?"-":"";return Object(r.jsxs)("div",{className:vt.a.QueueTrack,children:[Object(r.jsxs)("span",{children:[m,n.track.name]}),h&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{className:vt.a.Button,type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"}),!p&&Object(r.jsx)("button",{className:vt.a.Button,type:"button",onClick:j,children:"Edit"}),p&&Object(r.jsx)("button",{className:vt.a.Button,type:"button",onClick:f,children:"Done"})]}),p&&Object(r.jsx)(ht,{data:n})]})}));var yt=Object(Ne.b)((function(e){return{stream:e.stream,lastUpQueues:e.lastUpQueues}}))((function(e){var t,n=e.data,c=e.stream,u=e.lastUpQueues,s=u[u.length-1],i=e.data.uuid,p=(null===c||void 0===c?void 0:c.isPlaying)&&(null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t?void 0:t.parentUuid)===i||!(null===c||void 0===c?void 0:c.isPlaying)&&(null===s||void 0===s?void 0:s.parentUuid)&&(null===s||void 0===s?void 0:s.parentUuid)===i,b=Object(a.useState)(p),j=Object(d.a)(b,2),f=j[0],x=j[1],h=function(e){x(!f)};return Object(r.jsxs)("div",{className:ot.a.QueueCollection,children:[Object(r.jsxs)("div",{className:ot.a.Item,children:[Object(r.jsx)("span",{children:n.collection.name}),!p&&Object(r.jsx)("button",{className:ot.a.Button,type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"}),n.children.length>0&&!f&&Object(r.jsx)("button",{className:ot.a.Button,type:"button",onClick:h,children:"More"}),n.children.length>0&&f&&Object(r.jsx)("button",{className:ot.a.Button,type:"button",onClick:h,children:"Less"})]}),n.children.length>0&&f&&Object(r.jsx)("div",{className:ot.a.Children,children:n.children.map((function(t,n){return Object(r.jsx)(Ot,{data:t,destroy:e.destroy},n)}))})]})}));var kt=Object(Ne.b)((function(e){return{stream:e.stream,nextUpQueues:e.nextUpQueues,lastUpQueues:e.lastUpQueues}}))((function(e){var t,n,a=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.uuid,t.next=3,N(r);case 3:(a=n.parentUuid)?e.dispatch({type:"queue/deleteChildNode",parentUuid:a,queueUuid:r}):e.dispatch({type:"queue/deleteNode",queueUuid:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:st.a.Queue,children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Last up..."})}),Object(r.jsx)("div",{children:e.lastUpQueues.map((function(e,t){return e.track?Object(r.jsx)(Ot,{data:e,destroy:function(){}},t):Object(r.jsx)(r.Fragment,{})}))}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Now playing..."})}),Object(r.jsx)("p",{children:null===(t=e.stream)||void 0===t||null===(n=t.nowPlaying)||void 0===n?void 0:n.track.name})]}),Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Next up..."})}),Object(r.jsx)("div",{children:e.nextUpQueues.map((function(e,t){return e.collection?Object(r.jsx)(yt,{data:e,destroy:a},e.uuid):e.track?Object(r.jsx)(Ot,{data:e,destroy:a},e.uuid):Object(r.jsx)(r.Fragment,{})}))})]})})),gt=n(29),wt=n.n(gt),Ct=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r,a,c,u,s,i){var l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/music/search",{query:t,providerSpotify:n,providerYouTube:r,providerJukeboxRadio:a,formatTrack:c,formatAlbum:u,formatPlaylist:s,formatVideo:i});case 2:return l=e.sent,e.next=5,l.json();case 5:return d=e.sent,e.abrupt("return",d);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,u,s,i){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue/create/",{className:t,genericUuid:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var Tt=function(e){var t=e.data;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[t.provider," ",t.format," ",t.name]}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addToQueue(e.data.class,e.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Add"})]})};var St=Object(Ne.b)((function(e){return{}}))((function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],u=n[1],s=Object(a.useState)([]),i=Object(d.a)(s,2),p=i[0],b=i[1],j=Object(a.useState)(!0),f=Object(d.a)(j,2),x=f[0],h=f[1],m=Object(a.useState)(!0),v=Object(d.a)(m,2),O=v[0],y=v[1],k=Object(a.useState)(!0),g=Object(d.a)(k,2),w=g[0],C=g[1],U=Object(a.useState)(!0),T=Object(d.a)(U,2),S=T[0],P=T[1],N=Object(a.useState)(!0),Q=Object(d.a)(N,2),I=Q[0],M=Q[1],B=Object(a.useState)(!0),R=Object(d.a)(B,2),q=R[0],F=R[1],A=Object(a.useState)(!0),D=Object(d.a)(A,2),E=D[0],L=D[1],V=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ct(p,x,O,w,S,I,q,E);case 3:n=e.sent,u(n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(l.a)(o.a.mark((function t(n,r){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ut(n,r);case 2:return u([]),t.next=5,_();case 5:return a=t.sent,t.next=8,e.dispatch(a.redux);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("form",{className:wt.a.Login,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Search"}),Object(r.jsxs)("label",{className:wt.a.FormBlock,children:["Query \xa0",Object(r.jsx)("input",{type:"text",name:"query",placeholder:"",value:p,onChange:function(e){b(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{className:wt.a.FormBlock,children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:x,onChange:function(e){h(e.target.checked)}}),"Spotify"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.youTube",checked:O,onChange:function(e){y(e.target.checked)}}),"YouTube"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.jukeboxRadio",checked:w,onChange:function(e){C(e.target.checked)}}),"Jukebox Radio"]})]}),Object(r.jsxs)("div",{className:wt.a.FormBlock,children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:S,onChange:function(e){P(e.target.checked)}}),"Track"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:I,onChange:function(e){M(e.target.checked)}}),"Album"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:q,onChange:function(e){F(e.target.checked)}}),"Playlist"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:E,onChange:function(e){L(e.target.checked)}}),"Video"]})]}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:wt.a.FormBlock,children:Object(r.jsx)("button",{type:"submit",children:"Search"})})]}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{children:c.map((function(e,t){return Object(r.jsx)(Tt,{data:e,addToQueue:J},t)}))})]})})),Pt=n(19),_t=n.n(Pt),Nt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r,a,c){var u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/music/track/create/",{audioFile:t,imageFile:n,trackName:r,artistName:a,albumName:c});case 2:return u=e.sent,e.next=5,u.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}();var Qt=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],u=n[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),p=i[0],b=i[1],j=Object(a.useState)(""),f=Object(d.a)(j,2),x=f[0],h=f[1],m=Object(a.useState)(""),v=Object(d.a)(m,2),O=v[0],y=v[1],k=Object(a.useState)(""),g=Object(d.a)(k,2),w=g[0],C=g[1],U=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Nt(c,p,x,O,w);case 3:h(""),y(""),C("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{className:_t.a.Login,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Upload"}),Object(r.jsxs)("label",{className:_t.a.FormBlock,children:["Audio file",Object(r.jsx)("input",{type:"file",name:"audioFile",onChange:function(e){u(e.target.files[0])}})]}),Object(r.jsxs)("label",{className:_t.a.FormBlock,children:["Image file",Object(r.jsx)("input",{type:"file",name:"imageFile",onChange:function(e){b(e.target.files[0])}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{className:_t.a.FormBlock,children:["Track name",Object(r.jsx)("input",{type:"text",name:"trackName",placeholder:"Track name",value:x,onChange:function(e){h(e.target.value)}})]}),Object(r.jsxs)("label",{className:_t.a.FormBlock,children:["Artist name",Object(r.jsx)("input",{type:"text",name:"artistName",placeholder:"Artist name",value:O,onChange:function(e){y(e.target.value)}})]}),Object(r.jsxs)("label",{className:_t.a.FormBlock,children:["Album name",Object(r.jsx)("input",{type:"text",name:"albumName",placeholder:"Album name",value:w,onChange:function(e){C(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:_t.a.FormBlock,children:Object(r.jsx)("button",{type:"submit",children:"Submit"})})]})},It=n(13),Mt=n.n(It);var Bt=Object(Ne.b)((function(e){return{stream:e.stream,lastUpQueues:e.lastUpQueues,nextUpQueues:e.nextUpQueues}}))((function(e){var t,n,c,u=e.stream,s=null===u||void 0===u||null===(t=u.nowPlaying)||void 0===t?void 0:t.track,i=e.lastUpQueues,p=i[i.length-1],b=e.nextUpQueues,j=b.length?b[0].children.length?b[0].children[0]:b[0]:void 0,f=Object(a.useState)(0),x=Object(d.a)(f,2),h=(x[0],x[1]),O=function(){var t=Object(l.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return n=t.sent,t.next=5,v();case 5:return r=t.sent,t.next=8,e.dispatch(n.redux);case 8:return t.next=10,e.dispatch(r.redux);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prevTrack(),t.next=3,O();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.nextTrack();case 2:return t.next=4,O();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return 1===(null===u||void 0===u||null===(n=u.nowPlaying)||void 0===n?void 0:n.index)||p||window.location.reload(),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:Mt.a.Div,children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Last..."})}),Object(r.jsx)("p",{children:null===p||void 0===p||null===(c=p.track)||void 0===c?void 0:c.name})]}),Object(r.jsxs)("div",{className:Mt.a.Div,children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Now playing..."})}),((null===u||void 0===u?void 0:u.isPlaying)||(null===u||void 0===u?void 0:u.isPaused))&&Object(r.jsx)("p",{children:null===s||void 0===s?void 0:s.name}),!(null===u||void 0===u?void 0:u.isPlaying)&&!(null===u||void 0===u?void 0:u.isPaused)&&Object(r.jsx)("p",{children:"Waiting..."})]}),Object(r.jsxs)("div",{className:Mt.a.Div,children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Next..."})}),Object(r.jsx)("p",{children:null===j||void 0===j?void 0:j.track.name})]}),Object(r.jsx)("div",{className:Mt.a.Div,children:((null===u||void 0===u?void 0:u.isPaused)?u.pausedAt-u.startedAt:(null===u||void 0===u?void 0:u.isPlaying)?Date.now()-u.startedAt:void 0)||"Waiting..."}),Object(r.jsxs)("div",{className:Mt.a.Div,children:[Object(r.jsx)("button",{className:Mt.a.Button,onClick:y,children:"Prev"}),(null===u||void 0===u?void 0:u.isPaused)&&Object(r.jsx)("button",{className:Mt.a.Button,onClick:e.play,children:"Play"}),(null===u||void 0===u?void 0:u.isPlaying)&&Object(r.jsx)("button",{className:Mt.a.Button,onClick:e.pause,children:"Pause"}),Object(r.jsx)("button",{className:Mt.a.Button,onClick:k,children:"Next"})]}),Object(r.jsxs)("div",{className:Mt.a.Div,children:[(null===u||void 0===u?void 0:u.isPlaying)&&Object(r.jsx)("button",{className:Mt.a.Button,onClick:function(){e.seek("backward")},children:"Backward"}),(null===u||void 0===u?void 0:u.isPlaying)&&Object(r.jsx)("button",{className:Mt.a.Button,onClick:function(){e.seek("forward")},children:"Forward"}),(null===u||void 0===u?void 0:u.isPlaying)&&Object(r.jsx)("button",{className:Mt.a.Button,onClick:function(){h((function(e){return e+1}))},children:"Progress"})]})]})}));var Rt=Object(Ne.b)((function(e){return{userSettings:e.userSettings}}))((function(e){return e.userSettings?Object(r.jsx)("a",{href:e.userSettings.spotify.authorizationUrl,children:"Connect Your Spotify Account"}):Object(r.jsx)(r.Fragment,{})}));var qt=Object(Ne.b)((function(e){return{stream:e.stream,playback:e.playback}}))((function(e){var t=e.stream,n=e.playback,c=Object(a.useState)(!1),u=Object(d.a)(c,2),s=u[0],i=u[1],p=Object(a.useState)({}),b=Object(d.a)(p,2),j=b[0],f=b[1],x=Object(a.useState)({}),h=Object(d.a)(x,2),m=h[0],v=h[1],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.startedAt;if(!t.nowPlaying)return[void 0,void 0];for(var n,r=Date.now()-e,a=0,c=0;;){var u=t.nowPlaying.playbackIntervals[a],s=u[1]-u[0],i=r-c;if(i<s){r=u[0]+i,n=u[1]-r;break}a+=1,c+=s}return a===t.nowPlaying.playbackIntervals.length-1&&(n=void 0),[r,n]},y=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"player/disable"});case 2:return t.next=4,w();case 4:return n=t.sent,v(n),t.next=8,e.dispatch({type:"playback/addToQueue"});case 8:i(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/plannedNextTrack",payload:{payload:m.redux}});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:return n=t.sent,t.next=5,e.dispatch(n.redux);case 5:return t.next=7,e.dispatch({type:"playback/start"});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:return n=t.sent,t.next=5,e.dispatch(n.redux);case 5:return t.next=7,e.dispatch({type:"playback/start"});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){var r=Object(l.a)(o.a.mark((function r(){var a,c,u,s,i,l,d,p,b,j=arguments;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("forward"!==(a=j.length>0&&void 0!==j[0]?j[0]:void 0)){r.next=10;break}return r.next=4,P();case 4:if(400!==r.sent.system.status){r.next=7;break}return r.abrupt("return");case 7:c=t.startedAt-1e4,r.next=18;break;case 10:if("backward"!==a){r.next=17;break}return r.next=13,S();case 13:u=new Date,s=u.getTime(),i=t.startedAt+1e4,c=s-i>0?i:s,r.next=18;break;case 17:c=t.startedAt;case 18:return r.next=20,e.dispatch({type:"stream/set",payload:{stream:Object(M.a)(Object(M.a)({},t),{},{startedAt:c})}});case 20:return l=O(c),d=l[0],p=l[1],n.spotifyApi.seek(d),r.next=24,e.dispatch({type:"playback/addToQueueReschedule"});case 24:p&&(b=setTimeout((function(){N()}),p),e.dispatch({type:"playback/nextSeekScheduled",payload:{nextSeekTimeoutId:b}}));case 25:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),Q=function(){var t=Object(l.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:return r=t.sent,t.next=5,e.dispatch(r.redux);case 5:return t.next=7,e.dispatch({type:"playback/addToQueueReschedule"});case 7:n.spotifyApi.pause(),clearTimeout(j);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(l.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U();case 2:return r=t.sent,t.next=5,e.dispatch(r.redux);case 5:if(n.isPlaying){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.dispatch({type:"playback/addToQueueReschedule"});case 9:n.spotifyApi.play();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(t.isPlaying&&n.isPlaying&&!n.addToQueueTimeoutId&&(null===t||void 0===t?void 0:t.nowPlaying)){var r=Date.now()-t.startedAt,a=t.nowPlaying.totalDurationMilliseconds-r,c=setTimeout((function(){y()}),a-5e3);e.dispatch({type:"playback/addToQueueScheduled",payload:{addToQueueTimeoutId:c}});var u=O()[1];if(u){var s=setTimeout((function(){N()}),u);e.dispatch({type:"playback/nextSeekScheduled",payload:{nextSeekTimeoutId:s}})}}}),[n]),Object(a.useEffect)((function(){if(s){i(!1);var e=Date.now()-t.startedAt,n=t.nowPlaying.totalDurationMilliseconds-e,r=setTimeout((function(){k()}),n);clearTimeout(j),f(r)}}),[s]),t.isPlaying&&!n.isPlaying&&n.isReady&&function(){if(t.nowPlaying.track){e.dispatch({type:"playback/started"});var r=O()[0];n.spotifyApi.play({uris:[t.nowPlaying.track.externalId],position_ms:r})}}(),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(Qe.c,{children:[Object(r.jsx)(Qe.a,{path:"/settings",children:Object(r.jsx)(Rt,{})}),Object(r.jsx)(Qe.a,{path:"/chat",children:Object(r.jsx)(ct,{})}),Object(r.jsx)(Qe.a,{path:"/player",children:Object(r.jsx)(Bt,{nextTrack:_,prevTrack:g,seek:N,pause:Q,play:I})}),Object(r.jsx)(Qe.a,{path:"/queue",children:Object(r.jsx)(kt,{})}),Object(r.jsx)(Qe.a,{path:"/search",children:Object(r.jsx)(St,{})}),Object(r.jsx)(Qe.a,{path:"/upload",children:Object(r.jsx)(Qt,{})})]})})})),Ft=n(149);var At=function(){var e=Object(a.useState)("initial"),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,r,a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(e.sent){e.next=6;break}return c("unauthenticated"),e.abrupt("return");case 6:return c("authenticated"),e.next=9,g();case 9:return t=e.sent,e.next=12,Ue.dispatch(t.redux);case 12:return e.next=14,_();case 14:return t=e.sent,e.next=17,Ue.dispatch(t.redux);case 17:return e.next=19,m();case 19:return n=e.sent,e.next=22,Ue.dispatch(n.redux);case 22:return e.next=24,v();case 24:return r=e.sent,e.next=27,Ue.dispatch(r.redux);case 27:return e.next=29,Q();case 29:return a=e.sent,e.next=32,Ue.dispatch({type:"user/get-settings",userSettings:a.data});case 32:return(u=new Ft).setAccessToken(a.data.spotify.accessToken),e.next=36,Ue.dispatch({type:"playback/spotify",payload:{spotifyApi:u}});case 36:c("ready");case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),"initial"===n?Object(r.jsx)(Te.a,{children:Object(r.jsx)(Ne.a,{store:Ue,children:Object(r.jsx)(r.Fragment,{})})}):"unauthenticated"===n?Object(r.jsx)(Te.a,{children:Object(r.jsx)(Ne.a,{store:Ue,children:Object(r.jsx)("div",{className:"app-main-container",children:Object(r.jsx)("div",{className:"app-main",children:Object(r.jsx)(_e,{})})})})}):"authenticated"===n?Object(r.jsx)(Te.a,{children:Object(r.jsx)(Ne.a,{store:Ue,children:"Loading..."})}):Object(r.jsx)(Te.a,{basename:"",children:Object(r.jsxs)(Ne.a,{store:Ue,children:[Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(Te.b,{to:"/settings",children:"Settings"})}),Object(r.jsx)("li",{children:Object(r.jsx)(Te.b,{to:"/chat",children:"Chat"})}),Object(r.jsx)("li",{children:Object(r.jsx)(Te.b,{to:"/player",children:"Player"})}),Object(r.jsx)("li",{children:Object(r.jsx)(Te.b,{to:"/queue",children:"Queue"})}),Object(r.jsx)("li",{children:Object(r.jsx)(Te.b,{to:"/search",children:"Search"})}),Object(r.jsx)("li",{children:Object(r.jsx)(Te.b,{to:"/upload",children:"Upload"})})]})}),Object(r.jsx)("div",{className:"app-main-container",children:Object(r.jsx)("div",{className:"app-main",children:Object(r.jsx)(qt,{})})})]})})},Dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),r(e),a(e),c(e),u(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(At,{})}),document.getElementById("root")),Dt()},19:function(e,t,n){e.exports={Upload:"Upload_Upload__tMDig",FormBlock:"Upload_FormBlock__2ls6S"}},23:function(e,t,n){e.exports={QueueCollection:"QueueCollection_QueueCollection__3PH8C",Item:"QueueCollection_Item__3Kg1p",Button:"QueueCollection_Button__1j08c",Children:"QueueCollection_Children__U1cJx"}},27:function(e,t,n){e.exports={Login:"Login_Login__1ujut",FormBlock:"Login_FormBlock__S_rix"}},29:function(e,t,n){e.exports={Search:"Search_Search__2SQmI",FormBlock:"Search_FormBlock__3ZZZJ"}},32:function(e,t,n){e.exports={QueueTrack:"QueueTrack_QueueTrack__14e2x",Button:"QueueTrack_Button__cfD-Y"}},48:function(e,t,n){e.exports={Chat:"Chat_Chat__3NjUX",ChatItem:"Chat_ChatItem__9P8wv",ChatBar:"Chat_ChatBar__1jd0C"}},64:function(e,t,n){e.exports={NotableText:"NotableText_NotableText__1_8Yx",Notated:"NotableText_Notated__1OpEa"}},66:function(e,t,n){e.exports={TextComment:"TextComment_TextComment__15QHu",Notated:"TextComment_Notated__24bZz"}},67:function(e,t,n){e.exports={VoiceRecording:"VoiceRecording_VoiceRecording__10J4X"}},68:function(e,t,n){e.exports={Queue:"Queue_Queue__YTCBa"}},74:function(e,t,n){},76:function(e,t,n){}},[[150,1,2]]]);
//# sourceMappingURL=main.f3338fe1.chunk.js.map