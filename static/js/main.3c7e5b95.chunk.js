(this["webpackJsonpjukebox-radio"]=this["webpackJsonpjukebox-radio"]||[]).push([[0],{10:function(e,t,a){e.exports={WelcomeAppContainer:"WelcomeApp_WelcomeAppContainer__1gAbO",Logo:"WelcomeApp_Logo__1NVW9",WelcomeHeader:"WelcomeApp_WelcomeHeader__2KYrX",PlaybackOptionContainer:"WelcomeApp_PlaybackOptionContainer__3gjJc",PlaybackOption:"WelcomeApp_PlaybackOption__msEeM",PlaybackOptionLogo:"WelcomeApp_PlaybackOptionLogo__3PXq3",PlaybackOptionService:"WelcomeApp_PlaybackOptionService__1P9Ul",PlaybackOptionDescription:"WelcomeApp_PlaybackOptionDescription__c6E_g",Modal:"WelcomeApp_Modal__25kAC",ModalOverlay:"WelcomeApp_ModalOverlay__1uDRv"}},105:function(e,t,a){},107:function(e,t,a){},18:function(e,t,a){e.exports={LoginContainer:"Login_LoginContainer__3eIQR",Logo:"Login_Logo__B0Tmi",LoginHeader:"Login_LoginHeader__3gqy1",FormBlock:"Login_FormBlock__S_rix",FormBlockInline:"Login_FormBlockInline__10vy2",Checkbox:"Login_Checkbox__z2SaG",Submit:"Login_Submit__2KJUu",ForgotPassword:"Login_ForgotPassword__9hZWd"}},19:function(e,t,a){e.exports={SearchApp:"SearchApp_SearchApp__Mfcqz",SearchBarContainer:"SearchApp_SearchBarContainer__2dvew",SearchBarIcon:"SearchApp_SearchBarIcon__24xCM",SearchBar:"SearchApp_SearchBar__CS1zo",Upload:"SearchApp_Upload__3mgyx",FormBlock:"SearchApp_FormBlock__1myUf",ServiceCheckboxContainer:"SearchApp_ServiceCheckboxContainer__2AWhG",SearchResultsContainer:"SearchApp_SearchResultsContainer__3SEWt",SearchResults:"SearchApp_SearchResults__p1J6y"}},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),s=a.n(r),c=a(28),i=a.n(c),o=(a(105),a(3)),u=a.n(o),l=a(4),d=a(5),p=(a(107),"https://prod.jukeboxrad.io"),b="GET",j="POST";function v(){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(u.a.mark((function e(){var t,a,n,r,s,c,i,o,l,b,j,v,h,f,x,k,O,m,y,g,C,w,_,M=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=M.length>0&&void 0!==M[0]?M[0]:"",a=M.length>1&&void 0!==M[1]?M[1]:"",n=M.length>2&&void 0!==M[2]?M[2]:{},a=p+a,"GET"===t){e.next=16;break}for(s=new FormData,c=0,i=Object.entries(n);c<i.length;c++)o=Object(d.a)(i[c],2),l=o[0],b=o[1],s.append(l,b);return j={headers:{}},(v=localStorage.getItem("accessToken"))&&(j.headers.Authorization="Bearer ".concat(v)),h=new Request(a,j),e.next=13,fetch(h,{method:t,mode:"cors",body:s});case 13:r=e.sent,e.next=26;break;case 16:for(f=new URLSearchParams,x=0,k=Object.entries(n);x<k.length;x++)O=Object(d.a)(k[x],2),m=O[0],y=O[1],f.set(m,y);return g=a+"/?"+f.toString(),C={headers:{"Content-Type":"application/json"}},(w=localStorage.getItem("accessToken"))&&(C.headers.Authorization="Bearer ".concat(w)),_=new Request(g,C),e.next=25,fetch(_,{method:t,mode:"cors"});case 25:r=e.sent;case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,r){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/comments/text-comment/create/",{text:t,format:a,trackUuid:n,textCommentTimestamp:r});case 2:return s=e.sent,e.next=5,s.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(b,"/comments/text-comment/list",{trackUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(b,"/comments/voice-recording/list",{trackUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/auth/obtain-tokens/",{username:t,password:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/stream/initialize/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accessToken"),e.next=3,v(j,"/auth/verify-token/",{token:t});case 3:if(200===(a=e.sent).status){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(b,"/streams/stream/get");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(b,"/music/track/get-files",{trackUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/stream/next-track/",{nowPlayingTotalDurationMilliseconds:t,isPlanned:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/stream/pause-track/",{nowPlayingTotalDurationMilliseconds:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/stream/play-track/",{startedAt:t,nowPlayingTotalDurationMilliseconds:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/stream/prev-track/",{nowPlayingTotalDurationMilliseconds:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/stream/scan/",{startedAt:t,nowPlayingTotalDurationMilliseconds:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(b,"/users/user/get-settings");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/users/user/update-settings/",{field:t,value:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(b,"/streams/queue/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/queue/delete/",{queueUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e,t){if(!e)return[void 0,void 0];for(var a,n=F(e),r="all",s=0,c=0;;){var i=e.playbackIntervals[s],o=i.endPosition-i.startPosition,u=n-c;if(u<o){n=i.startPosition+u,r=i.purpose,a=i.endPosition-n;break}s+=1,c+=o}return s===e.playbackIntervals.length-1&&(a=void 0),[n,a,r]},T=function(e,t){if(e){for(var a=0,n=0,r=0;;){var s=e.playbackIntervals[n],c=s.endPosition-s.startPosition;if(t>=s.startPosition&&t<s.endPosition){a=t-s.startPosition+r;break}n+=1,r+=c}return a}},F=function(e){return"paused"===e.status?e.statusAt-e.startedAt:"played"===e.status?Date.now()-e.startedAt:void 0},I=function(e){return e>.6?.6:e>.3?.3:e>0?0:1},Q="apple_music",D="spotify",q="youtube",R="audius",W="jukebox_radio",H=a(2),E=a(55),V=a(11),Z="hide",z=function(e){var t=e.stream,a=e.queueMap[t.nowPlayingUuid],n=J(a),r=Object(d.a)(n,3),s=r[0],c=r[1],i=r[2];if(!s)return[];var o=Object(V.a)(e.textComments),u=Object(V.a)(e.voiceRecordings),l=[].concat(Object(V.a)(o),Object(V.a)(u));return l=(l=(l=l.map((function(e){var t=e.timestampMilliseconds>i&&e.timestampMilliseconds<=c,a=e.timestampMilliseconds>c&&e.timestampMilliseconds<=s;return e.renderStatus=t?"history":a?"display":Z,Object(H.a)({},e)}))).filter((function(e){return e.renderStatus!==Z}))).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}))},J=function(e){if(!(null===e||void 0===e?void 0:e.track))return[void 0,void 0,void 0];for(var t=e.startedAt,a="played"===e.status?Date.now()-t:e.statusAt-t,n=0,r=0,s=0,c=0;;){var i=e.playbackIntervals[n],o=i.endPosition-i.startPosition,u=void 0;if((u=a-6e4-c)>=0&&u<o&&(r=i.startPosition+u),(u=a-6e4-6e4-c)>=0&&u<o&&(s=i.startPosition+u),(u=a-c)<o){a=i.startPosition+u;break}n+=1,c+=o}return[a,r,s]},G=function(e){return Object(H.a)(Object(H.a)({},e),{},{feed:z(e)})},K=function(e,t){var a=Object(H.a)({},e.markerMap),n=t.marker;return void 0!==a[n.trackUuid]&&0!==a[n.trackUuid].length||(a[n.trackUuid]={}),a[n.trackUuid][n.uuid]=n,Object(H.a)(Object(H.a)({},e),{},{markerMap:a})},Y=function(e,t){var a=Object(H.a)({},e.markerMap),n=t.marker,r=Object(H.a)({},a[n.trackUuid]);return delete r[n.uuid],a[n.trackUuid]=r,Object(H.a)(Object(H.a)({},e),{},{markerMap:a})},X=a(15),$=function(e,t){return e.map((function(e){return t[e]}))},ee=function e(t,a){if(!t)return null;var n=a[t];return n.childUuids.length?e(n.childUuids[0],a):n},te=function(e,t){var a=function(e){return e.durationMilliseconds},n=t?F(t):0,r=0;return n&&(r=t.durationMilliseconds-n),e.length?1===e.length?r+a(e[0]):r+e.reduce((function(e,t){return"number"!==typeof e&&(e=a(e)),e+a(t)})):r+0},ae=function(e){var t=e;function a(e,t){return("00"+e).slice(-(t=t||2))}var n=(t=(t-t%1e3)/1e3)%60,r=(t=(t-n)/60)%60;return e>=36e5?a((t-r)/60)+":"+a(r)+":"+a(n):a(r)+":"+a(n)},ne=function(e,t){var a,n=Object(H.a)({},e),r=Object(X.a)(t);try{for(r.s();!(a=r.n()).done;){var s=a.value;n=re(n,s)}}catch(c){r.e(c)}finally{r.f()}return n},re=function(e,t){var a,n,r,s=Object(H.a)({},t),c=Object(H.a)({},e),i=Object(H.a)({},e.queueMap);if(null===(a=s.children)||void 0===a?void 0:a.length){var o;(null===(o=s.collection)||void 0===o?void 0:o.service)===Q&&(s.collection.imageUrl=s.collection.imageUrl.replace("{w}","300"),s.collection.imageUrl=s.collection.imageUrl.replace("{h}","300"));var u=ne(c,s.children);s.childUuids=s.children.map((function(e){return e.uuid})),delete s.children;var l=Object(H.a)({},u.queueMap);return l[s.uuid]=s,u.queueMap=l,u}delete s.children,s.childUuids=[],(null===(n=s.track)||void 0===n?void 0:n.service)===Q&&(s.track.imageUrl=s.track.imageUrl.replace("{w}","300"),s.track.imageUrl=s.track.imageUrl.replace("{h}","300"));var d,p=s.intervals,b=null===(r=s.track)||void 0===r?void 0:r.durationMilliseconds,j=Object(H.a)({},e.markerMap),v=Object(X.a)(t.markers);try{for(v.s();!(d=v.n()).done;){var h=d.value;void 0!==j[h.trackUuid]&&0!==j[h.trackUuid].length||(j[h.trackUuid]={}),j[h.trackUuid][h.uuid]=h}}catch(P){v.e(P)}finally{v.f()}if(c.markerMap=j,!p.length)return s.playbackIntervals=[{startPosition:0,endPosition:b,purpose:"all",uuid:null}],s.allIntervals=[{startPosition:0,endPosition:b,purpose:"all",uuid:null}],i[s.uuid]=s,c.queueMap=i,c;var f,x,k=[],O=t.track.uuid,m=Object(X.a)(p);try{for(m.s();!(x=m.n()).done;){var y,g,C=x.value,w=null===(y=j[O][C.lowerBoundUuid])||void 0===y?void 0:y.timestampMilliseconds,_=null===(g=j[O][C.upperBoundUuid])||void 0===g?void 0:g.timestampMilliseconds;if("muted"!==C.purpose)C.lowerBound&&0!==w&&k.push({startPosition:0,endPosition:w,purpose:"all",uuid:void 0}),k.push({startPosition:w||0,endPosition:_||b,purpose:C.purpose,uuid:C.uuid}),f=_;else{if(!C.lowerBoundUuid){k.push({startPosition:0,endPosition:_,purpose:"muted",uuid:C.uuid}),f=_;continue}if(k.length||k.push({startPosition:0,endPosition:w,purpose:"all",uuid:void 0}),!C.upperBoundUuid){f&&f!==w&&k.push({startPosition:f,endPosition:w,purpose:"all",uuid:void 0}),k.push({startPosition:w||0,endPosition:b,purpose:"muted",uuid:C.uuid}),f=void 0;continue}f&&f!==w&&k.push({startPosition:f,endPosition:w,purpose:"all",uuid:void 0}),k.push({startPosition:w,endPosition:_,purpose:C.purpose,uuid:C.uuid}),f=_}}}catch(P){m.e(P)}finally{m.f()}f&&f!==b&&k.push({startPosition:f,endPosition:b,purpose:"all",uuid:void 0});var M=k.filter((function(e){return"muted"!==e.purpose}));return s.playbackIntervals=M,s.allIntervals=k,i[s.uuid]=s,c.queueMap=i,c},se=function(e,t){var a=Object(H.a)({},e);a=ne(a,t.lastUpQueues),a=ne(a,t.nextUpQueues);var n=t.lastUpQueues.map((function(e){return e.uuid})),r=t.nextUpQueues.map((function(e){return e.uuid})),s=a._lastPlayed;s&&n.push(s.uuid);var c=a.stream,i=a.queueMap[c.nowPlayingUuid];return"played"!==(null===i||void 0===i?void 0:i.status)&&"paused"!==(null===i||void 0===i?void 0:i.status)&&i&&(n.push(c.nowPlayingUuid),c=Object(H.a)(Object(H.a)({},c),{},{nowPlayingUuid:void 0})),Object(H.a)(Object(H.a)({},a),{},{stream:c,lastUpQueueUuids:n,nextUpQueueUuids:r,queueMap:a.queueMap})},ce=function(e,t){return ne(e,t.queues)},ie=function(e,t){var a=e.nextUpQueueUuids.filter((function(e){return e!==t.queueUuid}));return Object(H.a)(Object(H.a)({},e),{},{nextUpQueueUuids:a})},oe=function(e,t){var a=Object(H.a)({},e.queueMap),n=Object(H.a)({},e.queueMap[t.parentUuid]);return n.childUuids=n.childUuids.filter((function(e){return e!==t.queueUuid})),a[n.uuid]=n,Object(H.a)(Object(H.a)({},e),{},{queueMap:a})},ue=function(e,t){var a,n=le(e,t),r=Object(H.a)({},n.stream),s=n.queueMap[r.nowPlayingUuid];if(!(null===s||void 0===s||null===(a=s.track)||void 0===a?void 0:a.uuid))return n;var c=Object(H.a)({},e.markerMap);void 0!==c[s.track.uuid]&&0!==c[s.track.uuid].length||(c[s.track.uuid]={});var i,o=Object(X.a)(s.markers);try{for(o.s();!(i=o.n()).done;){var u=i.value;c[s.track.uuid][u.uuid]=u}}catch(l){o.e(l)}finally{o.f()}return n.markerMap=c,Object(H.a)(Object(H.a)({},n),{},{stream:r})},le=function(e,t){var a=t.stream,n=a.nowPlaying,r=Object(H.a)({},e);n&&(r=ne(r,[n])),r.stream=a;var s="played"===a.nowPlaying.status?Date.now()-a.nowPlaying.startedAt:a.nowPlaying.statusAt-a.nowPlaying.startedAt;if(("played"!==a.nowPlaying.status&&"paused"!==a.nowPlaying.status&&a.nowPlaying||s&&s>=a.nowPlaying.durationMilliseconds)&&(r.lastUp=a.nowPlaying,r._lastPlayed=a.nowPlaying,r.stream.nowPlaying=void 0),r.stream.nowPlaying){var c=r.stream.nowPlaying.uuid;delete r.stream.nowPlaying,r.stream.nowPlayingUuid=c}else delete r.stream.nowPlaying,r.stream.nowPlayingUuid=void 0;return r},de=function(e,t){var a=Object(H.a)({},e.queueMap),n=Object(H.a)(Object(H.a)({},a[e.stream.nowPlayingUuid]),{},{startedAt:t.startedAt,statusAt:t.statusAt,status:t.status});return a[n.uuid]=n,Object(H.a)(Object(H.a)({},e),{},{queueMap:a})},pe=function(e,t){var a=Object(H.a)({},e.queueMap),n=Object(H.a)(Object(H.a)({},a[e.stream.nowPlayingUuid]),{},{statusAt:t.statusAt,status:t.status});return a[n.uuid]=n,Object(H.a)(Object(H.a)({},e),{},{queueMap:a})},be=function(e,t){var a=Object(V.a)(e.lastUpQueueUuids),n=Object(V.a)(e.nextUpQueueUuids),r=e.stream.nowPlayingUuid,s=Object(H.a)({},e.queueMap),c=n[0],i=ee(c,s),o=Object(H.a)({},s[r]);if(i)if(i.uuid!==c){var u;u=Object(H.a)({},s[c]),o.parentUuid!==u.uuid&&(n.unshift(o.parentUuid),u=Object(H.a)({},s[o.parentUuid])),u.childUuids.unshift(r),s[u.uuid]=u}else n.unshift(r);else o.parentUuid?(n.unshift(o.parentUuid),Object(H.a)({},s[o.parentUuid]).childUuids.unshift(r)):n.unshift(r);var l=a.pop();return Object(H.a)(Object(H.a)({},e),{},{stream:Object(H.a)(Object(H.a)({},e.stream),{},{nowPlayingUuid:l}),playback:Object(H.a)(Object(H.a)({},e.playback),{},{nowPlayingUuid:l}),lastUpQueueUuids:a,nextUpQueueUuids:n,queueMap:s,_lastPlayed:void 0})},je=function(e,t){var a=Object(V.a)(e.lastUpQueueUuids),n=Object(V.a)(e.nextUpQueueUuids),r=e.stream.nowPlayingUuid,s=e.queueMap;a.push(r);var c,i=n.shift(),o=ee(i,s);i!==o.uuid&&((c=Object(H.a)({},e.queueMap[i])).childUuids.shift(),s[c.uuid]=c,c.childUuids.length>0&&n.unshift(i));return Object(H.a)(Object(H.a)({},e),{},{stream:Object(H.a)(Object(H.a)({},e.stream),{},{nowPlayingUuid:o.uuid}),playback:Object(H.a)(Object(H.a)({},e.playback),{},{nowPlayingUuid:o.uuid}),lastUpQueueUuids:a,nextUpQueueUuids:n,queueMap:s,_lastPlayed:void 0})},ve=function(e,t){return t.stream?Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{nowPlayingUuid:t.stream.nowPlayingUuid,streamUuid:t.stream.uuid})}):Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{nowPlayingUuid:t.queue.uuid,streamUuid:void 0})})},he=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{appleMusic:{api:t.appleMusicApi},isReady:!0})})},fe=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{spotifyApi:t.spotifyApi,isReady:!0})})},xe=function(e){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{loaded:Object(H.a)(Object(H.a)({},e.playback.loaded),{},{spotify:!0})})})},ke=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{youTubeApi:t.youTubeApi})})},Oe=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{youTubeAutoplay:t.autoplay?1:0})})},me=function(e){var t=ee(e.nextUpQueueUuids[0],e.queueMap);if(!t)return Object(H.a)({},e);var a=Object(H.a)({},e.playback),n=e.queueMap[e.stream.nowPlayingUuid],r=n.track.service===Q&&t.track.service===Q&&0===t.playbackIntervals[0].startPosition,s=n.track.service===D&&t.track.service===D&&0===t.playbackIntervals[0].startPosition;if(r){a.queuedUp=!0;var c=n.playbackIntervals;c[c.length-1].endPosition===n.track.durationMilliseconds&&(a.noopNextTrack=!0)}if(s){a.queuedUp=!0;var i=n.playbackIntervals;i[i.length-1].endPosition===n.track.durationMilliseconds&&(a.noopNextTrack=!0)}return Object(H.a)(Object(H.a)({},e),{},{playback:a})},ye=function(e,t){var a=e,n={},r=(a=function(e){var t=ee(e.nextUpQueueUuids[0],e.queueMap),a=e.playback.queuedUp,n=e.playback.noopNextTrack,r=e.playback.addToQueueTimeoutId,s=e.playback.nextSeekTimeoutId,c=Object(H.a)(Object(H.a)({},e.playback),{},{queuedUp:!1,noopNextTrack:!1});return!t||n||a?(c.addToQueueTimeoutId=void 0,Object(H.a)(Object(H.a)({},e),{},{playback:c})):(clearTimeout(r),clearTimeout(s),c.isPlaying=!1,c.addToQueueTimeoutId=void 0,c.nextSeekTimeoutId=void 0,Object(H.a)(Object(H.a)({},e),{},{playback:c}))}(a)).queueMap[a.stream.nowPlayingUuid];return n.startedAt=r.startedAt+r.durationMilliseconds,n.status="played",n.statusAt=Date.now(),a=je(a)},ge=function(e){var t=e.playback.addToQueueTimeoutId,a=e.playback.nextSeekTimeoutId,n=Object(H.a)(Object(H.a)({},e.playback),{},{queuedUp:!1,noopNextTrack:!1,isPlaying:!1,addToQueueTimeoutId:void 0});return clearTimeout(t),clearTimeout(a),Object(H.a)(Object(H.a)({},e),{},{playback:n})},Ce=function(e){var t=Object(H.a)(Object(H.a)({},e.playback),{},{isPlaying:!0});return Object(H.a)(Object(H.a)({},e),{},{playback:t})},we=function(e){var t=e.playback.addToQueueTimeoutId,a=e.playback.nextSeekTimeoutId,n=Object(H.a)(Object(H.a)({},e.playback),{},{addToQueueTimeoutId:void 0,nextSeekTimeoutId:void 0});return clearTimeout(t),clearTimeout(a),Object(H.a)(Object(H.a)({},e),{},{playback:n})},_e=function(e,t){var a=Object(H.a)(Object(H.a)({},e.playback),{},{addToQueueTimeoutId:t.addToQueueTimeoutId});return Object(H.a)(Object(H.a)({},e),{},{playback:a})},Me=function(e,t){var a=e.playback.nextSeekTimeoutId,n=Object(H.a)(Object(H.a)({},e.playback),{},{nextSeekTimeoutId:t.nextSeekTimeoutId});return clearTimeout(a),Object(H.a)(Object(H.a)({},e),{},{playback:n})},Pe=function(e){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{controlsEnabled:!1})})},Se=function(e){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{controlsEnabled:!0})})},Ae=function(e,t){var a,n=Object(H.a)({},e.playback),r=Object(H.a)({},e.playback.files),s={all:new Audio(t.track.audioUrl)},c=Object(X.a)(t.track.stems);try{for(c.s();!(a=c.n()).done;){var i=a.value;s[i.instrument]=new Audio(i.audioUrl)}}catch(o){c.e(o)}finally{c.f()}return r[t.track.uuid]=s,Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},n),{},{files:r})})},Ne=function(e,t){var a=Object(H.a)({},e.playback),n=Object(H.a)({},e.playback.files),r=new Audio("https://discoveryprovider.audius5.prod-us-west-2.staked.cloud/v1/tracks/".concat(t.id,"/stream?app_name=Jukebox Radio"));return n[t.trackUuid]=r,Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},a),{},{files:n})})},Le=function(e){var t=Object(H.a)({},e.playback.volumeLevel),a=t.audio;return t.audio=I(a),Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{volumeLevel:t})})},Ue=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{nowPlaying:t.queue})})},Be=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{playback:Object(H.a)(Object(H.a)({},e.playback),{},{nowPlaying:void 0,isPlaying:!1})})},Te=function(e,t){var a=t.textComments,n=Object(H.a)(Object(H.a)({},e),{},{textComments:a});return Object(H.a)(Object(H.a)({},n),{},{feed:z(n)})},Fe=function(e,t){var a=[].concat(Object(V.a)(e.textComments),[t.textComment]),n=Object(H.a)(Object(H.a)({},e),{},{textComments:a});return Object(H.a)(Object(H.a)({},n),{},{feed:z(n)})},Ie=function(e,t){var a=e.textComments.filter((function(e){return e.uuid!==t.textCommentUuid})),n=Object(H.a)(Object(H.a)({},e),{},{textComments:a});return Object(H.a)(Object(H.a)({},n),{},{feed:z(n)})},Qe=function(e,t){var a,n=t.textCommentModifications,r=n.modified,s=n.deleted,c=t.textCommentUuid,i=Object(V.a)(e.textComments),o=i.findIndex((function(e){return e.uuid===c})),u=i[o],l=Object(V.a)(u.modifications);if(-1!==(a=l.findIndex((function(e){return e.uuid===r.uuid})))?l[a]=r:(l.push(r),l=l.sort((function(e,t){return e.startPtr-t.startPtr}))),s)for(var d=function(e){var t=s[e];-1!==(a=l.findIndex((function(e){return e.uuid===s.uuid})))&&(l=l.filter((function(e){return e.uuid!==t.uuid})))},p=0;p<s.length;p++)d(p);return i[o].modifications=l,Object(H.a)(Object(H.a)({},e),{},{textComments:i})},De=function(e,t){var a=e.textComments.findIndex((function(e){return e.uuid===t.textCommentUuid})),n=Object(V.a)(e.textComments);return n[a].modifications=[],Object(H.a)(Object(H.a)({},e),{},{textComments:n})},qe=function(e,t){var a=t.voiceRecordings,n=Object(H.a)(Object(H.a)({},e),{},{voiceRecordings:a});return Object(H.a)(Object(H.a)({},n),{},{feed:z(n)})},Re=function(e,t){var a=[].concat(Object(V.a)(e.voiceRecordings),[t.voiceRecording]),n=Object(H.a)(Object(H.a)({},e),{},{voiceRecordings:a});return Object(H.a)(Object(H.a)({},n),{},{feed:z(n)})},We=function(e,t){var a=e.voiceRecordings.filter((function(e){return e.uuid!==t.voiceRecordingUuid})),n=Object(H.a)(Object(H.a)({},e),{},{voiceRecordings:a});return Object(H.a)(Object(H.a)({},n),{},{feed:z(n)})},He=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{userSettings:Object(H.a)(Object(H.a)({},e.userSettings),t)})},Ee=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{userSettings:t.userSettings})},Ve=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{sideBar:Object(H.a)(Object(H.a)({},e.sideBar),{},{tab:t.tab})})},Ze={nextUpQueueUuids:[],lastUpQueueUuids:[],_lastPlayed:void 0,textComments:[],voiceRecordings:[],feed:[],userSettings:void 0,markerMap:{},queueMap:{},playback:{controlsEnabled:!1,spotifyApi:void 0,youTubeApi:void 0,youTubeAutoplay:0,appleMusic:{},isPlaying:!1,queuedUp:!1,noopNextTrack:!1,addToQueueTimeoutId:void 0,isReady:!1,files:{},volumeLevel:{audio:1,voice:1},loaded:{spotify:!1,youTube:!1,appleMusic:!0},nowPlaying:void 0,nowPlayingUuid:void 0,streamUuid:void 0},search:{serviceSpotify:!1,serviceYouTube:!1,serviceAppleMusic:!1,serviceJukeboxRadio:!1,serviceAudius:!1},sideBar:{tab:null}},ze=function(e,t){return Object(H.a)(Object(H.a)({},e),{},{search:Object(H.a)({serviceSpotify:!1,serviceYouTube:!1,serviceAppleMusic:!1,serviceJukeboxRadio:!1,serviceAudius:!1},t)})},Je=function(e,t){var a=Object(H.a)(Object(H.a)({},e),{},{search:Object(H.a)({serviceSpotify:!1,serviceYouTube:!1,serviceAppleMusic:!1,serviceJukeboxRadio:!1,serviceAudius:!1},t)});return a.search[t.serviceName]=!0,a},Ge=Object(E.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"stream/set":return ue(e,t.payload);case"stream/play":return de(e,t.payload);case"stream/pause":return pe(e,t.payload);case"stream/prevTrack":return be(e,t.payload);case"stream/nextTrack":return je(e,t.payload);case"queue/listSet":return se(e,t.payload);case"queue/deleteNode":return ie(e,t);case"queue/deleteChildNode":return oe(e,t);case"queue/update":return ce(e,t.payload);case"textComment/listSet":return Te(e,t.payload);case"textComment/create":return Fe(e,t.payload);case"textComment/delete":return Ie(e,t.payload);case"textCommentModification/create":return Qe(e,t.payload);case"textComment/clearModifications":return De(e,t.payload);case"voiceRecording/create":return Re(e,t);case"voiceRecording/listSet":return qe(e,t.payload);case"voiceRecording/delete":return We(e,t);case"feed/update":return G(e);case"user/get-settings":return Ee(e,t);case"userSettings/update":return He(e,t.payload);case"marker/create":return K(e,t.payload);case"marker/delete":return Y(e,t.payload);case"playback/mount":return ve(e,t.payload);case"playback/unmount":return void t.payload;case"playback/disable":return Pe(e);case"playback/enable":return Se(e);case"playback/appleMusic":return he(e,t.payload);case"playback/spotify":return fe(e,t.payload);case"playback/spotifyLoaded":return xe(e);case"playback/youTube":return ke(e,t.payload);case"playback/youTubeTriggerAutoplay":return Oe(e,t.payload);case"playback/addToQueue":return me(e);case"playback/plannedNextTrack":return ye(e,t.payload);case"playback/start":return ge(e);case"playback/started":return Ce(e);case"playback/addToQueueReschedule":return we(e);case"playback/addToQueueScheduled":return _e(e,t.payload);case"playback/nextSeekScheduled":return Me(e,t.payload);case"playback/loadFiles":return Ae(e,t.payload);case"playback/loadAudius":return Ne(e,t.payload);case"playback/cycleVolumeLevelAudio":return Le(e);case"playback/modalOpen":return Ue(e,t.payload);case"playback/modalClose":return Be(e,t.payload);case"search/toggleServiceOff":return ze(e,t.payload);case"search/toggleService":return Je(e,t.payload);case"sideBar/selectTab":return Ve(e,t.payload);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0})),Ke=function(e,t){var a=B(t,t.startedAt),n=a[0],r=a[2],s=t.track.service;if(s===Q){var c=window.MusicKit.getInstance(),i=Ge.getState().playback.volumeLevel.audio;c.setQueue({song:t.track.externalId}).then((function(){n>=1e3&&(c.player.volume=0),c.player.play().then((function(){n<1e3||setTimeout((function(){var e=B(t,t.startedAt)[0];c.player.seekToTime(e/1e3).then((function(){c.player.volume=i}))}),500)}))}))}else if(s===D)e.spotifyApi.play({uris:[t.track.externalId],position_ms:n});else if(s===q)"number"===typeof e.youTubeApi.getPlayerState()?(e.youTubeApi.seekTo(Math.floor(n/1e3)),e.youTubeApi.playVideo()):Ge.dispatch({type:"playback/youTubeTriggerAutoplay",payload:{autoplay:!0}});else if(s===W){var o=t.track.uuid,u=e.files[o][r];n>0&&(u.currentTime=n/1e3),u.play()}else if(s===R){var l=t.track.uuid,d=e.files[l];n>0&&(d.currentTime=n/1e3),d.play()}},Ye=function(e,t){var a=t.track.service;if(a===Q)window.MusicKit.getInstance().player.pause();else if(a===D)e.spotifyApi.pause();else if(a===q)e.youTubeApi.pauseVideo();else if(a===W)for(var n=t.track.uuid,r=e.files[n],s=0,c=Object.entries(r);s<c.length;s++){var i=Object(d.a)(c[s],2),o=(i[0],i[1]);o.paused||o.pause()}else if(a===R){var u=t.track.uuid;e.files[u].pause()}},Xe=function(e,t){var a=t.track.service;if(a===Q)window.MusicKit.getInstance().player.play();else if(a===D)e.spotifyApi.play();else if(a===q)e.youTubeApi.playVideo();else if(a===W){var n=B(t,t.startedAt)[2],r=t.track.uuid;e.files[r][n].play()}else if(a===R){var s=t.track.uuid;e.files[s].play()}},$e=function(e,t,a){var n=B(t),r=n[0],s=n[2],c=t.track.service;if(c===Q)window.MusicKit.getInstance().player.seekToTime(r/1e3);else if(c===D)e.spotifyApi.seek(r);else if(c===q)console.log(Math.floor(r/1e3)),e.youTubeApi.seekTo(Math.floor(r/1e3));else if(c===W){for(var i=t.track.uuid,o=e.files[i],u=o[s],l=0,p=Object.entries(o);l<p.length;l++){var b=Object(d.a)(p[l],2),j=b[0],v=b[1];j!==s&&(v.paused||v.pause())}u.currentTime=r/1e3,u.play()}else if(c===R){var h=t.track.uuid,f=e.files[h];f.currentTime=r/1e3,f.play()}},et=function(e,t){var a=t.track.service;a===Q?window.MusicKit.getInstance().player.skipToNextItem():a===D&&e.spotifyApi.skipToNext()},tt=function(e,t,a){if(a){var n=t.track.service,r=a.track.service;if(r===Q){var s=window.MusicKit.getInstance();s.player.prepareToPlay(a.track.externalId),n===Q&&0===a.playbackIntervals[0].startPosition&&s.playNext({song:a.track.externalId})}n===D&&r===D&&0===a.playbackIntervals[0].startPosition&&e.spotifyApi.queue(a.track.externalId),r===W&&C(a.track.uuid).then((function(e){Ge.dispatch(e.redux)})),r===R&&Ge.dispatch({type:"playback/loadAudius",payload:{id:a.track.externalId,trackUuid:a.track.uuid}})}},at=a(13),nt=Object(n.jsxs)("svg",{width:"38",height:"38",viewBox:"0 0 213 213",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("rect",{width:"213",height:"213",fill:"#0047FF"}),Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.9999 172.354L65.9999 140.822C93.3189 140.822 115.465 118.675 115.465 91.3561L115.465 91.3535L147 91.3535L147 91.3544C147 136.089 110.735 172.354 66 172.354C66 172.354 65.9999 172.354 65.9999 172.354Z",fill:"white"}),Object(n.jsx)("circle",{cx:"130.924",cy:"56.7267",r:"16.0763",fill:"white"})]}),rt=Object(n.jsxs)("svg",{height:"24",viewBox:"0 0 131 213",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{"fill-rule":"evenodd","clip-Rule":"evenodd",d:"M-5.72619e-06 213C72.3493 213 131 154.349 131 82L80 82C80 126.183 44.1828 162 -3.49691e-06 162L-5.72619e-06 213Z",fill:"#0047FF"}),Object(n.jsx)("circle",{cx:"105",cy:"26",r:"26",fill:"#0047FF"})]}),st=Object(n.jsx)("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("rect",{x:"1",y:"1",width:"23",height:"23",rx:"5",stroke:"#0047FF",strokeWidth:"2"})}),ct=Object(n.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("rect",{x:"1",y:"1",width:"23",height:"23",rx:"5",stroke:"#0047FF",strokeWidth:"2"}),Object(n.jsx)("path",{d:"M19 8L10.75 17L7 12.9091",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),it=Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 168 168",children:Object(n.jsx)("path",{fill:"#1ED760",d:"m83.996 0.277c-46.249 0-83.743 37.493-83.743 83.742 0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l0.001-0.004zm38.404 120.78c-1.5 2.46-4.72 3.24-7.18 1.73-19.662-12.01-44.414-14.73-73.564-8.07-2.809 0.64-5.609-1.12-6.249-3.93-0.643-2.81 1.11-5.61 3.926-6.25 31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-0.903-8.148-4.35-1.04-3.453 0.907-7.093 4.354-8.143 30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-0.001zm0.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219-1.254-4.14 1.08-8.513 5.221-9.771 29.581-8.98 78.756-7.245 109.83 11.202 3.73 2.209 4.95 7.016 2.74 10.733-2.2 3.722-7.02 4.949-10.73 2.739z"})}),ot=Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 721",children:[Object(n.jsx)("path",{fill:"#FFF",d:"M407 493l276-143-276-144v287z"}),Object(n.jsx)("path",{opacity:.12,fill:"#420000",d:"M407 206l242 161.6 34-17.6-276-144z"}),Object(n.jsxs)("linearGradient",{id:"prefix__a",gradientUnits:"userSpaceOnUse",x1:512.5,y1:719.7,x2:512.5,y2:1.2,gradientTransform:"matrix(1 0 0 -1 0 721)",children:[Object(n.jsx)("stop",{offset:0,stopColor:"#e52d27"}),Object(n.jsx)("stop",{offset:1,stopColor:"#bf171d"})]}),Object(n.jsx)("path",{fill:"url(#prefix__a)",d:"M1013 156.3s-10-70.4-40.6-101.4C933.6 14.2 890 14 870.1 11.6 727.1 1.3 512.7 1.3 512.7 1.3h-.4s-214.4 0-357.4 10.3C135 14 91.4 14.2 52.6 54.9 22 85.9 12 156.3 12 156.3S1.8 238.9 1.8 321.6v77.5C1.8 481.8 12 564.4 12 564.4s10 70.4 40.6 101.4c38.9 40.7 89.9 39.4 112.6 43.7 81.7 7.8 347.3 10.3 347.3 10.3s214.6-.3 357.6-10.7c20-2.4 63.5-2.6 102.3-43.3 30.6-31 40.6-101.4 40.6-101.4s10.2-82.7 10.2-165.3v-77.5c0-82.7-10.2-165.3-10.2-165.3zM407 493V206l276 144-276 143z"})]}),ut=Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 73 73",children:[Object(n.jsxs)("linearGradient",{id:"prefix__a",gradientUnits:"userSpaceOnUse",x1:36,y1:2.286,x2:36,y2:72.455,gradientTransform:"matrix(1 0 0 -1 0 74.007)",children:[Object(n.jsx)("stop",{offset:0,stopColor:"#fa233b"}),Object(n.jsx)("stop",{offset:1,stopColor:"#fb5c74"})]}),Object(n.jsx)("path",{d:"M72 22.52v-2.58c0-.72-.01-1.45-.03-2.17-.04-1.58-.14-3.17-.42-4.73-.28-1.58-.75-3.06-1.48-4.5-.72-1.41-1.66-2.71-2.78-3.83s-2.42-2.06-3.83-2.78A15.9 15.9 0 0058.97.45C57.41.17 55.82.08 54.24.03L52.06 0H19.94c-.72 0-1.45.01-2.17.03-1.58.04-3.17.14-4.73.42-1.58.29-3.06.75-4.49 1.49-1.42.72-2.71 1.66-3.83 2.78S2.65 7.13 1.93 8.55C1.2 9.99.73 11.46.45 13.05.17 14.61.08 16.2.03 17.78L0 19.94v32.11c0 .72.01 1.45.03 2.17.04 1.58.14 3.17.42 4.73.28 1.58.75 3.06 1.48 4.5.72 1.41 1.66 2.71 2.78 3.83 1.12 1.12 2.42 2.06 3.83 2.78a15.9 15.9 0 004.49 1.48c1.56.28 3.15.37 4.73.42.72.02 1.45.03 2.17.03.86.01 1.72 0 2.58 0h29.53c.72 0 1.45-.01 2.17-.03 1.58-.04 3.17-.14 4.73-.42 1.58-.28 3.06-.75 4.49-1.48 1.41-.72 2.71-1.66 3.83-2.78 1.12-1.12 2.06-2.41 2.78-3.83.73-1.44 1.2-2.91 1.48-4.5.28-1.56.37-3.15.42-4.73.02-.72.03-1.45.03-2.17.01-.86 0-1.72 0-2.58L72 22.52z",fillRule:"evenodd",clipRule:"evenodd",fill:"url(#prefix__a)"}),Object(n.jsx)("g",{children:Object(n.jsx)("path",{d:"M50.9 11c-.17.02-1.72.29-1.91.33l-21.4 4.32h-.01c-.56.12-1 .32-1.33.6-.41.34-.63.83-.72 1.39-.02.12-.05.36-.05.72v26.78c0 .63-.05 1.23-.47 1.75s-.95.67-1.56.8c-.47.09-.93.19-1.4.28-1.77.36-2.92.6-3.96 1-1 .39-1.74.88-2.34 1.5-1.18 1.23-1.66 2.91-1.49 4.48.14 1.34.74 2.62 1.78 3.56.7.64 1.57 1.13 2.6 1.33 1.07.21 2.2.14 3.86-.2.88-.18 1.71-.46 2.5-.92a6.23 6.23 0 001.97-1.82c.52-.75.86-1.58 1.05-2.47.19-.91.24-1.74.24-2.65V28.56c0-1.24.35-1.57 1.36-1.82 0 0 17.79-3.59 18.62-3.75 1.16-.22 1.7.11 1.7 1.32v15.86c0 .63-.01 1.26-.43 1.78s-.95.67-1.56.8c-.47.09-.93.19-1.4.28-1.77.36-2.92.6-3.96 1-1 .39-1.74.88-2.34 1.5a5.643 5.643 0 00-1.53 4.48c.14 1.34.78 2.62 1.82 3.56.7.64 1.57 1.11 2.6 1.32 1.07.21 2.2.14 3.86-.2.88-.18 1.71-.44 2.5-.91a6.23 6.23 0 001.97-1.82c.52-.75.86-1.58 1.05-2.47.19-.91.2-1.74.2-2.65V12.89c-.01-1.23-.66-1.99-1.82-1.89z",fillRule:"evenodd",clipRule:"evenodd",fill:"#fff"})})]}),lt=Object(n.jsxs)("svg",{width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M13.5 26C20.4036 26 26 20.4036 26 13.5C26 6.59644 20.4036 1 13.5 1C6.59644 1 1 6.59644 1 13.5C1 20.4036 6.59644 26 13.5 26Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M13.5 8.5L8.5 13.5L13.5 18.5",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M18.793 13.1133H8.79297",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),dt=Object(n.jsx)("img",{src:"/audius.png",style:{maxWidth:"24px",maxHeight:"24px"},alt:"Audius"}),pt=Object(n.jsx)("img",{src:"/audius.png",style:{maxWidth:"34px",maxHeight:"34px"},alt:"Audius"}),bt=a(18),jt=a.n(bt);var vt=function(e){var t=Object(r.useState)(""),a=Object(d.a)(t,2),s=a[0],c=a[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),p=o[0],b=o[1],j=Object(r.useState)(!1),v=Object(d.a)(j,2),h=v[0],f=v[1],x=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(s,p);case 2:if((a=e.sent).access&&a.refresh){e.next=5;break}return e.abrupt("return");case 5:return localStorage.setItem("accessToken",a.access),localStorage.setItem("refreshToken",a.refresh),e.next=9,m();case 9:window.location.href="/app/search";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:jt.a.LoginContainer,children:[Object(n.jsx)("div",{className:jt.a.Logo,children:nt}),Object(n.jsxs)("div",{className:jt.a.Login,children:[Object(n.jsx)("div",{className:jt.a.LoginHeader,children:Object(n.jsx)("h3",{children:"Sign in"})}),Object(n.jsxs)("label",{className:jt.a.FormBlock,children:[Object(n.jsx)("span",{children:"E-mail*"}),Object(n.jsx)("input",{type:"text",name:"username",value:s,onChange:function(e){c(e.target.value)}})]}),Object(n.jsxs)("label",{className:jt.a.FormBlock,children:[Object(n.jsx)("span",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",value:p,onChange:function(e){b(e.target.value)}})]}),Object(n.jsxs)("label",{className:jt.a.FormBlock,style:{height:"25px"},children:[Object(n.jsx)("button",{className:jt.a.Checkbox,onClick:function(){f((function(e){return!e}))},children:h?ct:st}),Object(n.jsx)("span",{className:jt.a.FormBlockInline,children:"Remember Me"})]}),Object(n.jsxs)("div",{className:jt.a.FormBlock,style:{marginBottom:"6px;"},children:[Object(n.jsx)("button",{className:jt.a.Submit,onClick:x,children:"Sign In"}),Object(n.jsx)("span",{className:jt.a.ForgotPassword,children:Object(n.jsx)(at.b,{to:"/forgotpassword",children:"Forgot Password?"})})]})]})]})},ht=a(7),ft=a(86),xt=a(12),kt=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/users/user/connect-spotify/",{code:t,error:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var Ot=function(e){return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.search,a=new URLSearchParams(t),n=a.get("code"),r=a.get("error"),e.next=3,kt(n,r);case 3:window.location.href="../app/search";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.jsx)("p",{children:"Redirecting..."})},mt=a(89),yt=a.n(mt),gt=a(56),Ct=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/comments/text-comment/delete/",{textCommentUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/comments/text-comment-modification/list-delete/",{textCommentUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=Object(n.jsxs)("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M1 3.80078H2.4H13.6",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M4.49844 3.8V2.4C4.49844 2.0287 4.64594 1.6726 4.90849 1.41005C5.17104 1.1475 5.52713 1 5.89844 1H8.69844C9.06974 1 9.42584 1.1475 9.68839 1.41005C9.95094 1.6726 10.0984 2.0287 10.0984 2.4V3.8M12.1984 3.8V13.6C12.1984 13.9713 12.0509 14.3274 11.7884 14.5899C11.5258 14.8525 11.1697 15 10.7984 15H3.79844C3.42713 15 3.07104 14.8525 2.80849 14.5899C2.54594 14.3274 2.39844 13.9713 2.39844 13.6V3.8H12.1984Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M5.89844 7.30078V11.5008",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M8.69922 7.30078V11.5008",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Mt=Object(n.jsxs)("svg",{width:"18",height:"14",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M12.1601 1.36331L16.6324 5.83566C16.7484 5.95152 16.8404 6.08911 16.9032 6.24055C16.966 6.392 16.9983 6.55434 16.9983 6.71828C16.9983 6.88222 16.966 7.04456 16.9032 7.196C16.8404 7.34745 16.7484 7.48504 16.6324 7.6009L11.2806 12.959L5.04297 12.959L5.04297 6.7214L10.4011 1.36331C10.6348 1.13096 10.951 1.00054 11.2806 1.00054C11.6101 1.00054 11.9263 1.13096 12.1601 1.36331V1.36331Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M10.3546 11.087L5.98828 6.7207",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M1 9.2168L1.88574 10.1025",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M1 12.959H2.24752",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M10.9805 12.959H13.4755",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Pt=Object(n.jsx)("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M1 1L8.6 6L1 11V1Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),St=a(45),At=a.n(St);var Nt=Object(ht.b)((function(e){return{}}))((function(e){var t=e.data,a=t.uuid,s=Object(r.useState)(!1),c=Object(d.a)(s,2),i=c[0],o=c[1],p=function(){var t=Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct(a);case 2:n=t.sent,e.dispatch(n.redux);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:At.a.ABCNotationDisplayContainer,onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},children:[Object(n.jsx)("div",{className:At.a.HoverBuffer}),Object(n.jsxs)("div",{className:At.a.ABCNotationDisplay,children:[Object(n.jsx)(gt.Notation,{notation:t.text,engraverParams:{staffwidth:278}}),i&&Object(n.jsx)("div",{className:At.a.HoverContainer,children:Object(n.jsx)("button",{type:"button",onClick:p,children:_t})})]})]})})),Lt=a(26),Ut=a.n(Lt),Bt="text",Tt="abc_notation",Ft=a(34),It=a.n(Ft);var Qt=Object(ht.b)((function(e){return{}}))((function(e){var t=e.textCommentTrackUuid,a=e.textCommentTimestamp,s=e.isOpen,c=e.closeModal,i=Object(r.useState)(!1),o=Object(d.a)(i,2),p=o[0],b=o[1],j=Object(r.useState)(""),v=Object(d.a)(j,2),h=v[0],x=v[1],k=function(){var n=Object(l.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),n.next=3,f(h,Tt,t,a);case 3:r=n.sent,e.dispatch(r.redux),c(),x(""),b(!1);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(n.jsxs)(Ut.a,{isOpen:s,ariaHideApp:!1,className:It.a.Modal,overlayClassName:It.a.ModalOverlay,children:[Object(n.jsx)("button",{className:It.a.CloseModal,onClick:c,disabled:p,children:lt}),Object(n.jsxs)("div",{className:It.a.ContentContainer,children:[Object(n.jsxs)("div",{className:It.a.NotationContainer,children:[Object(n.jsx)("h4",{children:"Notation"}),Object(n.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:h,spellCheck:"false",onChange:function(e){x(e.target.value)},disabled:p})]}),Object(n.jsxs)("div",{className:It.a.RenderingContainer,children:[Object(n.jsx)("h4",{children:"Rendering"}),Object(n.jsx)("div",{className:It.a.RenderingWrapper,children:Object(n.jsx)(gt.Notation,{notation:h,engraverParams:{staffwidth:278}})}),Object(n.jsx)("button",{onClick:k,disabled:p,children:"Post"})]})]})]})})),Dt=a(46),qt=a.n(Dt),Rt=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,r){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/comments/voice-recording/create/",{audioFile:t,transcriptData:a,transcriptFinal:n,voiceRecordingTimestamp:r});case 2:return s=e.sent,e.next=5,s.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/comments/voice-recording/delete/",{voiceRecordingUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Ht=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap}}))((function(e){var t=e.data,a=t.uuid,s=e.stream,c=e.queueMap[s.nowPlayingUuid],i=Object(r.useState)(!1),o=Object(d.a)(i,2),p=o[0],b=o[1],j=Object(r.useState)(!1),v=Object(d.a)(j,2),h=v[0],f=v[1],x=function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wt(a);case 2:e.dispatch({type:"voiceRecording/delete",voiceRecordingUuid:a});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(!h&&(f(!0),"played"===c.status&&!t.created)){var e=B(c,c.startedAt)[0];if(t.timestampMilliseconds>=e-2e3&&t.timestampMilliseconds<=e+2e3)new Audio(t.audioUrl).play()}}),[h]),Object(n.jsxs)("div",{className:qt.a.VoiceRecordingContainer,onMouseEnter:function(){b(!0)},onMouseLeave:function(){b(!1)},children:[Object(n.jsx)("div",{className:qt.a.HoverBuffer}),Object(n.jsxs)("div",{className:qt.a.VoiceRecording,children:[Object(n.jsx)("p",{children:"null"===t.transcriptFinal?"<transcript not available>":t.transcriptFinal}),p&&Object(n.jsx)("div",{className:qt.a.HoverContainer,children:Object(n.jsx)("button",{type:"button",onClick:x,children:_t})})]})]})})),Et=a(22),Vt=a.n(Et),Zt=a(90),zt=a(68),Jt=a.n(zt),Gt="bold",Kt="italicize",Yt="strikethrough",Xt="highlight",$t=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,r){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/comments/text-comment-modification/create/",{textCommentUuid:t,style:a,anchorOffset:n,focusOffset:r});case 2:return s=e.sent,e.next=5,s.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();var ea=Object(ht.b)((function(e){return{}}))((function(e){var t=e.textColor,a=Object(r.useRef)(null),s=Object(r.useState)(!0),c=Object(d.a)(s,2),i=c[0],o=c[1],p=Object(r.useState)(null),b=Object(d.a)(p,2),j=b[0],v=b[1],h=Object(r.useState)(null),f=Object(d.a)(h,2),x=f[0],k=f[1],O=function(){var t=Object(l.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data.uuid,t.next=3,$t(n,a,j,x);case 3:r=t.sent,e.dispatch(r.redux),o(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.getSelection(),a=parseInt(t.anchorNode.parentNode.getAttribute("offset")),n=parseInt(t.focusNode.parentNode.getAttribute("offset")),a<n?n+=1:a+=1,o(!0),v(a),k(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!1),v(null),k(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:Jt.a.NotableText,style:{color:t},children:[Object(n.jsx)("p",{ref:a,children:function(){for(var t=e.data,a=t.text,r=t.modifications,s=[],c=0;c<a.length;c++)s[c]=new Set;for(var i=0;i<r.length;i++)for(var o=r[i],u=o.startPtr;u<o.endPtr;u++)s[u].add(o.style);for(var l=Object(n.jsx)(n.Fragment,{}),d=0;d<s.length;d++){var p=a[d],b=s[d],j={};b.has(Gt)&&(j.fontWeight="bold"),b.has(Kt)&&(j.fontStyle="italic"),b.has(Yt)&&(j.textDecoration="line-through"),b.has(Xt)&&(j.backgroundColor="#FFF960"),l=Object(n.jsxs)(n.Fragment,{children:[l,Object(n.jsx)("span",{offset:d,style:j,children:p})]})}return l}()}),Object(n.jsx)(Zt.a,{selectionRef:a,onTextSelect:m,onTextUnselect:y,isOpen:i,children:Object(n.jsxs)("div",{className:Jt.a.Popover,children:[Object(n.jsx)("button",{type:"button",onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Gt);case 2:case"end":return e.stop()}}),e)}))),children:Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"B"})}),Object(n.jsx)("button",{type:"button",onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Kt);case 2:case"end":return e.stop()}}),e)}))),children:Object(n.jsx)("span",{style:{fontStyle:"italic"},children:"i"})}),Object(n.jsx)("button",{type:"button",onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Yt);case 2:case"end":return e.stop()}}),e)}))),children:Object(n.jsx)("span",{style:{textDecoration:"line-through"},children:"S"})}),Object(n.jsx)("button",{type:"button",onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Xt);case 2:case"end":return e.stop()}}),e)}))),children:Object(n.jsx)("span",{style:{backgroundColor:"#FFF960"},children:"H"})})]})})]})})),ta=a(47),aa=a.n(ta);var na=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap}}))((function(e){var t,a,s=e.data,c=s.uuid,i=e.stream,o=e.queueMap[i.nowPlayingUuid],p=null===o||void 0===o||null===(t=o.track)||void 0===t?void 0:t.uuid,b=Object(r.useState)(!1),j=Object(d.a)(b,2),v=j[0],h=j[1],f=function(){var t=Object(l.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct(c);case 2:a=t.sent,e.dispatch(a.redux);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(l.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt(c);case 2:return a=t.sent,t.next=5,e.dispatch(a.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a="history"===s.renderStatus?"grey":"display"===s.renderStatus?"black":"red",Object(n.jsxs)("div",{className:aa.a.TextCommentContainer,onMouseEnter:function(){h(!0)},onMouseLeave:function(){h(!1)},children:[Object(n.jsx)("div",{className:aa.a.HoverBuffer}),Object(n.jsxs)("div",{className:aa.a.TextComment,children:[Object(n.jsx)(ea,{data:s,textColor:a}),v&&Object(n.jsxs)("div",{className:aa.a.HoverContainer,children:[Object(n.jsx)("button",{type:"button",onClick:f,children:_t}),Object(n.jsx)("button",{type:"button",onClick:x,children:Mt}),s.trackUuid===p&&Object(n.jsx)("button",{type:"button",onClick:function(){"paused"===o.status?e.playbackControls.play(s.timestampMilliseconds):e.playbackControls.seek(s.timestampMilliseconds)},children:Pt})]})]})]})}));var ra=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,feed:e.feed}}))((function(e){var t,a,s,c=e.feed,i=e.stream,o=e.queueMap[i.nowPlayingUuid],p=Object(r.useState)(""),b=Object(d.a)(p,2),j=b[0],v=b[1],h=Object(r.useState)(void 0),x=Object(d.a)(h,2),k=x[0],O=x[1],m=Object(r.useState)(void 0),y=Object(d.a)(m,2),g=y[0],C=y[1],w=Object(r.useState)(!1),_=Object(d.a)(w,2),M=_[0],P=_[1],S=Object(r.useState)(new yt.a({bitRate:320})),A=Object(d.a)(S,1)[0],N=Object(r.useState)(!1),L=Object(d.a)(N,2),U=L[0],T=L[1],F=function(){var t=Object(l.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,f(j,Bt,k,g);case 3:n=t.sent,e.dispatch(n.redux),C(void 0),O(void 0),v("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var t=setInterval((function(){e.dispatch({type:"feed/update"})}),50);return function(){clearInterval(t)}}),[]),Object(n.jsxs)("div",{className:Vt.a.FeedApp,children:[Object(n.jsx)(Qt,{textCommentTrackUuid:k,textCommentTimestamp:g,isOpen:U,closeModal:function(){O(void 0),C(void 0),T(!1)}}),Object(n.jsxs)("div",{className:Vt.a.ContentContainer,children:[Object(n.jsx)("div",{className:[Vt.a.ImageContainer,Vt.a[null===o||void 0===o||null===(t=o.track)||void 0===t?void 0:t.service]].join(" "),children:Object(n.jsx)("img",{alt:"",src:null===o||void 0===o||null===(a=o.track)||void 0===a?void 0:a.imageUrl})}),Object(n.jsx)("h5",{children:null===o||void 0===o||null===(s=o.track)||void 0===s?void 0:s.name})]}),Object(n.jsxs)("div",{className:Vt.a.FeedWrapper,children:[Object(n.jsx)("div",{className:Vt.a.Feed,children:c.map((function(t,a){if("TextComment"===t.class){if(t.format===Bt)return Object(n.jsx)(na,{data:t,playbackControls:e.playbackControls},t.uuid);if(t.format===Tt)return Object(n.jsx)(Nt,{data:t,playbackControls:e.playbackControls},t.uuid)}else if("VoiceRecording"===t.class)return Object(n.jsx)(Ht,{data:t,playbackControls:e.playbackControls},t.uuid);return Object(n.jsx)(n.Fragment,{})}))}),Object(n.jsxs)("form",{className:Vt.a.ComposeBar,onSubmit:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(n.jsx)("button",{className:Vt.a.NotationButton,type:"button",onClick:function(){var e=B(o,o.startedAt)[0];O(o.track.uuid),C(e),T(!0)},disabled:"played"!==o.status,children:Object(n.jsx)("div",{})}),Object(n.jsx)("button",{className:Vt.a.RecordButton,type:"button",onClick:function(){if(!M)return A.start(),void P(!0);A.stop().getMp3().then((function(t){var a=Object(d.a)(t,2),n=a[0],r=a[1];Object(l.a)(u.a.mark((function t(){var a,s,c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new File(n,"voice.mp3",{type:r.type,lastModified:Date.now()}),s=B(o,o.startedAt),c=s[0],t.next=4,Rt(a,JSON.stringify([]),"",c);case 4:return i=t.sent,t.next=7,e.dispatch({type:"voiceRecording/create",voiceRecording:i.data});case 7:case"end":return t.stop()}}),t)})))()})),P(!1)},disabled:"played"!==o.status,children:Object(n.jsx)("div",{})}),Object(n.jsx)("input",{type:"text",name:"text",value:j,onChange:function(e){if(v(e.target.value),!k||!g){var t=B(o,o.startedAt)[0];C(t),O(o.track.uuid)}},autoComplete:"off",disabled:"played"!==o.status}),Object(n.jsx)("button",{className:Vt.a.SubmitButton,type:"submit",disabled:"played"!==o.status,children:"Send"})]})]})]})})),sa=a(57),ca=a.n(sa),ia=a(29),oa=a.n(ia),ua=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,r){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/marker/create/",{trackUuid:t,timestampMilliseconds:a,queueUuid:n,name:r});case 2:return s=e.sent,e.next=5,s.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),la=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/marker/delete/",{markerUuid:t,queueUuid:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),da=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,r,s,c){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/queue-interval/create/",{queueUuid:t,lowerBoundMarkerUuid:a,upperBoundMarkerUuid:n,purpose:r,repeatCount:s,parentQueueUuid:c});case 2:return i=e.sent,e.next=5,i.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,c){return e.apply(this,arguments)}}(),pa=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/queue-interval/delete/",{queueIntervalUuid:t,queueUuid:a,parentQueueUuid:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ba=a(8),ja=a.n(ba),va=Object(n.jsx)("svg",{width:"17",height:"23",viewBox:"0 0 17 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M1 1L16 11.5L1 22V1Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ha=Object(n.jsx)("svg",{width:"17",height:"23",viewBox:"0 0 17 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M1 1V22M16 22V1",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),fa=Object(n.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("rect",{x:"1",y:"1",width:"16",height:"16",stroke:"#0047FF",strokeWidth:"2"}),Object(n.jsx)("path",{d:"M13.1534 6.23047L7.44186 12.4612L4.8457 9.62907",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),xa=Object(n.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("rect",{x:"1",y:"1",width:"16",height:"16",stroke:"#BCBCBC",strokeWidth:"2"})}),ka=a(95),Oa=a.n(ka),ma=a(48),ya=a.n(ma),ga=a(35),Ca=a.n(ga),wa=Object(n.jsxs)("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M12 15L21 8L12 1V15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M1 15L10 8L1 1V15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),_a=Object(n.jsxs)("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M10 15L1 8L10 1V15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M21 15L12 8L21 1V15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ma=Object(n.jsxs)("svg",{width:"9",height:"25",viewBox:"0 0 9 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M1 9V5V1",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"square"}),Object(n.jsx)("path",{d:"M8.61782 23.2137C9.05209 23.5549 9.12753 24.1835 8.78632 24.6178C8.4451 25.0521 7.81645 25.1275 7.38218 24.7863L8.61782 23.2137ZM7.38218 24.7863L7.06588 24.5378L8.30153 22.9652L8.61782 23.2137L7.38218 24.7863ZM7.06588 24.5378C2.6048 21.0327 0 15.6734 0 10H2C2 15.0597 4.32302 19.8392 8.30153 22.9652L7.06588 24.5378Z",fill:"#0047FF"})]}),Pa=Object(n.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1C5.65685 1 7 2.34315 7 4Z",fill:"white",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Sa=Object(n.jsxs)("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M1 3.80078H2.4H13.6",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M4.49844 3.8V2.4C4.49844 2.0287 4.64594 1.6726 4.90849 1.41005C5.17104 1.1475 5.52713 1 5.89844 1H8.69844C9.06974 1 9.42584 1.1475 9.68839 1.41005C9.95094 1.6726 10.0984 2.0287 10.0984 2.4V3.8M12.1984 3.8V13.6C12.1984 13.9713 12.0509 14.3274 11.7884 14.5899C11.5258 14.8525 11.1697 15 10.7984 15H3.79844C3.42713 15 3.07104 14.8525 2.80849 14.5899C2.54594 14.3274 2.39844 13.9713 2.39844 13.6V3.8H12.1984Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M5.89844 7.30078V11.5008",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M8.69922 7.30078V11.5008",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Aa=Object(n.jsx)("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M1 1L8.6 6L1 11V1Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Na=Object(n.jsx)("svg",{width:"9",height:"15",viewBox:"0 0 9 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M8.61782 1.78632C9.05209 1.4451 9.12753 0.81645 8.78632 0.382178C8.4451 -0.0520932 7.81645 -0.127532 7.38218 0.213682L8.61782 1.78632ZM7.38218 0.213682L7.06588 0.4622L8.30153 2.03484L8.61782 1.78632L7.38218 0.213682ZM7.06588 0.4622C2.6048 3.96734 0 9.32662 0 15H2C2 9.94034 4.32302 5.1608 8.30153 2.03484L7.06588 0.4622Z",fill:"#0047FF"})});var La=Object(ht.b)((function(e){return{}}))((function(e){var t,a=e.interval,s=e.duration,c=e.queue,i=e.editable,o=e.playbackControls,p=e.allowIntervalPlay,b=e.allowIntervalDelete,j=(a.endPosition-a.startPosition)/s*100,v="Progress"+(t=(t=a.purpose.includes("solo")?"solo":a.purpose).charAt(0).toUpperCase()+t.slice(1)),h="ProgressHoverContainer"+t,f="ProgressHoverPointer"+t,x=Object(r.useState)(!1),k=Object(d.a)(x,2),O=k[0],m=k[1],y=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=T(c,a.startPosition),"played"===c.status?o.seek(t):o.play(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:Ca.a[v],style:{width:"".concat(j,"%")},onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)},children:i&&O&&Object(n.jsxs)("div",{className:Ca.a[h],children:[Object(n.jsx)("div",{className:Ca.a[f],children:Ma}),Object(n.jsxs)("div",{className:Ca.a.HoverContainer,children:[Object(n.jsx)("div",{className:Ca.a.ProgressHoverPurpose,children:a.purpose}),a.uuid&&b&&Object(n.jsx)("button",{className:Ca.a.ProgressHoverDelete,onClick:function(t){e.deleteTrackInterval(a)},children:Sa}),p&&"Muted"!==t&&Object(n.jsx)("button",{className:Ca.a.ProgressHoverDelete,onClick:y,children:Aa})]})]})})})),Ua=a(30),Ba=a.n(Ua);var Ta=Object(ht.b)((function(e){return{}}))((function(e){var t=e.marker,a=e.queue,s=e.editable,c=e.playable,i=e.stoppable,o=e.forceDisplay,p=e.playbackControls,b=e.allowMarkerSeek,j=e.hoveringEnabled,v=Object(r.useState)(!1),h=Object(d.a)(v,2),f=h[0],x=h[1],k=c?"ProgressBarMarkerPointer":"ProgressBarMarkerPointerGrey",O=c?"ProgressBarMarkerPointerExtension":"ProgressBarMarkerPointerExtensionGrey",m=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(a,t.timestampMilliseconds),"played"===a.status?p.seek(n):p.play(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:Ba.a.ProgressBarMarker,style:{left:t.styleLeft},onMouseEnter:function(){x(!0),e.setMarkerHover(!0)},onMouseLeave:function(){x(!1),e.setMarkerHover(!1)},children:Object(n.jsxs)("div",{className:Ba.a[k],children:[(f&&j||o&&!e.markerHover)&&Object(n.jsx)("div",{className:Ba.a[O],children:Na}),(f&&j||o&&!e.markerHover)&&Object(n.jsxs)("div",{className:Ba.a.HoverContainer,children:[(f||o)&&Object(n.jsx)("div",{className:Ba.a.ProgressBarMarkerName,children:t.name}),f&&s&&Object(n.jsx)("button",{className:Ba.a.Delete,onClick:function(a){e.deleteTrackMarker(t)},children:Sa}),f&&c&&b&&Object(n.jsx)("button",{className:Ba.a.Play,onClick:m,children:Aa}),f&&i&&!1]})]})})}));var Fa=Object(ht.b)((function(e){return{markerMap:e.markerMap}}))((function(e){var t,a,s,c,i=Object(r.useRef)(),o=Object(r.useRef)(),p=Object(r.useState)(!1),b=Object(d.a)(p,2),j=b[0],v=b[1],h=Object(r.useState)(0),f=Object(d.a)(h,2),x=f[0],k=f[1],O=Object(r.useState)(!1),m=Object(d.a)(O,2),y=m[0],g=m[1],C=Object(H.a)({},e.queue),w=e.mode,_=(null===C||void 0===C?void 0:C.allIntervals)||[],M=(null===C||void 0===C||null===(t=C.track)||void 0===t?void 0:t.durationMilliseconds)||0,P=e.allowMarkerSeek,S=e.allowMarkerDelete,A=e.allowIntervalPlay,N=e.allowIntervalDelete;try{s=B(C,C.startedAt)[0],c=s/M*100}catch(ne){c=(s=0)/M*100}for(var L=e.markerMap,U=e.markers||Object.values(L[null===C||void 0===C||null===(a=C.track)||void 0===a?void 0:a.uuid]||[]).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds})),F=6,I=0;I<U.length;I++){var Q=U[I].timestampMilliseconds/M*100;U[I].styleLeft="calc(".concat(Q,"% - ").concat(F,"px)"),F+=12,"player"===w&&(U[I].timestampMilliseconds<s?(U[I].forceDisplay=!0,0!==I&&(U[I-1].forceDisplay=!1)):U[I].forceDisplay=!1,U[I].timestampMilliseconds>s+5e3?U[I].stoppable=!0:U[I].stoppable=!1);for(var D=0;D<C.allIntervals.length;D++){var q=C.allIntervals[D],R="muted"===q.purpose&&q.startPosition<=U[I].timestampMilliseconds&&q.endPosition>U[I].timestampMilliseconds;if(U[I].playable=!0,R){U[I].playable=!1;var W=C.playbackIntervals,E=W[W.length-1].endPosition;(U[I].timestampMilliseconds===E||q.startPosition<U[I].timestampMilliseconds&&q.endPosition>U[I].timestampMilliseconds)&&(U[I].stoppable=!1);break}}}var V=function(){var t=Object(l.a)(u.a.mark((function t(a,n){var r,s,c,l,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.current.getBoundingClientRect(),s=o.current.getBoundingClientRect(),c=(r.left-s.left)/(o.current.offsetWidth-8),l=Math.round(M*c),d=T(C,l),t.next=3,e.playbackControls.seek(d);case 3:k(n.x),G(0),v(!1);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),Z=Object(r.useState)(0),z=Object(d.a)(Z,2),J=z[0],G=z[1],K=Object(r.useState)(-1),Y=Object(d.a)(K,2),X=Y[0],$=Y[1],ee=Object(r.useState)(0),te=Object(d.a)(ee,2),ae=(te[0],te[1]);return Object(r.useEffect)((function(){if(-1!==J){var e=setInterval((function(){ae((function(e){return e+1}))}),50);return $(e),function(){clearInterval(X)}}-1!==X&&clearInterval(X)}),[J]),j&&(c=j),Object(n.jsxs)("div",{ref:o,className:ya.a.ParentProgressBar,children:[Object(n.jsx)(Oa.a,{axis:"x",bounds:"body",nodeRef:i,disabled:"paused"===(null===C||void 0===C?void 0:C.status),onStart:function(e,t){G(-1),v(c)},onDrag:function(e,t){},onStop:V,children:Object(n.jsx)("div",{ref:i,className:ya.a.ProgressPointer,style:{left:"calc(".concat(c,"% - ").concat(4+x,"px)")},children:Pa})}),Object(n.jsx)("div",{className:ya.a.ProgressBar,children:_.map((function(t,a){return Object(n.jsx)(La,{interval:t,duration:M,queue:C,editable:"intervals"===w,playbackControls:e.playbackControls,deleteTrackInterval:e.deleteTrackInterval,allowIntervalPlay:A,allowIntervalDelete:N},t.uuid||a)}))}),Object(n.jsx)("div",{className:ya.a.ProgressMarkerContainer,children:U.map((function(t,a){return Object(n.jsx)(Ta,{marker:t,queue:C,forceDisplay:t.forceDisplay,editable:S,playable:t.playable,stoppable:t.stoppable,playbackControls:e.playbackControls,deleteTrackMarker:e.deleteTrackMarker,markerHover:y,setMarkerHover:g,allowMarkerSeek:P,hoveringEnabled:"intervals"!==w},t.uuid)}))})]})})),Ia=function(e){var t={endPosition:e.track.durationMilliseconds,purpose:"all",startPosition:0},a=[t],n=[t];return Object(H.a)(Object(H.a)({},e),{},{intervals:[],allIntervals:a,playbackIntervals:n})};var Qa=Object(ht.b)((function(e){return{markerMap:e.markerMap,stream:e.stream,playback:e.playback}}))((function(e){var t=function(e){return e+1},a=e.isOpen,s=e.closeModal,c=e.playback,i=Object(r.useState)(Ia(e.data)),o=Object(d.a)(i,2),p=o[0],b=o[1],j=e.markerMap,v=Object.values(j[p.track.uuid]||[]).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds})),h=Object(r.useState)([]),f=Object(d.a)(h,2),x=f[0],k=f[1],O=Object(r.useState)(0),m=Object(d.a)(O,2),y=m[0],g=m[1],C=Object(r.useState)(""),w=Object(d.a)(C,2),_=w[0],M=w[1],P=Object(r.useState)(""),S=Object(d.a)(P,2),A=S[0],N=S[1],L=Object(r.useState)(!0),U=Object(d.a)(L,2),T=U[0],F=U[1],I=Object(r.useState)(!1),Q=Object(d.a)(I,2),D=Q[0],q=Q[1],R=Object(r.useState)(0),W=Object(d.a)(R,2),E=W[0],Z=W[1],z=Object(r.useState)("muted"),J=Object(d.a)(z,2),G=J[0],K=J[1],Y=Object(r.useState)("null"),X=Object(d.a)(Y,2),$=X[0],ee=X[1],te=Object(r.useState)("null"),ae=Object(d.a)(te,2),ne=ae[0],re=ae[1],se=Object(r.useState)(!1),ce=Object(d.a)(se,2),ie=ce[0],oe=ce[1],ue=Object(r.useState)(!1),le=Object(d.a)(ue,2),de=le[0],pe=le[1],be=Object(r.useState)("markers"),je=Object(d.a)(be,2),ve=je[0],he=je[1],fe=Object(r.useState)("listen"),xe=Object(d.a)(fe,2),ke=xe[0],Oe=xe[1],me=Object(r.useState)(!0),ye=Object(d.a)(me,2),ge=ye[0],Ce=ye[1],we=Object(r.useState)(0),_e=Object(d.a)(we,2),Me=_e[0],Pe=_e[1],Se=function(){var a=Object(l.a)(u.a.mark((function a(){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="youtube"===p.track.service?1e3*Math.round(_/1e3):_,a.next=3,ua(p.track.uuid,n,p.uuid,A);case 3:return r=a.sent,a.next=6,e.dispatch(r.redux);case 6:Ue(""),N(""),g(t);case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Ae=function(){var a=Object(l.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,la(n.uuid,p.uuid);case 2:return r=a.sent,a.next=5,e.dispatch(r.redux);case 5:g(t);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Ne=function(){var a=Object(l.a)(u.a.mark((function a(){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,da(p.uuid,$,ne,G,null,p.parentUuid);case 2:return n=a.sent,a.next=5,e.dispatch(n.redux);case 5:ee("null"),re("null"),Pe(t),g(t),Z(t);case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Le=function(){var a=Object(l.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pa(n.uuid,p.uuid,p.parentUuid);case 2:return r=a.sent,a.next=5,e.dispatch(r.redux);case 5:Z(t);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Ue=function(e){var a;if(e)a=e;else try{a=B(p,p.startedAt)[0]}catch(n){a=0}"youtube"===p.track.service&&(a=1e3*Math.round(a/1e3)),M(a),g(t)},Be=function(e){var t="paused"===p.status&&0===e?Xe:Ke;p.startedAt=Date.now()-e,p.status="played",p.statusAt=Date.now(),b(Object(H.a)({},p)),t(c,p),Ue()},Te=function(){p.status="paused",p.statusAt=Date.now(),b(Object(H.a)({},p)),Ye(c,p),Ue()},Fe={play:Be,pause:Te,seek:function(e){p.startedAt=Date.now()-e,p.status="played",p.statusAt=Date.now(),b(Object(H.a)({},p)),$e(c,p),Ue()}};return Object(r.useEffect)((function(){Ce(!!("markers"===ve||"intervals"===ve&&"listen"===ke))}),[a,Me]),Object(r.useEffect)((function(){for(var e=Object(V.a)(v),t=0;t<e.length;t++){"intervals"===ve&&"create"===ke&&(e[t].uuid===$||e[t].uuid===ne)?e[t].forceDisplay=!0:delete e[t].forceDisplay}"markers"===ve&&"create"===ke&&e.push({trackUuid:p.track.uuid,timestampMilliseconds:_,name:A,forceDisplay:!0}),k(e),F("markers"===ve&&("listen"===ke||"create"===ke)),q("markers"===ve&&"delete"===ke)}),[a,y]),Object(r.useEffect)((function(){b("intervals"===ve?function(t){return Object(H.a)(Object(H.a)({},t),{},{intervals:e.data.intervals,allIntervals:e.data.allIntervals,playbackIntervals:e.data.playbackIntervals})}:function(e){return Ia(e)}),oe("intervals"===ve&&"listen"===ke),pe("intervals"===ve&&"delete"===ke)}),[a,E]),Object(n.jsxs)(Ut.a,{isOpen:a,ariaHideApp:!1,className:ja.a.Modal,overlayClassName:ja.a.ModalOverlay,children:[Object(n.jsx)("button",{className:ja.a.CloseModal,onClick:function(){"played"===p.status&&Ye(c,p);var t=Date.now();p.startedAt=t,p.status="paused",p.statusAt=t,b(Object(H.a)({},e.data)),s()},children:lt}),Object(n.jsxs)("div",{className:ja.a.ModalContent,children:[Object(n.jsxs)("div",{className:ja.a.Preview,children:[Object(n.jsx)("div",{className:ja.a.PreviewImgContainer,children:Object(n.jsx)("img",{className:ja.a.PreviewImg,src:p.track.imageUrl,alt:"Album Art"})}),Object(n.jsx)("div",{className:ja.a.PreviewControlContainer,children:Object(n.jsx)("button",{className:ja.a[ge?"PreviewControl":"PreviewControlDisabled"],onClick:function(){ge&&c.controlsEnabled&&("played"===p.status?Te():"paused"===p.status?Be(p.statusAt-p.startedAt):Be(0))},disabled:!ge||!c.controlsEnabled,children:"played"===p.status?ha:va})})]}),Object(n.jsx)("div",{className:ja.a.QueueName,children:p.track.name}),Object(n.jsxs)("div",{className:ja.a.TabButtonContainer,children:[Object(n.jsx)("button",{className:ja.a["markers"===ve?"TabButtonActive":"TabButton"],onClick:function(){"played"===p.status&&Ye(c,p);var e=Date.now();p.startedAt=e,p.status="paused",p.statusAt=e,b(p),he("markers"),Pe(t),Z(t),g(t)},children:"Markers"}),Object(n.jsx)("button",{className:ja.a["intervals"===ve?"TabButtonActive":"TabButton"],onClick:function(){"played"===p.status&&Ye(c,p);var e=Date.now();p.startedAt=e,p.status="paused",p.statusAt=e,b(p),he("intervals"),Pe(t),Z(t),g(t)},children:"Intervals"})]}),Object(n.jsxs)("div",{className:ja.a.MotiveContainer,children:[Object(n.jsxs)("label",{className:ja.a.MotiveCheckboxContainer,children:[Object(n.jsx)("button",{onClick:function(){Oe("listen"),Pe(t),Z(t),g(t)},children:"listen"===ke?fa:xa}),Object(n.jsx)("span",{style:"listen"!==ke&&{color:"#BCBCBC"}||{},children:"Listen"})]}),Object(n.jsxs)("label",{className:ja.a.MotiveCheckboxContainer,children:[Object(n.jsx)("button",{onClick:function(){Oe("create"),"markers"===ve&&Ue(),"played"===p.status&&"intervals"===ve&&Te(),Pe(t),Z(t),g(t)},children:"create"===ke?fa:xa}),Object(n.jsx)("span",{style:"create"!==ke&&{color:"#BCBCBC"}||{},children:"Create"})]}),Object(n.jsxs)("label",{className:ja.a.MotiveCheckboxContainer,children:[Object(n.jsx)("button",{onClick:function(){"intervals"===ve&&"played"===p.status&&Te(),Oe("delete"),Pe(t),Z(t),g(t)},children:"delete"===ke?fa:xa}),Object(n.jsx)("span",{style:"delete"!==ke&&{color:"#BCBCBC"}||{},children:"Delete"})]})]}),"markers"===ve&&"create"===ke&&Object(n.jsxs)("div",{className:ja.a.Form,children:[Object(n.jsxs)("label",{className:ja.a.FormLabel,children:[Object(n.jsx)("span",{children:"Marker Timestamp"}),Object(n.jsx)("input",{className:ja.a.FormInput,type:"text",value:_,onChange:function(e){M(e.target.value),g(t)}})]}),Object(n.jsxs)("label",{className:ja.a.FormLabel,children:[Object(n.jsx)("span",{children:"Marker Name"}),Object(n.jsx)("input",{className:ja.a.FormInput,type:"text",value:A,onChange:function(e){N(e.target.value),g(t)}})]}),Object(n.jsx)("button",{className:ja.a.FormSubmit,disabled:!(_&&A),onClick:Se,children:"Create"})]}),"intervals"===ve&&"create"===ke&&Object(n.jsxs)("div",{className:ja.a.Form,children:[Object(n.jsxs)("label",{className:ja.a.FormLabel,children:[Object(n.jsx)("span",{children:"Modification"}),Object(n.jsxs)("select",{className:ja.a.FormSelect,value:G,onChange:function(e){K(e.target.value)},children:[Object(n.jsx)("option",{value:"muted",children:"Trim"}),Object(n.jsx)("option",{value:"drums",children:"Solo drums"}),Object(n.jsx)("option",{value:"vocals",children:"Solo vocals"}),Object(n.jsx)("option",{value:"bass",children:"Solo bass"}),Object(n.jsx)("option",{value:"other",children:"Solo other"})]})]}),Object(n.jsxs)("label",{className:ja.a.FormLabel,children:[Object(n.jsx)("span",{children:"Start Marker"}),Object(n.jsxs)("select",{className:ja.a.FormSelect,value:$,onChange:function(e){var a=e.target.value;ee(a),Z(t),g(t)},children:[Object(n.jsx)("option",{value:"null",children:"Beginning"}),x.map((function(e,t){return Object(n.jsx)("option",{value:e.uuid,children:e.name},t)}))]})]}),Object(n.jsxs)("label",{className:ja.a.FormLabel,children:[Object(n.jsx)("span",{children:"End Marker"}),Object(n.jsxs)("select",{className:ja.a.FormSelect,value:ne,onChange:function(e){var a=e.target.value;re(a),Z(t),g(t)},children:[x.map((function(e,t){return Object(n.jsx)("option",{value:e.uuid,children:e.name},t)})),Object(n.jsx)("option",{value:"null",children:"End"})]})]}),Object(n.jsx)("button",{className:ja.a.FormSubmit,onClick:Ne,children:"Create"})]}),Object(n.jsx)("div",{className:ja.a.ProgressBar,children:Object(n.jsx)(Fa,{queue:p,markers:x,mode:ve,playbackControls:Fe,deleteTrackMarker:Ae,deleteTrackInterval:Le,allowMarkerSeek:T,allowMarkerDelete:D,allowIntervalPlay:ie,allowIntervalDelete:de})})]})]})})),Da=a(31),qa=a.n(Da),Ra=Object(n.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M10 3.12109H3C2.46957 3.12109 1.96086 3.33181 1.58579 3.70688C1.21071 4.08195 1 4.59066 1 5.12109V19.1211C1 19.6515 1.21071 20.1602 1.58579 20.5353C1.96086 20.9104 2.46957 21.1211 3 21.1211H17C17.5304 21.1211 18.0391 20.9104 18.4142 20.5353C18.7893 20.1602 19 19.6515 19 19.1211V12.1211",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M17.5 1.62132C17.8978 1.2235 18.4374 1 19 1C19.5626 1 20.1022 1.2235 20.5 1.62132C20.8978 2.01915 21.1213 2.55871 21.1213 3.12132C21.1213 3.68393 20.8978 4.2235 20.5 4.62132L11 14.1213L7 15.1213L8 11.1213L17.5 1.62132Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Wa=Object(n.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M11 21.1211C16.5228 21.1211 21 16.6439 21 11.1211C21 5.59825 16.5228 1.12109 11 1.12109C5.47715 1.12109 1 5.59825 1 11.1211C1 16.6439 5.47715 21.1211 11 21.1211Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M14 8.12109L8 14.1211",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M8 8.12109L14 14.1211",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ha=Object(n.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M11 21.1211C16.5228 21.1211 21 16.6439 21 11.1211C21 5.59825 16.5228 1.12109 11 1.12109C5.47715 1.12109 1 5.59825 1 11.1211C1 16.6439 5.47715 21.1211 11 21.1211Z",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M14 8.12109L8 14.1211",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M8 8.12109L14 14.1211",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ea=Object(n.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M7 9L11 14L15 9",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Va=Object(n.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",fill:"#0047FF",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M15 13.5L11 8.5L7 13.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Za=Object(n.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",fill:"#EAEAEA",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M15 13.5L11 8.5L7 13.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});var za=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap}}))((function(e){var t=e.queueMap,a=e.data||t[e.queueUuid],s=e.stream,c=t[s.nowPlayingUuid],i=Object(r.useState)(!1),o=Object(d.a)(i,2),p=o[0],b=o[1],j=Object(r.useState)(!1),v=Object(d.a)(j,2),h=v[0],f=v[1],x=a.parentUuid?"QueueTrackChild":"QueueTrackHead",k=a.parentUuid?"QueueInformationChild":"QueueInformationHead",O=a.parentUuid?"ButtonChild":"ButtonHead",m=a.parentUuid?"DurationContainerChild":"DurationContainerHead";return Object(n.jsxs)("div",{className:qa.a[x],children:[!a.parentUuid&&Object(n.jsx)("div",{className:[qa.a.AlbumArtContainer,qa.a[a.track.service]].join(" "),children:Object(n.jsx)("img",{src:a.track.imageUrl,alt:"Album Art"})}),Object(n.jsxs)("div",{className:qa.a[k],children:[Object(n.jsx)("h5",{children:a.track.name}),!a.parentUuid&&Object(n.jsx)("h6",{children:a.track.artistName})]}),Object(n.jsx)("div",{className:qa.a[m],children:ae(a.track.durationMilliseconds)}),Object(n.jsxs)("div",{className:qa.a.ButtonContainer,children:[Object(n.jsx)("button",{className:qa.a[O],type:"button",onClick:function(){"played"===(null===c||void 0===c?void 0:c.status)&&(e.playbackControls.pause(),f(!0)),e.dispatch({type:"playback/mount",payload:{queue:a}}),b(!0)},children:Ra}),Object(n.jsx)("button",{className:qa.a[O],type:"button",onClick:function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Wa})]}),Object(n.jsx)(Qa,{data:a,isOpen:p,closeModal:function(){e.dispatch({type:"playback/mount",payload:{stream:s}}),b(!1),h&&f(!1)}})]})}));var Ja=Object(ht.b)((function(e){return{stream:e.stream,lastUpQueueUuids:e.lastUpQueueUuids,queueMap:e.queueMap}}))((function(e){var t=e.queueMap,a=e.data,s=e.stream,c=e.lastUpQueueUuids,i=ee(c[c.length-1],t),o=a.uuid,p=t[s.nowPlayingUuid],b=p&&(null===p||void 0===p?void 0:p.parentUuid)===o||!p&&(null===i||void 0===i?void 0:i.parentUuid)&&(null===i||void 0===i?void 0:i.parentUuid)===o,j=Object(r.useState)(b),v=Object(d.a)(j,2),h=v[0],f=v[1];return Object(n.jsxs)("div",{className:oa.a.QueueCollection,children:[Object(n.jsxs)("div",{className:oa.a.QueueCollectionMain,children:[Object(n.jsx)("div",{className:[oa.a.AlbumArtContainer,oa.a[a.collection.service]].join(" "),children:Object(n.jsx)("img",{src:a.collection.imageUrl,alt:"Album Art"})}),Object(n.jsxs)("div",{className:oa.a.QueueInformation,children:[Object(n.jsx)("h5",{children:a.collection.name}),Object(n.jsx)("h6",{children:a.collection.artistName})]}),Object(n.jsx)("div",{className:oa.a.DurationContainer,children:ae(a.durationMilliseconds)}),Object(n.jsxs)("div",{className:oa.a.ButtonContainer,children:[!b&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",onClick:function(e){b||f(!h)},children:h?Va:Ea}),Object(n.jsx)("button",{type:"button",onClick:function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Wa})]}),b&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",disabled:!0,style:{cursor:"not-allowed"},children:Za}),Object(n.jsx)("button",{type:"button",disabled:!0,style:{cursor:"not-allowed"},children:Ha})]})]})]}),a.childUuids.length>0&&h&&Object(n.jsx)("div",{className:oa.a.Children,children:a.childUuids.map((function(t,a){return Object(n.jsx)(za,{queueUuid:t,destroy:e.destroy,playbackControls:e.playbackControls},a)}))})]})})),Ga=a(205);var Ka=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,nextUpQueueUuids:e.nextUpQueueUuids,lastUpQueueUuids:e.lastUpQueueUuids}}))((function(e){var t=e.nextUpQueueUuids,a=e.stream,r=e.queueMap,s=r[a.nowPlayingUuid],c=$(t,r),i=te(c,s),o=new Date(Date.now()+i),d=function(){var t=Object(l.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.uuid,t.next=3,U(n);case 3:(r=a.parentUuid)?e.dispatch({type:"queue/deleteChildNode",parentUuid:r,queueUuid:n}):e.dispatch({type:"queue/deleteNode",queueUuid:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:ca.a.QueueApp,children:[c.map((function(t,a){return t.collection?Object(n.jsx)(Ja,{data:t,destroy:d,playbackControls:e.playbackControls},a):t.track?Object(n.jsx)(za,{data:t,destroy:d,playbackControls:e.playbackControls},a):void 0})),Object(n.jsx)("div",{className:ca.a.PlaybackDuration,children:i?Object(n.jsxs)(n.Fragment,{children:["Playback will end\xa0",Object(n.jsx)(Ga.a,{future:!0,date:o,locale:"en-US"})]}):Object(n.jsx)(n.Fragment,{children:"There is nothing in the queue."})}),Object(n.jsx)(at.b,{to:"/app/search",children:Object(n.jsx)("button",{className:ca.a.AddToQueue,children:"Add To Queue"})})]})})),Ya=a(70),Xa=a.n(Ya);var $a=Object(ht.b)((function(e){return{nextUpQueueUuids:e.nextUpQueueUuids,stream:e.stream,queueMap:e.queueMap}}))((function(e){var t,a,r=e.nextUpQueueUuids,s=e.stream,c=e.queueMap,i=c[s.nowPlayingUuid],o=$(r,c);r.length?(t=function(e,t){if(e.length){var a,n=[],r=Object(X.a)(e);try{for(r.s();!(a=r.n()).done;){var s=a.value;if(s.childUuids.length){var c,i=Object(X.a)(s.childUuids);try{for(i.s();!(c=i.n()).done;){var o=c.value;n.push(t[o])}}catch(u){i.e(u)}finally{i.f()}}else n.push(s)}}catch(u){r.e(u)}finally{r.f()}return n}}([o[0]],c),a=[].concat(Object(V.a)(t),Object(V.a)(o.slice(1)))):a=[];var u=te(o,i),l=new Date(Date.now()+u);return Object(n.jsxs)("div",{className:Xa.a.MiniQueue,children:[Object(n.jsx)("h3",{children:"Queue"}),u?Object(n.jsxs)("p",{children:["Playback will end\xa0",Object(n.jsx)(Ga.a,{future:!0,date:l,locale:"en-US"})]}):Object(n.jsx)("p",{children:"There is nothing in the queue."}),Object(n.jsx)("ol",{children:a.map((function(e,t){var a,r;return Object(n.jsx)("li",{className:Xa.a.MiniQueueItem,children:(null===(a=e.track)||void 0===a?void 0:a.name)||(null===(r=e.collection)||void 0===r?void 0:r.name)},t)}))})]})})),en=a(19),tn=a.n(en),an=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,r,s,c,i,o,l,d){var p,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(b,"/music/search",{query:t,providerAppleMusic:a,providerSpotify:n,providerYouTube:r,providerAudius:s,providerJukeboxRadio:c,formatTrack:i,formatAlbum:o,formatPlaylist:l,formatVideo:d});case 2:return p=e.sent,e.next=5,p.json();case 5:return j=e.sent,e.abrupt("return",j);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,c,i,o,u,l){return e.apply(this,arguments)}}(),nn=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/streams/queue/create/",{className:t,genericUuid:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),rn=a(32),sn=a.n(rn);var cn=function(e){var t,a=e.data,s=e.addToQueue,c=Object(r.useState)(!1),i=Object(d.a)(c,2),o=i[0],p=i[1],b=Object(r.useState)(!1),j=Object(d.a)(b,2),v=j[0],h=j[1],f=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,s(a.class,a.uuid);case 3:h(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=a.img_url;return a.provider===Q&&(x=(x=x.replace("{w}","300")).replace("{h}","300")),a.provider===D?t=it:a.provider===q?t=ot:a.provider===Q?t=ut:a.provider===W?t=rt:a.provider===R&&(t=dt),Object(n.jsxs)("div",{className:v?sn.a.SearchResultSubmitted:sn.a.SearchResult,children:[Object(n.jsx)("div",{className:[sn.a.ImageParent,sn.a[a.provider]].join(" "),children:Object(n.jsx)("img",{src:x,alt:"Album Art"})}),Object(n.jsxs)("div",{className:sn.a.ResultInformation,children:[Object(n.jsx)("h5",{children:a.name}),Object(n.jsx)("h6",{children:a.artist_name})]}),Object(n.jsx)("div",{className:sn.a.ServiceLogo,children:t}),Object(n.jsx)("button",{type:"button",onClick:f,className:sn.a[v?"AddButtonInverted":"AddButton"],style:o&&!v&&{cursor:"wait"}||{},disabled:!(!o&&!v),children:v?"Added":o?Object(n.jsx)("i",{className:sn.a.ggSpinner}):"Add"})]})},on=a(23),un=a.n(on),ln=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,r,s){var c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j,"/music/track/create/",{audioFile:t,imageFile:a,trackName:n,artistName:r,albumName:s});case 2:return c=e.sent,e.next=5,c.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}();var dn=function(e){var t=Object(r.useState)(0),a=Object(d.a)(t,2),s=a[0],c=a[1],i=Object(r.useState)(!1),o=Object(d.a)(i,2),p=o[0],b=o[1],j=Object(r.useState)(""),v=Object(d.a)(j,2),h=v[0],f=v[1],x=Object(r.useState)(""),k=Object(d.a)(x,2),O=k[0],m=k[1],y=Object(r.useState)(""),g=Object(d.a)(y,2),C=g[0],w=g[1],_=Object(r.useState)(""),M=Object(d.a)(_,2),P=M[0],S=M[1],A=Object(r.useState)(""),N=Object(d.a)(A,2),L=N[0],U=N[1],B=e.isOpen,T=e.closeModal,F=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,ln(h,O,C,P,L);case 3:b(!1),c((function(e){return e+2})),w(""),S(""),U(""),T();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(Ut.a,{isOpen:B,ariaHideApp:!1,className:un.a.Modal,overlayClassName:un.a.ModalOverlay,children:[Object(n.jsx)("button",{className:un.a.CloseModal,onClick:T,children:lt}),Object(n.jsxs)("div",{className:un.a.Login,children:[Object(n.jsx)("h3",{children:"Upload"}),Object(n.jsxs)("label",{className:un.a.FormBlock,children:["Audio file",Object(n.jsx)("input",{type:"file",name:"audioFile",onChange:function(e){f(e.target.files[0])},disabled:p},s)]}),Object(n.jsxs)("label",{className:un.a.FormBlock,children:["Image file",Object(n.jsx)("input",{type:"file",name:"imageFile",onChange:function(e){m(e.target.files[0])},disabled:p},s+1)]}),Object(n.jsxs)("label",{className:un.a.FormBlock,children:["Track name",Object(n.jsx)("input",{type:"text",name:"trackName",placeholder:"Track name",value:C,onChange:function(e){w(e.target.value)},disabled:p})]}),Object(n.jsxs)("label",{className:un.a.FormBlock,children:["Artist name",Object(n.jsx)("input",{type:"text",name:"artistName",placeholder:"Artist name",value:P,onChange:function(e){S(e.target.value)},disabled:p})]}),Object(n.jsxs)("label",{className:un.a.FormBlock,children:["Album name",Object(n.jsx)("input",{type:"text",name:"albumName",placeholder:"Album name",value:L,onChange:function(e){U(e.target.value)},disabled:p})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:un.a.FormBlock,children:Object(n.jsx)("button",{type:"submit",onClick:F,disabled:p,children:"Submit"})})]})]})},pn=Object(n.jsxs)("svg",{width:"45",height:"35",viewBox:"0 0 45 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M33.6843 13.5312H31.3368C30.6397 10.7464 29.1994 8.21916 27.1795 6.23657C25.1596 4.25398 22.641 2.89558 19.9101 2.31572C17.1791 1.73586 14.3452 1.9578 11.7304 2.95631C9.11564 3.95482 6.82478 5.68987 5.11818 7.96431C3.41157 10.2387 2.35765 12.9614 2.07616 15.8228C1.79467 18.6842 2.29691 21.5698 3.5258 24.1515C4.7547 26.7332 6.66097 28.9075 9.02801 30.4275C11.3951 31.9475 14.128 32.7521 16.9162 32.75H33.6843C36.155 32.75 38.5245 31.7376 40.2715 29.9355C42.0185 28.1334 43 25.6892 43 23.1406C43 20.5921 42.0185 18.1479 40.2715 16.3458C38.5245 14.5437 36.155 13.5312 33.6843 13.5312Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M24.3986 18.3202L18.3246 12.2461L12.2505 18.3202",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M18.3257 12.2461V25.9128",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M24.3986 18.3202L18.3246 12.2461L12.2505 18.3202",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),bn=Object(n.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("rect",{x:"1",y:"1",width:"24",height:"24",stroke:"#0047FF",strokeWidth:"2"}),Object(n.jsx)("path",{d:"M19 9L10.75 18L7 13.9091",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),jn=Object(n.jsx)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("rect",{x:"0.5",y:"0.5",width:"25",height:"25",stroke:"#BCBCBC"})});var vn=Object(ht.b)((function(e){return{search:e.search}}))((function(e){var t=e.search,a=Object(r.useState)([]),s=Object(d.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)(""),p=Object(d.a)(o,2),b=p[0],j=p[1],v=Object(r.useState)(!1),h=Object(d.a)(v,2),f=h[0],x=h[1],k=function(){var e=Object(l.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,an(b,t.serviceAppleMusic,t.serviceSpotify,t.serviceYouTube,t.serviceAudius,t.serviceJukeboxRadio,true,true,true,true);case 4:a=e.sent,i(a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(l.a)(u.a.mark((function t(a,n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nn(a,n);case 2:return t.next=4,L();case 4:r=t.sent,e.dispatch(r.redux);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:tn.a.SearchApp,children:[Object(n.jsxs)("div",{className:tn.a.SearchBarContainer,children:[Object(n.jsx)("input",{type:"text",name:"query",autoComplete:"off",spellCheck:"false",placeholder:"",className:tn.a.SearchBar,value:b,onChange:function(e){j(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&k()}}),Object(n.jsx)("button",{className:tn.a.Upload,onClick:function(){x(!0)},children:pn})]}),Object(n.jsxs)("div",{className:tn.a.FormBlock,children:[Object(n.jsxs)("label",{className:tn.a.ServiceCheckboxContainer,children:[Object(n.jsx)("button",{onClick:function(){e.dispatch({type:"search/toggleService",payload:{serviceName:"serviceSpotify"}})},children:t.serviceSpotify?bn:jn}),Object(n.jsx)("span",{style:!t.serviceSpotify&&{color:"#BCBCBC"}||{},children:"Spotify"})]}),Object(n.jsxs)("label",{className:tn.a.ServiceCheckboxContainer,children:[Object(n.jsx)("button",{onClick:function(){e.dispatch({type:"search/toggleService",payload:{serviceName:"serviceYouTube"}})},children:t.serviceYouTube?bn:jn}),Object(n.jsx)("span",{style:!t.serviceYouTube&&{color:"#BCBCBC"}||{},children:"YouTube"})]}),Object(n.jsxs)("label",{className:tn.a.ServiceCheckboxContainer,children:[Object(n.jsx)("button",{onClick:function(){e.dispatch({type:"search/toggleService",payload:{serviceName:"serviceAppleMusic"}})},children:t.serviceAppleMusic?bn:jn}),Object(n.jsx)("span",{style:!t.serviceAppleMusic&&{color:"#BCBCBC"}||{},children:"Apple Music"})]}),Object(n.jsxs)("label",{className:tn.a.ServiceCheckboxContainer,children:[Object(n.jsx)("button",{onClick:function(){e.dispatch({type:"search/toggleService",payload:{serviceName:"serviceAudius"}})},children:t.serviceAudius?bn:jn}),Object(n.jsx)("span",{style:!t.serviceAudius&&{color:"#BCBCBC"}||{},children:"Audius"})]}),Object(n.jsxs)("label",{className:tn.a.ServiceCheckboxContainer,children:[Object(n.jsx)("button",{onClick:function(){e.dispatch({type:"search/toggleService",payload:{serviceName:"serviceJukeboxRadio"}})},children:t.serviceJukeboxRadio?bn:jn}),Object(n.jsx)("span",{style:!t.serviceJukeboxRadio&&{color:"#BCBCBC"}||{},children:"Uploads"})]})]})]}),Object(n.jsx)("div",{className:tn.a.SearchResultsContainer,children:Object(n.jsx)("div",{className:tn.a.SearchResults,children:c.map((function(e,t){return Object(n.jsx)(cn,{data:e,addToQueue:O},e.uuid)}))})}),Object(n.jsx)(dn,{isOpen:f,closeModal:function(){x(!1)}})]})})),hn=a(10),fn=a.n(hn),xn=Object(n.jsxs)("svg",{width:"34",height:"31",viewBox:"0 0 34 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M32.1883 25.9507C32.1883 26.7778 31.8597 27.5711 31.2748 28.156C30.6899 28.7409 29.8967 29.0695 29.0695 29.0695H4.11883C3.29167 29.0695 2.49838 28.7409 1.91348 28.156C1.32859 27.5711 1 26.7778 1 25.9507V4.11883C1 3.29167 1.32859 2.49838 1.91348 1.91348C2.49838 1.32859 3.29167 1 4.11883 1H11.9159L15.0347 5.67825H29.0695C29.8967 5.67825 30.6899 6.00684 31.2748 6.59173C31.8597 7.17663 32.1883 7.96991 32.1883 8.79708V25.9507Z",fill:"#0047FF",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M16.5938 13.3848V22.7413",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M11.916 18.1523H21.2725",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]});var kn=Object(ht.b)((function(e){return{userSettings:e.userSettings,playback:e.playback}}))((function(e){var t=Object(xt.f)(),a=e.userSettings,s=e.playback,c=e.isOpen,i=e.closeModal;return Object(r.useEffect)((function(){c&&e.dispatch({type:"sideBar/selectTab",payload:{tab:"search"}})}),[c]),Object(n.jsxs)(Ut.a,{isOpen:c,ariaHideApp:!1,className:fn.a.Modal,overlayClassName:fn.a.ModalOverlay,children:[Object(n.jsx)("div",{className:fn.a.Logo,children:nt}),Object(n.jsx)("div",{className:fn.a.WelcomeAppContainer,children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:fn.a.WelcomeHeader,children:[Object(n.jsx)("h2",{children:"Welcome"}),Object(n.jsx)("h5",{children:"Where do you want to start?"})]}),Object(n.jsxs)("div",{className:fn.a.PlaybackOptionContainer,children:[Object(n.jsxs)("div",{className:fn.a.PlaybackOption,onClick:function(){a&&!a.spotify.accessToken?window.location.href=e.userSettings.spotify.authorizationUrl:(e.dispatch({type:"search/toggleServiceOff",payload:{serviceSpotify:!0}}),t.push("/app/search"),i())},disabled:!a,children:[Object(n.jsx)("div",{className:fn.a.PlaybackOptionLogo,style:{backgroundColor:"#FFF",borderRadius:"50%"},children:it}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionService,children:"Spotify"}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionDescription,children:"Connect your Spotify Premium account"})]}),Object(n.jsxs)("div",{className:fn.a.PlaybackOption,onClick:function(){e.dispatch({type:"search/toggleServiceOff",payload:{serviceYouTube:!0}}),t.push("/app/search"),i()},children:[Object(n.jsx)("div",{className:fn.a.PlaybackOptionLogo,children:ot}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionService,children:"YouTube"}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionDescription,children:"Free access to the YouTube catalog"})]}),Object(n.jsxs)("div",{className:fn.a.PlaybackOption,onClick:function(){window.MusicKit.getInstance().musicUserToken?(e.dispatch({type:"search/toggleServiceOff",payload:{serviceAppleMusic:!0}}),t.push("/app/search"),i()):s.appleMusic.api.authorize()},disabled:!s.appleMusic.api,children:[Object(n.jsx)("div",{className:fn.a.PlaybackOptionLogo,children:ut}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionService,children:"Apple Music"}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionDescription,children:"Connect your Apple Music account"})]}),Object(n.jsxs)("div",{className:fn.a.PlaybackOption,onClick:function(){e.dispatch({type:"search/toggleServiceOff",payload:{serviceAudius:!0}}),t.push("/app/search"),i()},children:[Object(n.jsx)("div",{className:fn.a.PlaybackOptionLogo,children:pt}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionService,children:"Audius"}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionDescription,children:"Free access to the Audius catalog"})]}),Object(n.jsxs)("div",{className:fn.a.PlaybackOption,onClick:function(){e.dispatch({type:"search/toggleServiceOff",payload:{serviceJukeboxRadio:!0}}),t.push("/app/search"),i()},children:[Object(n.jsx)("div",{className:fn.a.PlaybackOptionLogo,children:xn}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionService,children:"Library"}),Object(n.jsx)("div",{className:fn.a.PlaybackOptionDescription,children:"Upload or search files in your cloud storage"})]})]})]})})]})})),On=a(24),mn=a.n(On);var yn=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,lastUpQueueUuids:e.lastUpQueueUuids,nextUpQueueUuids:e.nextUpQueueUuids,playback:e.playback}}))((function(e){var t,a,s,c,i,o,u,l,p=e.stream,b=e.queueMap[p.nowPlayingUuid],j=e.playback,v=null===b||void 0===b||null===(t=b.track)||void 0===t?void 0:t.imageUrl,h=null===p||void 0===p||null===(a=p.nowPlaying)||void 0===a?void 0:a.track,f=ee(e.lastUpQueueUuids[e.lastUpQueueUuids.length-1],e.queueMap),x=ee(e.nextUpQueueUuids[0],e.queueMap),k=Object(r.useState)(0),O=Object(d.a)(k,2),m=(O[0],O[1]);return(null===p||void 0===p?void 0:p.nowPlaying)&&1!==(null===p||void 0===p||null===(s=p.nowPlaying)||void 0===s?void 0:s.index)&&!f&&window.location.reload(),Object(r.useEffect)((function(){var e=setInterval((function(){m((function(e){return e+1}))}),100);return function(){clearInterval(e)}}),[]),Object(n.jsx)("div",{className:mn.a.Player,children:Object(n.jsxs)("div",{className:mn.a.QueueItemContainer,children:[Object(n.jsxs)("div",{className:mn.a.QueueItemLast,children:[Object(n.jsx)("div",{className:mn.a[null===f||void 0===f||null===(c=f.track)||void 0===c?void 0:c.service],children:Object(n.jsx)("img",{alt:"",src:null===f||void 0===f||null===(i=f.track)||void 0===i?void 0:i.imageUrl})}),Object(n.jsx)("h5",{children:(null===f||void 0===f||null===(o=f.track)||void 0===o?void 0:o.name)||"Nothing..."})]}),Object(n.jsxs)("div",{className:mn.a.QueueItemCurrent,children:[Object(n.jsx)("div",{className:[mn.a.LargeImgContainer,mn.a[null===h||void 0===h?void 0:h.service]].join(" "),children:Object(n.jsx)("img",{alt:"",src:v})}),Object(n.jsxs)("div",{className:mn.a.PlaybackControls,children:[Object(n.jsx)("button",{onClick:e.prevTrack,disabled:!j.controlsEnabled,children:_a}),Object(n.jsx)("button",{onClick:e.nextTrack,disabled:!j.controlsEnabled,children:wa})]}),Object(n.jsx)("h5",{children:null===h||void 0===h?void 0:h.name}),Object(n.jsx)("h6",{children:null===h||void 0===h?void 0:h.artistName})]}),Object(n.jsxs)("div",{className:mn.a.QueueItemNext,children:[Object(n.jsx)("div",{className:mn.a[null===x||void 0===x||null===(u=x.track)||void 0===u?void 0:u.service],children:Object(n.jsx)("img",{alt:"",src:null===x||void 0===x||null===(l=x.track)||void 0===l?void 0:l.imageUrl})}),Object(n.jsx)("h5",{children:(null===x||void 0===x?void 0:x.track.name)||"Nothing..."})]})]})})})),gn=a(96),Cn=a.n(gn);var wn=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap}}))((function(e){var t,a,r,s=e.stream,c=e.queueMap[s.nowPlayingUuid],i=null===c||void 0===c||null===(t=c.track)||void 0===t?void 0:t.imageUrl,o=null===s||void 0===s||null===(a=s.nowPlaying)||void 0===a||null===(r=a.track)||void 0===r?void 0:r.name;return Object(n.jsxs)("div",{className:Cn.a.MiniPlayer,children:[Object(n.jsx)("h3",{children:"Player"}),i&&Object(n.jsx)("img",{alt:"",src:i}),o?Object(n.jsx)("p",{children:o}):Object(n.jsx)("p",{children:"Nothing is playing..."})]})})),_n=a(71),Mn=(a(198),a(49)),Pn=a.n(Mn);var Sn=Object(ht.b)((function(e){return{userSettings:e.userSettings}}))((function(e){var t=e.isOpen,a=e.closeModal,s=Object(r.useState)(!0),c=Object(d.a)(s,2),i=c[0];return c[1],e.userSettings?Object(n.jsxs)(Ut.a,{isOpen:t,ariaHideApp:!1,className:Pn.a.Modal,overlayClassName:Pn.a.ModalOverlay,children:[Object(n.jsx)("button",{className:Pn.a.CloseModal,onClick:a,children:lt}),Object(n.jsxs)("div",{className:Pn.a.Body,children:[Object(n.jsx)("h3",{children:"Settings"}),Object(n.jsx)("a",{href:e.userSettings.spotify.authorizationUrl,children:"Connect your Spotify Premium account."}),Object(n.jsx)("a",{href:"#apple-music",onClick:function(){var e=window.MusicKit.getInstance();e.musicUserToken||e.authorize()},children:"Connect your Apple Music account."}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox",checked:e.userSettings.idleQueue,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{idleQueue:t.target.checked}}),N("idle_after_now_playing",t.target.checked)},disabled:!i}),"Idle After Queue"]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox",checked:e.userSettings.speakVoice,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{speakVoice:t.target.checked}}),N("mute_voice_recordings",t.target.checked)},disabled:!i}),"Speak Voice Recordings"]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox",checked:e.userSettings.focusMode,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{focusMode:t.target.checked}}),N("focus_mode",t.target.checked)},disabled:!i}),"Focus Mode"]})]})]})]}):Object(n.jsx)(n.Fragment,{})})),An=a(38),Nn=a.n(An),Ln=Object(n.jsxs)("svg",{width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M32.5 64C49.897 64 64 49.897 64 32.5C64 15.103 49.897 1 32.5 1C15.103 1 1 15.103 1 32.5C1 49.897 15.103 64 32.5 64Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M26 20L45 32.5L26 45V20Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Un=Object(n.jsxs)("svg",{width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M32.5 64C49.897 64 64 49.897 64 32.5C64 15.103 49.897 1 32.5 1C15.103 1 1 15.103 1 32.5C1 49.897 15.103 64 32.5 64Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M26 20V45M39 45V20",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Bn=Object(n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z",fill:"white",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});var Tn=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,playback:e.playback}}))((function(e){var t,a,s=e.playbackControls,c=e.stream,i=e.queueMap[c.nowPlayingUuid],o=e.playback,u=o.volumeLevel.audio,l=(!i||"paused"===i.status||o.controlsEnabled,!o.controlsEnabled),p=null===i||void 0===i||null===(t=i.track)||void 0===t?void 0:t.service,b=Object(r.useState)(!1),j=Object(d.a)(b,2),v=j[0],h=j[1];return p===D?a=it:p===q?a=ot:p===Q?a=ut:p===W?a=rt:p===R&&(a=dt),Object(n.jsxs)("div",{className:Nn.a.BottomBar,children:[Object(n.jsx)("div",{className:Nn.a.ProgressBarContainer,children:Object(n.jsx)(Fa,{queue:i,mode:"player",playbackControls:e.playbackControls,allowMarkerSeek:!0,allowMarkerDelete:!1,allowIntervalPlay:!1,allowIntervalDelete:!1})}),Object(n.jsx)("div",{className:Nn.a.Settings,children:Object(n.jsx)("button",{onClick:function(){h(!0)},children:Bn})}),Object(n.jsx)(Sn,{isOpen:v,closeModal:function(){h(!1)}}),Object(n.jsx)("button",{className:Nn.a.Volume,onClick:function(){var t=I(u);!function(e,t,a){var n;window.MusicKit.getInstance().player.volume=a,e.spotifyApi.setVolume(100*a),e.youTubeApi.setVolume(100*a);var r=null===t||void 0===t||null===(n=t.track)||void 0===n?void 0:n.uuid,s=e.files[r];try{s&&(s.all.volume=a,s.drums.volume=a,s.vocals.volume=a,s.bass.volume=a,s.other.volume=a)}catch(c){}try{s&&(s.volume=a)}catch(c){}}(o,i,t),e.dispatch({type:"playback/cycleVolumeLevelAudio"})},children:Object(n.jsx)(_n.a,{value:100*u,circleRatio:.75,strokeWidth:3,styles:Object(_n.b)({rotation:.625,strokeLinecap:"butt",pathColor:"#0047FF",trailColor:"#EAEAEA",pathTransitionDuration:.15}),children:Object(n.jsx)("div",{className:Nn.a.IconContainer,children:a})})}),Object(n.jsxs)("div",{className:Nn.a.Playback,children:[Object(n.jsx)("button",{onClick:function(e){l||s.prevTrack()},disabled:l,children:_a}),Object(n.jsx)("button",{onClick:function(){l||("played"===(null===i||void 0===i?void 0:i.status)?s.pause():"paused"===(null===i||void 0===i?void 0:i.status)?s.play():s.nextTrack())},disabled:l,children:i&&"played"===i.status?Un:Ln}),Object(n.jsx)("button",{onClick:function(e){l||s.nextTrack()},disabled:l,children:wa})]})]})})),Fn=a(27),In=a.n(Fn),Qn=Object(n.jsxs)("svg",{width:"38",height:"38",viewBox:"0 0 213 213",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("rect",{width:"213",height:"213",fill:"#0047FF"}),Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.9999 172.354L65.9999 140.822C93.3189 140.822 115.465 118.675 115.465 91.3561L115.465 91.3535L147 91.3535L147 91.3544C147 136.089 110.735 172.354 66 172.354C66 172.354 65.9999 172.354 65.9999 172.354Z",fill:"white"}),Object(n.jsx)("circle",{cx:"130.924",cy:"56.7267",r:"16.0763",fill:"white"})]});var Dn=Object(ht.b)((function(e){return{sideBar:e.sideBar}}))((function(e){var t,a=e.sideBar,s=Object(r.useState)(0),c=Object(d.a)(s,2),i=(c[0],c[1]),o=function(t){e.dispatch({type:"sideBar/selectTab",payload:{tab:t}})};return"search"===a.tab?t="165px":"queue"===a.tab?t="229px":"player"===a.tab?t="293px":"feed"===a.tab&&(t="357px"),Object(n.jsxs)("div",{className:In.a.SideBar,children:[Object(n.jsx)("div",{className:In.a.Logo,children:Qn}),Object(n.jsxs)("div",{className:In.a.MenuContainer,children:[Object(n.jsx)("div",{className:In.a.Block,style:{top:t}}),Object(n.jsxs)("ul",{className:In.a.Menu,onClick:function(e){i((function(e){return e+1}))},children:[Object(n.jsx)("li",{className:"search"===a.tab&&In.a.LiSelected||"",children:Object(n.jsx)(at.b,{to:"/app/search",onClick:function(){o("search")},style:{color:"#000"},children:"Search"})}),Object(n.jsx)("li",{className:"queue"===a.tab&&In.a.LiSelected||"",children:Object(n.jsx)(at.b,{to:"/app/queue",onClick:function(){o("queue")},style:{color:"#000"},children:"Queue"})}),Object(n.jsx)("li",{className:"player"===a.tab&&In.a.LiSelected||"",children:Object(n.jsx)(at.b,{to:"/app/player",onClick:function(){o("player")},style:{color:"#000"},children:"Player"})}),Object(n.jsx)("li",{className:"feed"===a.tab&&In.a.LiSelected||"",children:Object(n.jsx)(at.b,{to:"/app/feed",onClick:function(){o("feed")},style:{color:"#000"},children:"Feed"})})]})]})]})})),qn=a(33),Rn=a.n(qn);var Wn=Object(ht.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,nextUpQueueUuids:e.nextUpQueueUuids}}))((function(e){var t=e.stream,a=e.queueMap[t.nowPlayingUuid],s=e.nextUpQueueUuids,c=Object(r.useState)(!1),i=Object(d.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(!1),p=Object(d.a)(l,2),b=p[0],j=p[1],v=function(t){e.dispatch({type:"sideBar/selectTab",payload:{tab:t}})};return Object(r.useEffect)((function(){"played"!==(null===a||void 0===a?void 0:a.status)&&"paused"!==(null===a||void 0===a?void 0:a.status)&&!s.length&&!b&&(u(!0),j(!0))}),[a,s,b]),Object(n.jsxs)("div",{className:Rn.a.Session,children:[Object(n.jsx)(kn,{isOpen:o,closeModal:function(){u(!1)}}),Object(n.jsxs)("div",{className:Rn.a.Top,children:[Object(n.jsx)(Dn,{}),Object(n.jsx)("div",{className:Rn.a.Content,children:Object(n.jsxs)(xt.c,{children:[Object(n.jsx)(xt.a,{path:"/app/feed",children:Object(n.jsx)(ra,{playbackControls:e.playbackControls})}),Object(n.jsx)(xt.a,{path:"/app/player",children:Object(n.jsx)("div",{className:Rn.a.MainContent,children:Object(n.jsx)(yn,{nextTrack:e.playbackControls.nextTrack,prevTrack:e.playbackControls.prevTrack,seek:e.playbackControls.seek,pause:e.playbackControls.pause,play:e.playbackControls.play})})}),Object(n.jsxs)(xt.a,{path:"/app/queue",children:[Object(n.jsx)("div",{className:Rn.a.PrimaryContent,children:Object(n.jsx)(Ka,{playbackControls:e.playbackControls})}),Object(n.jsx)(at.b,{to:"/app/player",onClick:function(){v("player")},style:{textDecoration:"none",color:"#000"},children:Object(n.jsx)("div",{className:Rn.a.SecondaryContent,children:Object(n.jsx)(wn,{})})})]}),Object(n.jsxs)(xt.a,{path:"/app/search",children:[Object(n.jsx)("div",{className:Rn.a.PrimaryContent,children:Object(n.jsx)(vn,{})}),Object(n.jsx)(at.b,{to:"/app/queue",onClick:function(){v("queue")},style:{textDecoration:"none",color:"#000"},children:Object(n.jsx)("div",{className:Rn.a.SecondaryContent,children:Object(n.jsx)($a,{})})})]})]})})]}),Object(n.jsx)(Tn,{playbackControls:e.playbackControls})]})}));var Hn=function(e){return Object(n.jsxs)(xt.c,{children:[Object(n.jsx)(xt.a,{path:"/app/:content",children:Object(n.jsx)(Wn,{playbackControls:e.playbackControls})}),Object(n.jsx)(xt.a,{path:"/u/:username",children:Object(n.jsx)("span",{children:"PROFILE"})}),Object(n.jsx)(xt.a,{path:"/spotify",children:Object(n.jsx)(Ot,{})}),Object(n.jsx)(xt.a,{children:Object(n.jsx)(Wn,{playbackControls:e.playbackControls})})]})},En=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return a=e.sent,e.next=5,k(t);case 5:n=e.sent,Ge.dispatch(a.redux),Ge.dispatch(n.redux);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vn=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a=document.createElement("script");a.src=t,a.async=!0,a.onload=function(){e()},document.body.appendChild(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zn=a(199);var zn=Object(ht.b)((function(e){return{playback:e.playback,queueMap:e.queueMap,lastUpQueueUuids:e.lastUpQueueUuids,nextUpQueueUuids:e.nextUpQueueUuids,userSettings:e.userSettings}}))((function(e){var t,a,s=e.playback,c=e.userSettings,i=ee(e.lastUpQueueUuids[0],e.queueMap),o=ee(e.nextUpQueueUuids[0],e.queueMap),p=e.queueMap[s.nowPlayingUuid],b=Object(r.useState)(!1),j=Object(d.a)(b,2),v=j[0],h=j[1],f=Object(r.useState)(!1),x=Object(d.a)(f,2),k=x[0],O=x[1],m=Object(r.useState)(void 0),y=Object(d.a)(m,2),g=y[0],N=y[1],L=Object(r.useState)({}),U=Object(d.a)(L,2),T=U[0],F=U[1],I=Object(r.useState)({}),E=Object(d.a)(I,2),V=E[0],Z=E[1],z=function(e,t){var a=null===p||void 0===p?void 0:p.playbackIntervals,n=a?a[a.length-1]:void 0;return(null===p||void 0===p?void 0:p.track)&&(p.track.service===W||p.track.service===R||p.track.service===D&&!(null===e||void 0===e?void 0:e.track)||p.track.service===D&&e.track.service!==D&&(!t||n.endPosition!==p.durationMilliseconds&&t)||p.track.service===Q&&!(null===e||void 0===e?void 0:e.track)||p.track.service===Q&&(null===e||void 0===e?void 0:e.track.service)!==Q&&(!t||n.endPosition!==p.durationMilliseconds&&t)||p.track.service===q&&!(null===e||void 0===e?void 0:e.track)||p.track.service===q&&e.track.service!==q&&(!t||n.endPosition!==p.durationMilliseconds&&t))},J=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,r,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:if(z(i,!1)&&Ye(s,p),(null===i||void 0===i||null===(a=i.track)||void 0===a?void 0:a.service)!==W){t.next=9;break}return t.next=6,C(i.track.uuid);case 6:return c=t.sent,t.next=9,e.dispatch(c.redux);case 9:if((null===i||void 0===i||null===(n=i.track)||void 0===n?void 0:n.service)!==R){t.next=12;break}return t.next=12,e.dispatch({type:"playback/loadAudius",payload:{id:i.track.externalId,trackUuid:i.track.uuid}});case 12:return t.next=14,P(null===p||void 0===p?void 0:p.durationMilliseconds);case 14:return o=t.sent,t.next=17,e.dispatch(o.redux);case 17:return t.next=19,e.dispatch({type:"stream/prevTrack"});case 19:return t.next=21,e.dispatch({type:"playback/start"});case 21:return t.next=23,e.dispatch({type:"playback/enable"});case 23:return t.next=25,En(null===i||void 0===i||null===(r=i.track)||void 0===r?void 0:r.uuid);case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),G=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:if(z(o,!1)&&Ye(s,p),(null===o||void 0===o?void 0:o.track.service)!==W){t.next=9;break}return t.next=6,C(o.track.uuid);case 6:return n=t.sent,t.next=9,e.dispatch(n.redux);case 9:if((null===o||void 0===o?void 0:o.track.service)!==R){t.next=12;break}return t.next=12,e.dispatch({type:"playback/loadAudius",payload:{id:o.track.externalId,trackUuid:o.track.uuid}});case 12:return null===o||void 0===o||o.track.service,t.next=15,w(null===p||void 0===p?void 0:p.durationMilliseconds,!1);case 15:return r=t.sent,t.next=18,e.dispatch(r.redux);case 18:return t.next=20,e.dispatch({type:"stream/nextTrack"});case 20:return t.next=22,e.dispatch({type:"playback/start"});case 22:return t.next=24,e.dispatch({type:"playback/enable"});case 24:return t.next=26,En(null===o||void 0===o||null===(a=o.track)||void 0===a?void 0:a.uuid);case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,r,c,i=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:void 0,t.next=3,e.dispatch({type:"playback/disable"});case 3:return void 0===a?n=p.startedAt:(r=new Date,c=r.getTime(),n=c-a),t.next=6,e.dispatch({type:"queue/update",payload:{queues:[Object(H.a)(Object(H.a)({},p),{},{startedAt:n})]}});case 6:if(p.startedAt=n,$e(s,p),void 0!==a){t.next=14;break}return t.next=11,S(n,p.durationMilliseconds);case 11:if(400!==t.sent.system.status){t.next=14;break}throw new Error("Invalid scan! Code needs to prevent this!");case 14:return t.next=16,e.dispatch({type:"playback/addToQueueReschedule"});case 16:return t.next=18,e.dispatch({type:"playback/enable"});case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y={nextTrack:G,prevTrack:J,seek:K,pause:function(){var t=Object(l.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.dispatch({type:"playback/disable"});case 4:return t.next=6,_(p.durationMilliseconds);case 6:return a=t.sent,t.next=9,e.dispatch(a.redux);case 9:return t.next=11,e.dispatch({type:"playback/addToQueueReschedule"});case 11:return Ye(s,p),clearTimeout(T),t.next=15,e.dispatch({type:"playback/enable"});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),play:function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,r,c,i,o=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:void 0,t.next=3,e.dispatch({type:"playback/disable"});case 3:return void 0===a?n=void 0:(r=new Date,c=r.getTime(),n=c-a),t.next=6,M(n,p.durationMilliseconds);case 6:return i=t.sent,t.next=9,e.dispatch(i.redux);case 9:if(s.isPlaying){t.next=13;break}return t.next=12,e.dispatch({type:"playback/enable"});case 12:return t.abrupt("return");case 13:return t.next=15,e.dispatch({type:"playback/addToQueueReschedule"});case 15:return Xe(s,p),t.next=18,e.dispatch({type:"playback/enable"});case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},X=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:return t.next=4,w(null===p||void 0===p?void 0:p.durationMilliseconds,!0);case 4:return a=t.sent,Z(a.redux.payload),t.next=8,e.dispatch({type:"playback/addToQueue"});case 8:tt(s,p,o),n=Date.now()-p.startedAt,r=p.durationMilliseconds-n,c=setTimeout((function(){$()}),r),clearTimeout(T),F(c);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=Object(l.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return z(o,!0)&&Ye(s,p),s.queuedUp&&et(s,p),t.next=5,e.dispatch({type:"playback/plannedNextTrack",payload:{payload:V}});case 5:return t.next=7,e.dispatch({type:"playback/enable"});case 7:return t.next=9,En(null===o||void 0===o||null===(a=o.track)||void 0===a?void 0:a.uuid);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){te(),ae()}),[]);var te=function(){window.onSpotifyWebPlaybackSDKReady=function(){O(!0)},Vn("https://sdk.scdn.co/spotify-player.js")};Object(r.useEffect)((function(){if(k){var t=new window.Spotify.Player({name:"Jukebox Radio",getOAuthToken:function(t){A().then((function(a){var n=a.data.spotify.accessToken;if(n){t(n);var r=new Zn;r.setAccessToken(a.data.spotify.accessToken),e.dispatch({type:"playback/spotify",payload:{spotifyApi:r}})}}))}});t.addListener("ready",(function(e){var t=e.device_id;N(t)})),t.addListener("player_state_changed",(function(t){Ge.getState().playback.loaded.spotify||e.dispatch({type:"playback/loaded",payload:{service:"spotify"}})})),t.connect()}}),[k]),Object(r.useEffect)((function(){g&&(!function(e,t){setTimeout((function(){e.spotifyApi.transferMyPlayback([t])}),1e3)}(s,g),e.dispatch({type:"playback/enable"}))}),[g]);var ae=function(){Vn("https://js-cdn.music.apple.com/musickit/v1/musickit.js").then((function(){h(!0)}))};Object(r.useEffect)((function(){v&&window.MusicKit.configure({developerToken:c.appleMusic.token,app:{name:"Jukebox Radio",build:"0.0.1"}}).addEventListener("playbackStateDidChange",(function(e){}))}),[v]);var ne=p,re=(null===ne||void 0===ne||null===(t=ne.track)||void 0===t?void 0:t.service)===q,se=re?Math.floor(ne.playbackIntervals[0].startPosition/1e3):null,ce=re?null===ne||void 0===ne||null===(a=ne.track)||void 0===a?void 0:a.externalId:null,ie={height:"135",width:"240",playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1,origin:"jukeboxrad.io",playsinline:1,start:se}};return Object(r.useEffect)((function(){if("played"===(null===p||void 0===p?void 0:p.status)&&s.isPlaying&&!s.addToQueueTimeoutId&&p){var t=Date.now()-p.startedAt,a=p.durationMilliseconds-t,n=setTimeout((function(){X()}),a-5e3);e.dispatch({type:"playback/addToQueueScheduled",payload:{addToQueueTimeoutId:n}});var r=B(p,p.startedAt)[1];if(r){var c=setTimeout((function(){K()}),r);e.dispatch({type:"playback/nextSeekScheduled",payload:{nextSeekTimeoutId:c}})}}}),[s]),Object(r.useEffect)((function(){"played"===(null===p||void 0===p?void 0:p.status)&&!s.isPlaying&&s.isReady&&(null===p||void 0===p?void 0:p.track)&&(e.dispatch({type:"playback/started"}),Ke(s,p))}),[s]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{style:{display:"none"},children:Object(n.jsx)(ft.a,{videoId:ce,opts:ie,onReady:function(t){var a=t.target;e.dispatch({type:"playback/loaded",payload:{service:"youTube"}}),s.youTubeAutoplay&&(a.playVideo(),e.dispatch({type:"playback/youTubeTriggerAutoplay",payload:{autoplay:!1}})),e.dispatch({type:"playback/youTube",payload:{youTubeApi:a}})},onPause:function(){},onPlay:function(){}})}),Object(n.jsx)(Hn,{playbackControls:Y})]})})),Jn=a(204),Gn=a(97);var Kn=function(){var e=Object(r.useState)("initial"),t=Object(d.a)(e,2),a=t[0],s=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t,a,n,r,c,i,o,l,d,p,b,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:if(e.sent){e.next=6;break}return s("unauthenticated"),e.abrupt("return");case 6:return s("authenticated"),e.next=9,A();case 9:return a=e.sent,e.next=12,Ge.dispatch({type:"user/get-settings",userSettings:a.data});case 12:return e.next=14,g();case 14:return a=e.sent,e.next=17,Ge.dispatch(a.redux);case 17:return n=Ge.getState(),r=n.stream,c=n.queueMap,i=c[r.nowPlayingUuid],e.next=20,Ge.dispatch({type:"playback/mount",payload:{stream:r}});case 20:if((null===(o=null===i||void 0===i?void 0:i.track)||void 0===o?void 0:o.service)!==W){e.next=28;break}return l=o.uuid,e.next=25,C(l);case 25:return a=e.sent,e.next=28,Ge.dispatch(a.redux);case 28:if((null===o||void 0===o?void 0:o.service)!==R){e.next=31;break}return e.next=31,Ge.dispatch({type:"playback/loadAudius",payload:{id:o.externalId,trackUuid:o.uuid}});case 31:return e.next=33,L();case 33:return a=e.sent,e.next=36,Ge.dispatch(a.redux);case 36:if(!(null===i||void 0===i||null===(t=i.track)||void 0===t?void 0:t.uuid)){e.next=47;break}return e.next=39,x(null===i||void 0===i||null===(d=i.track)||void 0===d?void 0:d.uuid);case 39:return b=e.sent,e.next=42,Ge.dispatch(b.redux);case 42:return e.next=44,k(null===i||void 0===i||null===(p=i.track)||void 0===p?void 0:p.uuid);case 44:return j=e.sent,e.next=47,Ge.dispatch(j.redux);case 47:s("ready");case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Jn.a.addDefaultLocale(Gn),function(){e.apply(this,arguments)}(),"serviceWorker"in navigator&&navigator.serviceWorker.register("worker.js",{scope:"."}).then((function(e){console.log("Worker registration successful",e.scope)})),console.log(window.location.pathname.substring(5)),Ge.dispatch({type:"sideBar/selectTab",payload:{tab:window.location.pathname.substring(5)}}),window.addEventListener("beforeunload",(function(e){e.preventDefault();var t=Ge.getState(),a=t.stream,n=t.queueMap[a.nowPlayingUuid];"played"===n.status&&(_(),Ye(t.playback,n))}))}),[]),"initial"===a?Object(n.jsx)(n.Fragment,{}):"unauthenticated"===a?Object(n.jsx)(at.a,{children:Object(n.jsx)(ht.a,{store:Ge,children:Object(n.jsx)(vt,{})})}):"authenticated"===a?Object(n.jsx)(at.a,{children:Object(n.jsx)(ht.a,{store:Ge,children:Object(n.jsx)("div",{style:{textAlign:"center",lineHeight:"100vh"},children:"Loading..."})})}):Object(n.jsx)(at.a,{children:Object(n.jsx)(ht.a,{store:Ge,children:Object(n.jsx)("div",{className:"app-main-container",children:Object(n.jsx)(zn,{})})})})},Yn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,206)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(Kn,{})}),document.getElementById("root")),Yn()},22:function(e,t,a){e.exports={FeedApp:"FeedApp_FeedApp__2YJHa",ContentContainer:"FeedApp_ContentContainer__35Ble",ImageContainer:"FeedApp_ImageContainer__2bkPv",FeedWrapper:"FeedApp_FeedWrapper__5dQdY",Feed:"FeedApp_Feed__3NWaq",ComposeBar:"FeedApp_ComposeBar__1Ruxz",NotationButton:"FeedApp_NotationButton__I_SwR",RecordButton:"FeedApp_RecordButton__3saQA",SubmitButton:"FeedApp_SubmitButton__2uOQ-",spotify:"FeedApp_spotify__uumF9",apple_music:"FeedApp_apple_music__1nUmb",youtube:"FeedApp_youtube__1OvA_",audius:"FeedApp_audius__2vOKN",jukebox_radio:"FeedApp_jukebox_radio__3q45Z"}},23:function(e,t,a){e.exports={Modal:"Upload_Modal__2GjDz",ModalOverlay:"Upload_ModalOverlay__wVh9q",CloseModal:"Upload_CloseModal__16yvT",Login:"Upload_Login__1Djzz",FormBlock:"Upload_FormBlock__2ls6S"}},24:function(e,t,a){e.exports={Player:"Player_Player__Xx8fy",QueueItemContainer:"Player_QueueItemContainer__2jZWW",QueueItemLast:"Player_QueueItemLast__1ekLm",QueueItemNext:"Player_QueueItemNext__T7aHE",QueueItemCurrent:"Player_QueueItemCurrent__1-orh",LargeImgContainer:"Player_LargeImgContainer__3wWQT",PlaybackControls:"Player_PlaybackControls__2qk0A",ProgressBarContainer:"Player_ProgressBarContainer__24qbM",spotify:"Player_spotify__2YqiE",apple_music:"Player_apple_music__1BP8z",youtube:"Player_youtube__3c7mI",audius:"Player_audius__diZuI",jukebox_radio:"Player_jukebox_radio__1tgS_"}},27:function(e,t,a){e.exports={SideBar:"SideBar_SideBar__2JzAY",Logo:"SideBar_Logo__3Rpb1",MenuContainer:"SideBar_MenuContainer__Vo66M",Menu:"SideBar_Menu__2AXUO",LiSelected:"SideBar_LiSelected__I4UGd",Block:"SideBar_Block__pWG7t"}},29:function(e,t,a){e.exports={QueueCollection:"QueueCollection_QueueCollection__2uTSJ",QueueCollectionMain:"QueueCollection_QueueCollectionMain__2fm5w",AlbumArtContainer:"QueueCollection_AlbumArtContainer__1LjHs",QueueInformation:"QueueCollection_QueueInformation__3MDGa",ButtonContainer:"QueueCollection_ButtonContainer__1NOfG",DurationContainer:"QueueCollection_DurationContainer__2u08t"}},30:function(e,t,a){e.exports={ProgressBarMarker:"ProgressBarMarker_ProgressBarMarker__157Kt",ProgressBarMarkerPointer:"ProgressBarMarker_ProgressBarMarkerPointer__1WtJ4",ProgressBarMarkerPointerGrey:"ProgressBarMarker_ProgressBarMarkerPointerGrey__1nISi",ProgressBarMarkerPointerExtensionGrey:"ProgressBarMarker_ProgressBarMarkerPointerExtensionGrey__2gIcW",ProgressBarMarkerPointerExtension:"ProgressBarMarker_ProgressBarMarkerPointerExtension__23ZOu",HoverContainer:"ProgressBarMarker_HoverContainer__2DQHs",ProgressBarMarkerName:"ProgressBarMarker_ProgressBarMarkerName__3XKgL",Delete:"ProgressBarMarker_Delete__qeuaM",Play:"ProgressBarMarker_Play__DOjgc",Stop:"ProgressBarMarker_Stop__1-uih"}},31:function(e,t,a){e.exports={QueueTrackHead:"QueueTrack_QueueTrackHead__1p7iu",QueueTrackChild:"QueueTrack_QueueTrackChild__1kwMH",AlbumArtContainer:"QueueTrack_AlbumArtContainer__31HWs",QueueInformationHead:"QueueTrack_QueueInformationHead__T9dRY",QueueInformationChild:"QueueTrack_QueueInformationChild__3laIO",TrackInfoDuration:"QueueTrack_TrackInfoDuration__3KwoI",ButtonContainer:"QueueTrack_ButtonContainer__1X5d4",ButtonHead:"QueueTrack_ButtonHead__1L5IW",ButtonChild:"QueueTrack_ButtonChild__1CWxx",DurationContainerChild:"QueueTrack_DurationContainerChild__3O650",DurationContainerHead:"QueueTrack_DurationContainerHead__3tRZT"}},32:function(e,t,a){e.exports={SearchResult:"SearchResult_SearchResult__djXCo",SearchResultSubmitted:"SearchResult_SearchResultSubmitted__2krh6",ImageParent:"SearchResult_ImageParent__1wD2d",ResultInformation:"SearchResult_ResultInformation__1iB5a",ServiceLogo:"SearchResult_ServiceLogo__38ftd",AddButton:"SearchResult_AddButton__1rvJ4",AddButtonInverted:"SearchResult_AddButtonInverted__bx1zo",ggSpinner:"SearchResult_ggSpinner__iNeQG",spinner:"SearchResult_spinner__u3axZ"}},33:function(e,t,a){e.exports={Session:"Session_Session__3G52u",Top:"Session_Top__3uCH7",Content:"Session_Content__3lPl4",MainContent:"Session_MainContent__2jQHq",PrimaryContent:"Session_PrimaryContent__3yGCf",SecondaryContent:"Session_SecondaryContent__1Uvc2"}},34:function(e,t,a){e.exports={Modal:"ABCNotationCompose_Modal__3HIof",ModalOverlay:"ABCNotationCompose_ModalOverlay__1KyWJ",CloseModal:"ABCNotationCompose_CloseModal__3DepO",ContentContainer:"ABCNotationCompose_ContentContainer__3gDoD",NotationContainer:"ABCNotationCompose_NotationContainer__PAwEe",RenderingContainer:"ABCNotationCompose_RenderingContainer__27LEj",RenderingWrapper:"ABCNotationCompose_RenderingWrapper__HaopG"}},35:function(e,t,a){e.exports={ProgressAll:"ChildProgressBar_ProgressAll__2IIt8",ProgressSolo:"ChildProgressBar_ProgressSolo__2uX4J",ProgressMuted:"ChildProgressBar_ProgressMuted__QW2lL",ProgressHoverContainerAll:"ChildProgressBar_ProgressHoverContainerAll__13YPC",ProgressHoverContainerMuted:"ChildProgressBar_ProgressHoverContainerMuted__33OBN",ProgressHoverPointerAll:"ChildProgressBar_ProgressHoverPointerAll__1azTz",ProgressHoverPointerMuted:"ChildProgressBar_ProgressHoverPointerMuted__3TOh1",ProgressHoverPurpose:"ChildProgressBar_ProgressHoverPurpose__1v52t",ProgressHoverDelete:"ChildProgressBar_ProgressHoverDelete__2kn7E",HoverContainer:"ChildProgressBar_HoverContainer__GlWxc"}},38:function(e,t,a){e.exports={BottomBar:"BottomBar_BottomBar__3MLzc",ProgressBarContainer:"BottomBar_ProgressBarContainer__3JWuw",Playback:"BottomBar_Playback__3N-qW",Settings:"BottomBar_Settings__20SLM",Volume:"BottomBar_Volume__25kUh",IconContainer:"BottomBar_IconContainer__3n8pF"}},45:function(e,t,a){e.exports={ABCNotationDisplayContainer:"ABCNotationDisplay_ABCNotationDisplayContainer__1XIAg",ABCNotationDisplay:"ABCNotationDisplay_ABCNotationDisplay__2WbrS",HoverBuffer:"ABCNotationDisplay_HoverBuffer__23EQ0",HoverContainer:"ABCNotationDisplay_HoverContainer__2-ckV"}},46:function(e,t,a){e.exports={VoiceRecordingContainer:"VoiceRecording_VoiceRecordingContainer__3KlG9",VoiceRecording:"VoiceRecording_VoiceRecording__29j03",HoverBuffer:"VoiceRecording_HoverBuffer__1o_ZD",HoverContainer:"VoiceRecording_HoverContainer__IkgPO"}},47:function(e,t,a){e.exports={TextCommentContainer:"TextComment_TextCommentContainer__SVUy9",TextComment:"TextComment_TextComment__92FmQ",HoverBuffer:"TextComment_HoverBuffer__3Q-eC",HoverContainer:"TextComment_HoverContainer__2jQUc"}},48:function(e,t,a){e.exports={ParentProgressBar:"ParentProgressBar_ParentProgressBar__2FcI4",ProgressBar:"ParentProgressBar_ProgressBar__uCese",ProgressPointer:"ParentProgressBar_ProgressPointer__2qz3g",ProgressMarkerContainer:"ParentProgressBar_ProgressMarkerContainer__g8qrF"}},49:function(e,t,a){e.exports={Modal:"UserSettings_Modal__3TYHr",ModalOverlay:"UserSettings_ModalOverlay__28qDn",CloseModal:"UserSettings_CloseModal__1AD3L",Body:"UserSettings_Body__1j89O"}},57:function(e,t,a){e.exports={QueueApp:"QueueApp_QueueApp__3OUXI",PlaybackDuration:"QueueApp_PlaybackDuration__1DbyU",AddToQueue:"QueueApp_AddToQueue__1Zpmd"}},68:function(e,t,a){e.exports={NotableText:"NotableText_NotableText__gYPiJ",Popover:"NotableText_Popover__1cHGj"}},70:function(e,t,a){e.exports={MiniQueue:"MiniQueue_MiniQueue__2HfJP"}},8:function(e,t,a){e.exports={TrackDetailApp:"TrackDetailApp_TrackDetailApp__2pNUa",CloseModal:"TrackDetailApp_CloseModal__2ssSn",Preview:"TrackDetailApp_Preview__3QeWE",PreviewImgContainer:"TrackDetailApp_PreviewImgContainer__1Vz4u",PreviewImg:"TrackDetailApp_PreviewImg__1Lb5-",PreviewControlContainer:"TrackDetailApp_PreviewControlContainer__CWL7L",PreviewControl:"TrackDetailApp_PreviewControl__1Buba",PreviewControlDisabled:"TrackDetailApp_PreviewControlDisabled__19mqz",TabButtonContainer:"TrackDetailApp_TabButtonContainer__3N1LG",TabButton:"TrackDetailApp_TabButton__1DxpH",TabButtonActive:"TrackDetailApp_TabButtonActive__3qweT",MotiveContainer:"TrackDetailApp_MotiveContainer__3csY5",MotiveCheckboxContainer:"TrackDetailApp_MotiveCheckboxContainer__mNmTb",Form:"TrackDetailApp_Form__4-ngK",FormLabel:"TrackDetailApp_FormLabel__1_Ctj",FormInput:"TrackDetailApp_FormInput__2RyXX",FormSelect:"TrackDetailApp_FormSelect__2rpk1",FormSubmit:"TrackDetailApp_FormSubmit__1WPZd",Modal:"TrackDetailApp_Modal__1mVpe",ModalOverlay:"TrackDetailApp_ModalOverlay__1lvxm",ModalContent:"TrackDetailApp_ModalContent__t34KR",QueueName:"TrackDetailApp_QueueName__doJks",ProgressBar:"TrackDetailApp_ProgressBar__3T_Ui"}},96:function(e,t,a){e.exports={MiniPlayer:"MiniPlayer_MiniPlayer__w1Mms"}}},[[200,1,2]]]);
//# sourceMappingURL=main.3c7e5b95.chunk.js.map