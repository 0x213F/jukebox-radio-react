{"version":3,"sources":["components/Upload/Upload.module.css","components/Login/Login.module.css","components/Search/Search.module.css","components/Chat/Chat.module.css","components/NotableText/NotableText.module.css","components/TextComment/TextComment.module.css","components/VoiceRecording/VoiceRecording.module.css","components/Queue/Queue.module.css","components/QueueCollection/QueueCollection.module.css","components/QueueTrack/QueueTrack.module.css","config/global.js","utils/network.js","components/Chat/network.js","config/api.js","components/TextComment/network.js","components/VoiceRecording/network.js","components/NotableText/network.js","components/NotableText/NotableText.js","components/TextComment/TextComment.js","components/VoiceRecording/VoiceRecording.js","components/Chat/Chat.js","config/model.js","components/Login/network.js","components/Login/Login.js","components/Queue/network.js","components/QueueTrack/QueueTrack.js","components/QueueCollection/QueueCollection.js","components/Queue/Queue.js","components/Search/network.js","components/SearchResult/SearchResult.js","components/Search/Search.js","components/Upload/network.js","components/Upload/Upload.js","components/Player/network.js","components/Player/Player.js","utils/redux.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","BACKEND_DOMAIN","process","TYPE_GET","TYPE_POST","fetchBackend","a","method","url","data","formData","FormData","Object","entries","key","value","append","requestOptions","headers","token","localStorage","getItem","Authorization","request","Request","fetch","mode","body","response","searchParams","URLSearchParams","set","getUrl","toString","fetchCreateTextComment","text","json","responseJson","fetchTextComments","fetchVoiceRecordings","fetchDeleteTextComment","textCommentUuid","fetchListDeleteTextCommentModifications","fetchCreateVoiceRecording","audioFile","transcriptData","transcriptFinal","fetchDeleteVoiceRecording","voiceRecordingUuid","fetchCreateTextCommentModification","style","anchorOffset","focusOffset","STYLE_CHOICES","NotableText","props","selectableRef","useRef","useState","selectableIsShowable","setSelectableIsShowable","setAnchorOffset","setFocusOffset","handleNotation","e","preventDefault","uuid","create","onTextSelect","selection","window","getSelection","anchorNode","focusNode","offset","parseInt","parentNode","getAttribute","onTextUnselect","updateZIndex","annotation","_svg","zIndex","className","styles","ref","textComment","textCommentText","modifications","startOffset","textCommentHtml","i","length","modification","regSubString","substring","startPtr","styledSubString","endPtr","Notated","show","multiline","color","type","animate","getAnnotationObject","renderTextComment","selectionRef","isOpen","map","index","onSubmit","TextComment","onClick","destroyModifications","destroy","VoiceRecording","handleDelete","voiceRecording","Chat","undefined","_textComments","_setTextComments","_voiceRecordings","_setVoiceRecordings","setText","isRecording","setIsRecording","MicRecorder","bitRate","recorder","useEffect","textCommentsResponse","system","status","voiceRecordingsResponse","loadData","feed","destroyFeedItem","voiceRecordings","filteredTextComments","filter","filteredVoiceRecordings","destroyTextCommentModifications","textCommentIndex","findIndex","t","destroyTextComment","destroyVoiceRecording","createTextComment","push","createTextCommentModification","textCommentModification","sortedModifications","sort","b","useSpeechRecognition","transcript","resetTranscript","Array","isArray","timestampMilliseconds","class","CreateTextComment","name","placeholder","onChange","target","SpeechRecognition","browserSupportsSpeechRecognition","stopListening","stop","getMp3","then","buffer","blob","file","File","lastModified","Date","now","JSON","stringify","startListening","continuous","start","fetchAuthToken","username","password","fetchInitializeStream","Login","setUsername","setPassword","rememberMe","setRememberMe","handleSubmit","access","refresh","setItem","to","FormBlock","fetchListQueues","fetchDeleteQueue","queueUuid","connect","state","stream","lastUp","queue","isNextUp","nowPlaying","indent","parentUuid","QueueTrack","track","isCurrentlyPlayingCollection","isPlaying","reveal","setReveal","toggleReveal","QueueCollection","collection","children","nextUpQueues","lastUpQueues","destroyQueueItem","dispatch","Queue","fetchSearchMusicLibrary","query","providerSpotify","providerYouTube","providerJukeboxRadio","formatTrack","formatAlbum","formatPlaylist","formatVideo","fetchCreateQueue","genericUuid","SearchResult","searchResult","provider","format","addToQueue","Search","searchResults","setSearchResults","setQuery","serviceSpotify","setServiceSpotify","serviceYouTube","setServiceYouTube","serviceJukeboxRadio","setServiceJukeboxRadio","setFormatTrack","setFormatAlbum","setFormatPlaylist","setFormatVideo","checked","fetchCreateTrack","imageFile","trackName","artistName","albumName","Upload","setAudioFile","setImageFile","setTrackName","setArtistName","setAlbumName","files","fetchStream","fetchNextTrack","fetchPauseTrack","fetchPlayTrack","fetchPreviousTrack","fetchScanBackward","fetchScanForward","nextUp","setKey","handlePrevTrack","jsonResponse","startedAt","handleNextTrack","handlePlayTrack","isPaused","playedAt","handlePauseTrack","pausedAt","handleScanBackward","date","epochNow","getTime","proposedStartedAt","console","log","handleScanForward","initialState","_lastPlayed","store","createStore","queues","obj","action","tempVar","filteredQueues","parentIndex","filteredChildren","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e5c3d7df.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Upload\":\"Upload_Upload__tMDig\",\"FormBlock\":\"Upload_FormBlock__2ls6S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__1ujut\",\"FormBlock\":\"Login_FormBlock__S_rix\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__2SQmI\",\"FormBlock\":\"Search_FormBlock__3ZZZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Chat\":\"Chat_Chat__3NjUX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotableText\":\"NotableText_NotableText__1_8Yx\",\"Notated\":\"NotableText_Notated__1OpEa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextComment\":\"TextComment_TextComment__15QHu\",\"Notated\":\"TextComment_Notated__24bZz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VoiceRecording\":\"VoiceRecording_VoiceRecording__10J4X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Queue\":\"Queue_Queue__YTCBa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QueueCollection\":\"QueueCollection_QueueCollection__3PH8C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QueueTrack\":\"QueueTrack_QueueTrack__14e2x\"};","const BACKEND_DOMAIN = process.env.REACT_APP_BACKEND_DOMAIN;\nconst TYPE_GET = 'GET';\nconst TYPE_POST = 'POST';\n\nexport { BACKEND_DOMAIN, TYPE_GET, TYPE_POST }\n","import { BACKEND_DOMAIN } from '../config/global'\n\n\nasync function fetchBackend(method = '', url = '', data = {}) {\n  let response;\n\n  url = BACKEND_DOMAIN + url;\n\n  if(method !== 'GET') {\n\n    // aggregate form data in one place\n    const formData = new FormData();\n    for (const [key, value] of Object.entries(data)) {\n      formData.append(key, value);\n    }\n    // for (const [key, value] of Object.entries(files)) {\n    //   formData.append(key, value);\n    // }\n\n    // authenticate request if possible\n    let requestOptions = {headers: {}}\n    const token = localStorage.getItem('accessToken');\n    if(token) {\n      requestOptions.headers.Authorization = `Bearer ${token}`;\n    }\n    const request = new Request(url, requestOptions);\n\n    // make the request\n    response = await fetch(request, {\n      method: method,\n      mode: 'cors',\n      body: formData,\n    });\n  } else {\n\n    // translate form data for GET\n    let searchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(data)) {\n      searchParams.set(key, value);\n    }\n    const getUrl = url + '/?' + searchParams.toString();\n\n    // authenticate request if possible\n    let requestOptions = {headers: {'Content-Type': 'application/json'}}\n    const token = localStorage.getItem('accessToken');\n    if(token) {\n      requestOptions.headers.Authorization = `Bearer ${token}`;\n    }\n    const request = new Request(getUrl, requestOptions);\n\n    // make the request\n    response = await fetch(request, {\n      method: method,\n      mode: 'cors',\n    });\n  }\n\n  return response;\n}\n\nexport { fetchBackend }\n","import {\n  ENDPOINT_CREATE_TEXT_COMMENT,\n  ENDPOINT_LIST_TEXT_COMMENTS,\n  ENDPOINT_LIST_VOICE_RECORDINGS\n} from '../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n\n/*\n * Fetches...\n */\nconst fetchCreateTextComment = async (text) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_CREATE_TEXT_COMMENT,\n    {text: text},\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchTextComments = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_LIST_TEXT_COMMENTS\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchVoiceRecordings = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_LIST_VOICE_RECORDINGS\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\nexport { fetchCreateTextComment, fetchTextComments, fetchVoiceRecordings }\n","const ENDPOINT_OBTAIN_AUTH_TOKEN = '/auth/obtain-tokens/'\nconst ENDPOINT_REFRESH_AUTH_TOKEN = '/auth/refresh-token/'\nconst ENDPOINT_VERIFY_TOKEN = '/auth/verify-token/'\n\nconst ENDPOINT_CREATE_TEXT_COMMENT = '/comments/text-comment/create/'\nconst ENDPOINT_LIST_TEXT_COMMENTS = '/comments/text-comment/list'\nconst ENDPOINT_UPDATE_TEXT_COMMENT = '/comments/text-comment/update/'\nconst ENDPOINT_DELETE_TEXT_COMMENT = '/comments/text-comment/delete/'\n\nconst ENDPOINT_CREATE_TEXT_COMMENT_MODIFICATION = '/comments/text-comment-modification/create/'\nconst ENDPOINT_LIST_DELETE_TEXT_COMMENT_MODIFICATIONS = '/comments/text-comment-modification/list-delete/'\n\nconst ENDPOINT_CREATE_VOICE_RECORDING = '/comments/voice-recording/create/'\nconst ENDPOINT_LIST_VOICE_RECORDINGS = '/comments/voice-recording/list'\nconst ENDPOINT_DELETE_VOICE_RECORDING = '/comments/voice-recording/delete/'\n\nconst ENDPOINT_LIST_QUEUES = '/streams/queue/list'\nconst ENDPOINT_DELETE_QUEUE = '/streams/queue/delete/'\n\nconst ENDPOINT_CREATE_TRACK = '/music/track/create/'\nconst ENDPOINT_SEARCH_MUSIC = '/music/search'\n\nconst ENDPOINT_CREATE_QUEUE = '/streams/queue/create/'\n\nconst ENDPOINT_GET_STREAM = '/streams/stream/get'\nconst ENDPOINT_INTIALIZE_STREAM = '/streams/stream/initialize/'\nconst ENDPOINT_NEXT_TRACK = '/streams/stream/next-track/'\nconst ENDPOINT_PAUSE_TRACK = '/streams/stream/pause-track/'\nconst ENDPOINT_PLAY_TRACK = '/streams/stream/play-track/'\nconst ENDPOINT_PREVIOUS_TRACK = '/streams/stream/previous-track/'\nconst ENDPOINT_SCAN_BACKWARD = '/streams/stream/scan-backward/'\nconst ENDPOINT_SCAN_FORWARD = '/streams/stream/scan-forward/'\n\nexport {\n  ENDPOINT_OBTAIN_AUTH_TOKEN,\n  ENDPOINT_REFRESH_AUTH_TOKEN,\n  ENDPOINT_VERIFY_TOKEN,\n\n  ENDPOINT_CREATE_TEXT_COMMENT,\n  ENDPOINT_LIST_TEXT_COMMENTS,\n  ENDPOINT_UPDATE_TEXT_COMMENT,\n  ENDPOINT_DELETE_TEXT_COMMENT,\n\n  ENDPOINT_CREATE_TEXT_COMMENT_MODIFICATION,\n  ENDPOINT_LIST_DELETE_TEXT_COMMENT_MODIFICATIONS,\n\n  ENDPOINT_CREATE_VOICE_RECORDING,\n  ENDPOINT_LIST_VOICE_RECORDINGS,\n  ENDPOINT_DELETE_VOICE_RECORDING,\n\n  ENDPOINT_LIST_QUEUES,\n  ENDPOINT_DELETE_QUEUE,\n\n  ENDPOINT_CREATE_TRACK,\n  ENDPOINT_SEARCH_MUSIC,\n\n  ENDPOINT_CREATE_QUEUE,\n\n  ENDPOINT_GET_STREAM,\n  ENDPOINT_INTIALIZE_STREAM,\n  ENDPOINT_NEXT_TRACK,\n  ENDPOINT_PAUSE_TRACK,\n  ENDPOINT_PLAY_TRACK,\n  ENDPOINT_PREVIOUS_TRACK,\n  ENDPOINT_SCAN_BACKWARD,\n  ENDPOINT_SCAN_FORWARD,\n}\n","import {\n  ENDPOINT_DELETE_TEXT_COMMENT,\n  ENDPOINT_UPDATE_TEXT_COMMENT,\n  ENDPOINT_LIST_DELETE_TEXT_COMMENT_MODIFICATIONS,\n} from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n\n/*\n * Fetches...\n */\nexport const fetchDeleteTextComment = async (textCommentUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_DELETE_TEXT_COMMENT,\n    { textCommentUuid: textCommentUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Fetches...\n */\nexport const fetchUpdateTextComment = async (textCommentUuid, text) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_UPDATE_TEXT_COMMENT,\n    { textCommentUuid: textCommentUuid, text: text },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Fetches...\n */\nexport const fetchListDeleteTextCommentModifications = async (textCommentUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_LIST_DELETE_TEXT_COMMENT_MODIFICATIONS,\n    { textCommentUuid: textCommentUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import { ENDPOINT_CREATE_VOICE_RECORDING, ENDPOINT_DELETE_VOICE_RECORDING } from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n\n/*\n * Fetches...\n */\nexport const fetchCreateVoiceRecording = async (audioFile, transcriptData, transcriptFinal) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_CREATE_VOICE_RECORDING,\n    {\n      audioFile: audioFile,\n      transcriptData: transcriptData,\n      transcriptFinal: transcriptFinal,\n    },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchDeleteVoiceRecording = async (voiceRecordingUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_DELETE_VOICE_RECORDING,\n    { voiceRecordingUuid: voiceRecordingUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import {\n  ENDPOINT_CREATE_TEXT_COMMENT_MODIFICATION,\n} from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n\n/*\n * Fetches...\n */\nexport const fetchCreateTextCommentModification = async (textCommentUuid, style, anchorOffset, focusOffset) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_CREATE_TEXT_COMMENT_MODIFICATION,\n    {\n      textCommentUuid: textCommentUuid,\n      style: style,\n      anchorOffset: anchorOffset,\n      focusOffset: focusOffset,\n    },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\nexport const STYLE_UNDERLINE = 'underline';\nexport const STYLE_BOX = 'box';\nexport const STYLE_CIRCLE = 'circle';\nexport const STYLE_HIGHLIGHT = 'highlight';\nexport const STYLE_STRIKE_THROUGH = 'strike-through';\nexport const STYLE_CROSSED_OFF = 'crossed-off';\nexport const STYLE_BRACKET = 'bracket';\n\nexport const STYLE_CHOICES = [\n  STYLE_UNDERLINE,\n  STYLE_BOX,\n  STYLE_CIRCLE,\n  STYLE_HIGHLIGHT,\n  STYLE_STRIKE_THROUGH,\n  STYLE_CROSSED_OFF,\n  STYLE_BRACKET,\n];\n","import React, { useRef, useState } from \"react\";\nimport Popover from 'react-text-selection-popover';\nimport { RoughNotation } from \"react-rough-notation\";\nimport styles from './NotableText.module.css';\nimport {\n  fetchCreateTextCommentModification,\n  STYLE_CHOICES,\n} from './network';\n\n\nfunction NotableText(props) {\n\n  /*\n   * 🏗\n   */\n  const selectableRef = useRef(null);\n\n  const [selectableIsShowable, setSelectableIsShowable] = useState(true);\n  const [anchorOffset, setAnchorOffset] = useState(null);\n  const [focusOffset, setFocusOffset] = useState(null);\n\n  /*\n   * When the user highlights part of the comment.\n   */\n  const handleNotation = async function(e, style) {\n    e.preventDefault();\n    const textCommentUuid = props.data.uuid;\n    const responseJson = await fetchCreateTextCommentModification(\n      textCommentUuid,\n      style,\n      anchorOffset,\n      focusOffset,\n    );\n    props.create(textCommentUuid, responseJson.data);\n    setSelectableIsShowable(false);\n  }\n\n  /*\n   * ...\n   */\n  const onTextSelect = async function() {\n    const selection = window.getSelection();\n\n    // Invalid text selection\n    if(selection.anchorNode !== selection.focusNode) {\n      setSelectableIsShowable(false);\n      setAnchorOffset(null);\n      setFocusOffset(null);\n      return;\n    }\n\n    // NOTE: anchor is where the user starts selecting text, focus is the end\n    //       of the selection.\n    const offset = parseInt(selection.anchorNode.parentNode.getAttribute('offset'));\n    setSelectableIsShowable(true);\n    setAnchorOffset(offset + selection.anchorOffset);\n    setFocusOffset(offset + selection.focusOffset);\n  }\n\n  /*\n   * ...\n   */\n  const onTextUnselect = async function() {\n    setSelectableIsShowable(false);\n    setAnchorOffset(null);\n    setFocusOffset(null);\n  }\n\n  /*\n   * Monkey patch Rough Notation so that the markup is displayed behind\n   * neighboring text.\n   */\n  const updateZIndex = function(annotation) {\n    annotation._svg.style.zIndex = -1;\n  }\n\n  /*\n   * When rendering a text comment, the text has to be displayed along with all\n   * of its annotations. Here the comment string is spliced into many\n   * substrings. If a substring has an accompanying modification, then Rough\n   * Notation is used to display the underline, strike-through, or highlight.\n   */\n  const renderTextComment = function() {\n    const textComment = props.data;\n    const textCommentText = textComment.text;\n    const modifications = textComment.modifications;\n\n    let startOffset = 0,\n        textCommentHtml = <></>;\n    for(let i = 0; i < modifications.length; i++) {\n        let modification = modifications[i];\n\n        const regSubString = textCommentText.substring(\n          startOffset,\n          modification.startPtr\n        )\n        const styledSubString = textCommentText.substring(\n          modification.startPtr,\n          modification.endPtr\n        )\n\n        // BUG: https://github.com/linkstrifer/react-rough-notation/issues/17\n        textCommentHtml = (\n          <>\n            {textCommentHtml}\n            <span offset={startOffset}>{regSubString}</span>\n            <RoughNotation className={styles.Notated}\n                           show={true}\n                           multiline={true}\n                           color=\"red\"\n                           type={modification.type}\n                           animate={modification.animate}\n                           getAnnotationObject={updateZIndex}>\n              {styledSubString}\n            </RoughNotation>\n          </>\n        )\n\n        startOffset = modification.endPtr;\n    }\n\n    const regSubString = textCommentText.substring(\n      startOffset,\n      textCommentText.length\n    )\n\n    textCommentHtml = (\n      <>\n        {textCommentHtml}\n        <span offset={startOffset}>{regSubString}</span>\n      </>\n    )\n\n    return textCommentHtml;\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.NotableText}>\n\n      <p ref={selectableRef}>\n        {renderTextComment()}\n      </p>\n      <Popover selectionRef={selectableRef} onTextSelect={onTextSelect} onTextUnselect={onTextUnselect} isOpen={selectableIsShowable}>\n        {STYLE_CHOICES.map((style, index) => {\n          return (\n            <form key={index} onSubmit={async (e) => { await handleNotation(e, style); }}>\n              <button type=\"submit\">\n                {index}\n              </button>\n            </form>\n          );\n        })}\n      </Popover>\n\n    </div>\n  );\n\n}\n\nexport default NotableText;\n","import React from \"react\";\nimport NotableText from '../NotableText/NotableText'\nimport styles from './TextComment.module.css';\n\n\nfunction TextComment(props) {\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.TextComment}>\n      <NotableText data={props.data} create={props.create}></NotableText>\n\n      <button type=\"button\" onClick={async (e) => { await props.destroyModifications(props.data.uuid); }}>\n        Clear modifications\n      </button>\n\n      <button type=\"button\" onClick={async (e) => { await props.destroy(props.data.uuid); }}>\n        Delete\n      </button>\n    </div>\n  );\n\n}\n\nexport default TextComment;\n","import React from \"react\";\nimport styles from './VoiceRecording.module.css';\nimport { fetchDeleteVoiceRecording } from './network';\n\n\nfunction VoiceRecording(props) {\n\n  /*\n   * When the user deletes a text comment.\n   */\n  const handleDelete = async function(e) {\n    e.preventDefault();\n    const voiceRecordingUuid = props.data.uuid;\n    await fetchDeleteVoiceRecording(voiceRecordingUuid);\n    await props.destroy(voiceRecordingUuid);\n  }\n\n  /*\n   * 🎨\n   */\n  const voiceRecording = props.data;\n  return (\n    <div className={styles.VoiceRecording}>\n      <p><i>\n        {\n          voiceRecording.transcriptFinal === 'null' ?\n          '<transcript not available>' : voiceRecording.transcriptFinal\n        }\n      </i></p>\n      <form onSubmit={async (e) => { await handleDelete(e); }}>\n        <button type=\"submit\">\n          Delete\n        </button>\n      </form>\n    </div>\n  );\n\n}\n\nexport default VoiceRecording;\n","import React, { useState, useEffect } from \"react\";\nimport SpeechRecognition, { useSpeechRecognition } from 'react-speech-recognition'\nimport MicRecorder from 'mic-recorder-to-mp3';\nimport styles from './Chat.module.css';\nimport { fetchCreateTextComment, fetchTextComments, fetchVoiceRecordings } from './network'\nimport {\n  fetchDeleteTextComment,\n  fetchListDeleteTextCommentModifications,\n} from '../TextComment/network'\nimport {\n  fetchCreateVoiceRecording,\n  fetchDeleteVoiceRecording,\n} from '../VoiceRecording/network'\nimport TextComment from '../TextComment/TextComment'\nimport VoiceRecording from '../VoiceRecording/VoiceRecording'\nimport {\n  CLASS_TEXT_COMMENT,\n  CLASS_VOICE_RECORDING\n} from '../../config/model'\n\n\nfunction Chat(props) {\n\n  /*\n   * 🏗\n   */\n  const [_textComments, _setTextComments] = useState(undefined);\n  const [_voiceRecordings, _setVoiceRecordings] = useState(undefined);\n  const [text, setText] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [recorder] = useState(new MicRecorder({ bitRate: 320 }));\n  const [transcriptData] = useState([]);\n\n  // componentDidMount\n  useEffect(() => {\n    async function loadData() {\n      const textCommentsResponse = await fetchTextComments();\n      if(textCommentsResponse.system.status === 200) {\n        _setTextComments(textCommentsResponse.data);\n      }\n\n      const voiceRecordingsResponse = await fetchVoiceRecordings();\n      if(voiceRecordingsResponse.system.status === 200) {\n        _setVoiceRecordings(voiceRecordingsResponse.data);\n      }\n    }\n    loadData();\n  }, [])\n\n  /*\n   * Called inside a child component, this deletes the data (either a text\n   * comment or voice recording) from the state, thereby updating the UI.\n   */\n  const destroyFeedItem = async function(uuid) {\n    const textComments = _textComments,\n          voiceRecordings = _voiceRecordings;\n\n    const filteredTextComments = textComments.filter(i => i.uuid !== uuid),\n          filteredVoiceRecordings = voiceRecordings.filter(i => i.uuid !== uuid);\n\n    _setTextComments(filteredTextComments);\n    _setVoiceRecordings(filteredVoiceRecordings);\n  }\n\n  /*\n   * ...\n   */\n  const destroyTextCommentModifications = async function(textCommentUuid) {\n    await fetchListDeleteTextCommentModifications(textCommentUuid);\n\n    const textCommentIndex = _textComments.findIndex(t => t.uuid === textCommentUuid)\n\n    _textComments[textCommentIndex].modifications = [];\n    _setTextComments([..._textComments]);\n  }\n\n  /*\n   * ...\n   */\n  const destroyTextComment = async function(textCommentUuid) {\n    await fetchListDeleteTextCommentModifications(textCommentUuid);\n    await fetchDeleteTextComment(textCommentUuid);\n    await destroyFeedItem(textCommentUuid);\n  }\n\n  /*\n   * ...\n   */\n  const destroyVoiceRecording = async function(voiceRecordingUuid) {\n    await fetchDeleteVoiceRecording(voiceRecordingUuid);\n    await destroyFeedItem(voiceRecordingUuid);\n  }\n\n  /*\n   * When a user submits a new comment.\n   */\n  const createTextComment = async function(e) {\n    e.preventDefault();\n    const responseJson = await fetchCreateTextComment(text);\n\n    _textComments.push(responseJson.data);\n    _setTextComments([..._textComments]);\n    setText('');\n  }\n\n  /*\n   * Called by a child component when the user creates a text comment\n   * modification.\n   */\n  const createTextCommentModification = async function(textCommentUuid, textCommentModification) {\n    const textCommentIndex = _textComments.findIndex(t => t.uuid === textCommentUuid);\n    const modifications = _textComments[textCommentIndex].modifications;\n\n    modifications.push(textCommentModification);\n    const sortedModifications = modifications.sort((a, b) => {\n      return a.startPtr - b.startPtr;\n    });\n\n    _textComments[textCommentIndex].modifications = sortedModifications;\n    _setTextComments([..._textComments]);\n  }\n\n  const { transcript, resetTranscript } = useSpeechRecognition();\n\n  /*\n   * ...\n   */\n  const handleRecord = function() {\n    if(!isRecording) {\n      if (SpeechRecognition.browserSupportsSpeechRecognition()) {\n        SpeechRecognition.startListening({ continuous: true });\n        // BUG: https://github.com/JamesBrill/react-speech-recognition/issues/81\n        //\n        // const recognition = SpeechRecognition.getRecognition();\n        // recognition.onresult = (e) => {\n        //   recognition.onresult(e);\n        //   const timeStamp = e.timeStamp,\n        //         transcript = e.results[0][0].transcript,\n        //         confidence = e.results[0][0].confidence,\n        //         isFinal = e.results[0].isFinal;\n        //   transcriptData.push({ timeStamp, transcript, confidence, isFinal });\n        //   setTranscriptData([...transcriptData]);\n        // }\n      }\n      recorder.start();\n      setIsRecording(true);\n    } else {\n      if (SpeechRecognition.browserSupportsSpeechRecognition()) {\n        SpeechRecognition.stopListening();\n      }\n\n      recorder.stop()\n        .getMp3().then(([buffer, blob]) => {\n          (async function () {\n            const file = new File(buffer, 'voice.mp3', {\n              type: blob.type,\n              lastModified: Date.now(),\n            });\n\n            const responseJson = await fetchCreateVoiceRecording(file, JSON.stringify(transcriptData), transcript);\n            _voiceRecordings.push(responseJson.data);\n            _setVoiceRecordings([..._voiceRecordings]);\n\n            if (SpeechRecognition.browserSupportsSpeechRecognition()) {\n              resetTranscript();\n            }\n          })()\n        });\n\n      setIsRecording(false);\n    }\n  }\n\n  /*\n   * This aggregates text comments and voice recordings into one data list,\n   * sorted by track timestamp.\n   */\n  let feed;\n\n  if(!Array.isArray(_textComments) || !Array.isArray(_voiceRecordings)) {\n    feed = [];\n  } else {\n    const aggregateFeed = [..._textComments, ..._voiceRecordings];\n    feed = aggregateFeed.sort((a, b) => {\n      return a.timestampMilliseconds - b.timestampMilliseconds;\n    });\n  }\n\n\n  /*\n   * 🎨\n   */\n  return (\n    <div>\n      <div className={styles.Chat}>\n        {feed.map((value, index) => {\n          if(value.class === CLASS_TEXT_COMMENT) {\n            return <TextComment key={index} data={value} destroy={destroyTextComment} destroyModifications={destroyTextCommentModifications} create={createTextCommentModification} />\n          } else if(value.class === CLASS_VOICE_RECORDING) {\n            return <VoiceRecording key={index} data={value} destroy={destroyVoiceRecording} />\n          } else {\n            return <></>;\n          }\n        })}\n      </div>\n\n      <form className={styles.CreateTextComment} onSubmit={async (e) => { await createTextComment(e); }}>\n        <input type=\"text\"\n               name=\"text\"\n               placeholder=\"text\"\n               value={text}\n               onChange={(e) => { setText(e.target.value); }} />\n        <button type=\"submit\">\n          Send\n        </button>\n      </form>\n\n      <div>\n        <button type=\"button\" onClick={handleRecord}>\n          Record\n        </button>\n      </div>\n    </div>\n  );\n\n}\n\n\nexport default Chat;\n","const CLASS_TEXT_COMMENT = 'TextComment'\nconst CLASS_VOICE_RECORDING = 'VoiceRecording'\n\nexport { CLASS_TEXT_COMMENT, CLASS_VOICE_RECORDING }\n","import { ENDPOINT_OBTAIN_AUTH_TOKEN, ENDPOINT_INTIALIZE_STREAM } from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchAuthToken = async (username, password) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_OBTAIN_AUTH_TOKEN,\n    { username: username, password: password },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchInitializeStream = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_INTIALIZE_STREAM,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from './Login.module.css';\n\nimport { fetchAuthToken, fetchInitializeStream } from './network';\n\n\nfunction Login(props) {\n\n  /*\n   * 🏗\n   */\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [rememberMe, setRememberMe] = useState(false);\n\n  /*\n   * When the user initializes a login attempt.\n   */\n  const handleSubmit = async function(e) {\n    e.preventDefault();\n\n    const responseJson = await fetchAuthToken(username, password);\n    if(!responseJson.access || !responseJson.refresh) {\n      return;\n    }\n\n    localStorage.setItem('accessToken', responseJson.access);\n    localStorage.setItem('refreshToken', responseJson.refresh);\n\n    await fetchInitializeStream();\n  }\n\n  return (\n    <form className={styles.Login} onSubmit={async (e) => { await handleSubmit(e); }}>\n      <h3>Sign in</h3>\n      <p>If you have not created an account yet, then please <Link to=\"/signup\">Sign Up</Link> first.</p>\n\n      <label className={styles.FormBlock}>\n        Username\n        <input type=\"text\"\n               name=\"username\"\n               placeholder=\"username\"\n               value={username}\n               onChange={(e) => {setUsername(e.target.value)}} />\n      </label>\n\n      <label className={styles.FormBlock}>\n        Password\n        <input type=\"password\"\n               name=\"password\"\n               placeholder=\"password\"\n               value={password}\n               onChange={(e) => {setPassword(e.target.value)}} />\n      </label>\n\n      <label className={styles.FormBlock}>\n        <input type=\"checkbox\"\n               name=\"remember-me\"\n               value={rememberMe}\n               onChange={(e) => {setRememberMe(e.target.value)}} />\n        Remember Me\n      </label>\n\n      <div className={styles.FormBlock}>\n        <button type=\"submit\">\n          Sign In\n        </button>\n        <span><Link to=\"/forgotpassword\">Forgot Password?</Link></span>\n      </div>\n    </form>\n  );\n}\n\nexport default Login;\n","import { ENDPOINT_LIST_QUEUES, ENDPOINT_DELETE_QUEUE } from '../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches...\n */\nexport const fetchListQueues = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_LIST_QUEUES,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nexport const fetchDeleteQueue = async (queueUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_DELETE_QUEUE,\n    { queueUuid: queueUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import { connect } from 'react-redux'\nimport styles from './QueueTrack.module.css';\n\n\nfunction QueueTrack(props) {\n\n  /*\n   * 🏗\n   */\n  const queue = props.data,\n        stream = props.stream,\n        lastUp = props.lastUp;\n\n  /*\n   * 🎨\n   */\n  const currentIndex = stream?.nowPlaying?.index || lastUp.index;\n  const isNextUp = currentIndex < queue.index;\n  const indent = queue.parentUuid && isNextUp ? '-' : '';\n  return (\n    <div className={styles.QueueTrack}>\n      <span>\n        {indent}\n        {queue.track.name}\n      </span>\n      {isNextUp &&\n        <button type=\"button\" onClick={async (e) => { await props.destroy(queue); }}>\n          Delete\n        </button>\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  lastUp: state.lastUp,\n});\n\nexport default connect(mapStateToProps)(QueueTrack);\n","import React, { useState } from \"react\";\nimport { connect } from 'react-redux'\nimport styles from './QueueCollection.module.css';\nimport QueueTrack from '../QueueTrack/QueueTrack'\n\n\nfunction QueueCollection(props) {\n\n  /*\n   * 🏗\n   */\n  const queue = props.data,\n        stream = props.stream,\n        lastUp = props.lastUp,\n        queueUuid = props.data.uuid;\n\n  const isCurrentlyPlayingCollection = (\n    // Stream is NOW playing - \"now playing\" belongs to same parent UUID\n    (stream?.isPlaying && stream?.nowPlaying?.parentUuid === queueUuid) ||\n    // Stream is NOT playing - \"last up\" belongs to same parent UUID\n    (!stream?.isPlaying && lastUp?.parentUuid && lastUp?.parentUuid === queueUuid)\n  );\n\n\n  const [reveal, setReveal] = useState(isCurrentlyPlayingCollection);\n\n  /*\n   * When...\n   */\n  const toggleReveal = function(e) {\n    setReveal(!reveal);\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.QueueCollection}>\n      <span>\n        {queue.collection.name}\n      </span>\n      {!isCurrentlyPlayingCollection &&\n        <button type=\"button\" onClick={async (e) => { await props.destroy(queue); }}>\n          Delete\n        </button>\n      }\n      {queue.children.length > 0 && !reveal &&\n        <button type=\"button\" onClick={toggleReveal}>\n          More\n        </button>\n      }\n      {queue.children.length > 0 && reveal &&\n        <>\n          <button type=\"button\" onClick={toggleReveal}>\n            Less\n          </button>\n          <div>\n            {queue.children.map((value, index) => (\n              <QueueTrack key={index}\n                          data={value}\n                          destroy={props.destroy}>\n              </QueueTrack>\n            ))}\n          </div>\n        </>\n      }\n    </div>\n  );\n\n}\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  lastUp: state.lastUp,\n});\n\nexport default connect(mapStateToProps)(QueueCollection);\n","import { connect } from 'react-redux'\nimport styles from './Queue.module.css';\nimport { fetchDeleteQueue } from './network'\nimport QueueCollection from '../QueueCollection/QueueCollection'\nimport QueueTrack from '../QueueTrack/QueueTrack'\n\n\nfunction Queue(props) {\n\n  /*\n   * Called inside a child component, this first deletes the queue from the\n   * backend, then, on success, it deletes it from the front-end model and\n   * view.\n   */\n  const destroyQueueItem = async function(queue) {\n    const queueUuid = queue.uuid;\n\n    await fetchDeleteQueue(queueUuid);\n\n    const parentUuid = queue.parentUuid;\n    if(parentUuid) {\n      props.dispatch({\n        type: 'queue/deleteChildNode',\n        parentUuid: parentUuid,\n        queueUuid: queueUuid,\n      });\n    } else {\n      props.dispatch({\n        type: 'queue/deleteNode',\n        queueUuid: queueUuid,\n      });\n    }\n  }\n\n  /*\n   * 🎨\n   */\n  return (\n    <div className={styles.Queue}>\n      <div>\n        {props.lastUpQueues.map((value, index) => {\n          if(value.track) {\n            return (\n              <QueueTrack key={index}\n                          data={value}\n                          destroy={() => {}}>\n              </QueueTrack>\n            );\n          } else {\n            return <></>;\n          }\n        })}\n      </div>\n      <div>\n        <i>Now playing...</i>\n        <p>{props.stream?.nowPlaying?.track.name}</p>\n      </div>\n      <div>\n        {props.nextUpQueues.map((value, index) => {\n          if(value.collection) {\n            return (\n              <QueueCollection key={index}\n                               data={value}\n                               destroy={destroyQueueItem}>\n              </QueueCollection>\n            );\n          } else if(value.track) {\n            return (\n              <QueueTrack key={index}\n                          data={value}\n                          destroy={destroyQueueItem}>\n              </QueueTrack>\n            );\n          } else {\n            return <></>;\n          }\n        })}\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  stream: state.stream,\n  nextUpQueues: state.nextUpQueues,\n  lastUpQueues: state.lastUpQueues,\n});\n\nexport default connect(mapStateToProps)(Queue);\n","import { ENDPOINT_SEARCH_MUSIC, ENDPOINT_CREATE_QUEUE } from '../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchSearchMusicLibrary = async (query, providerSpotify, providerYouTube, providerJukeboxRadio, formatTrack, formatAlbum, formatPlaylist, formatVideo) => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_SEARCH_MUSIC,\n    {\n      query,\n      providerSpotify,\n      providerYouTube,\n      providerJukeboxRadio,\n      formatTrack,\n      formatAlbum,\n      formatPlaylist,\n      formatVideo,\n    },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchCreateQueue = async (className, genericUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_CREATE_QUEUE,\n    { className, genericUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React from 'react';\n\n\nfunction SearchResult(props) {\n  const searchResult = props.data;\n  return (\n    <div>\n      <span>\n        {searchResult.provider} {searchResult.format} {searchResult.name}\n      </span>\n      <button type=\"button\" onClick={async (e) => { await props.addToQueue(props.data.class, props.data.uuid); }}>\n        Add\n      </button>\n    </div>\n  );\n}\n\nexport default SearchResult;\n","import React, { useState } from \"react\";\nimport styles from './Search.module.css';\n\nimport { fetchSearchMusicLibrary, fetchCreateQueue } from './network';\nimport SearchResult from '../SearchResult/SearchResult'\n\n\nfunction Search(props) {\n\n  /*\n   * 🏗\n   */\n\n  const [searchResults, setSearchResults] = useState([]);\n\n  const [query, setQuery] = useState([]);\n\n  // NOTE: These could be condensed, but I prefer explicitly writing them out.\n  const [serviceSpotify, setServiceSpotify] = useState(true);\n  const [serviceYouTube, setServiceYouTube] = useState(true);\n  const [serviceJukeboxRadio, setServiceJukeboxRadio] = useState(true);\n\n  const [formatTrack, setFormatTrack] = useState(true);\n  const [formatAlbum, setFormatAlbum] = useState(true);\n  const [formatPlaylist, setFormatPlaylist] = useState(true);\n  const [formatVideo, setFormatVideo] = useState(true);\n\n  /*\n   * When the user initializes a login attempt.\n   */\n  const handleSubmit = async function(e) {\n    e.preventDefault();\n    const responseJson = await fetchSearchMusicLibrary(\n      query,\n      serviceSpotify,\n      serviceYouTube,\n      serviceJukeboxRadio,\n      formatTrack,\n      formatAlbum,\n      formatPlaylist,\n      formatVideo,\n    );\n    setSearchResults(responseJson.data);\n  }\n\n  /*\n   * When...\n   */\n  const addToQueue = async function(className, genericUuid) {\n    await fetchCreateQueue(\n      className,\n      genericUuid,\n    );\n    setSearchResults([]);\n  }\n\n  return (\n    <div>\n      <form className={styles.Login} onSubmit={async (e) => { await handleSubmit(e); }}>\n        <h3>Search</h3>\n\n        <label className={styles.FormBlock}>\n          Query\n          <input type=\"text\"\n                 name=\"query\"\n                 placeholder=\"Search by name or artist\"\n                 value={query}\n                 onChange={(e) => {setQuery(e.target.value)}} />\n        </label>\n\n        <div className={styles.FormBlock}>\n          <label>\n            <input type=\"checkbox\"\n                   checked={serviceSpotify}\n                   onChange={(e) => {setServiceSpotify(e.target.checked)}} />\n            Spotify\n          </label>\n\n          <label>\n            <input type=\"checkbox\"\n                   name=\"provider.youTube\"\n                   checked={serviceYouTube}\n                   onChange={(e) => {setServiceYouTube(e.target.checked)}} />\n            YouTube\n          </label>\n\n          <label>\n            <input type=\"checkbox\"\n                   name=\"provider.jukeboxRadio\"\n                   checked={serviceJukeboxRadio}\n                   onChange={(e) => {setServiceJukeboxRadio(e.target.checked)}} />\n            Jukebox Radio\n          </label>\n        </div>\n\n        <div className={styles.FormBlock}>\n          <label>\n            <input type=\"checkbox\"\n                   checked={formatTrack}\n                   onChange={(e) => {setFormatTrack(e.target.checked)}} />\n            Track\n          </label>\n\n          <label>\n            <input type=\"checkbox\"\n                   checked={formatAlbum}\n                   onChange={(e) => {setFormatAlbum(e.target.checked)}} />\n            Album\n          </label>\n\n          <label>\n            <input type=\"checkbox\"\n                   checked={formatPlaylist}\n                   onChange={(e) => {setFormatPlaylist(e.target.checked)}} />\n            Playlist\n          </label>\n\n          <label>\n            <input type=\"checkbox\"\n                   checked={formatVideo}\n                   onChange={(e) => {setFormatVideo(e.target.checked)}} />\n            Video\n          </label>\n        </div>\n\n        <div className={styles.FormBlock}>\n          <button type=\"submit\">\n            Search\n          </button>\n        </div>\n      </form>\n      <div>\n        {searchResults.map((value, index) => (\n          <SearchResult key={index} data={value} addToQueue={addToQueue}></SearchResult>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n","import { ENDPOINT_CREATE_TRACK } from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches...\n */\nexport const fetchCreateTrack = async (audioFile, imageFile, trackName, artistName, albumName) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_CREATE_TRACK,\n    {\n      audioFile: audioFile,\n      imageFile: imageFile,\n      trackName: trackName,\n      artistName: artistName,\n      albumName: albumName,\n    },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React, { useState } from \"react\";\nimport styles from './Upload.module.css';\n\nimport { fetchCreateTrack } from './network';\n\n\nfunction Upload(props) {\n\n  /*\n   * 🏗\n   */\n  const [audioFile, setAudioFile] = useState('');\n  const [imageFile, setImageFile] = useState('');\n  const [trackName, setTrackName] = useState('');\n  const [artistName, setArtistName] = useState('');\n  const [albumName, setAlbumName] = useState('');\n\n  /*\n   * When the user initializes a login attempt.\n   */\n  const handleSubmit = async function(e) {\n    e.preventDefault();\n    await fetchCreateTrack(\n      audioFile,\n      imageFile,\n      trackName,\n      artistName,\n      albumName,\n    );\n    setTrackName('');\n    setArtistName('');\n    setAlbumName('');\n  }\n\n  return (\n    <form className={styles.Login} onSubmit={async (e) => { await handleSubmit(e); }}>\n      <h3>Upload</h3>\n\n      <label className={styles.FormBlock}>\n        Audio file\n        <input type=\"file\"\n               name=\"audioFile\"\n               onChange={(e) => {setAudioFile(e.target.files[0])}} />\n      </label>\n\n      <label className={styles.FormBlock}>\n        Image file\n        <input type=\"file\"\n               name=\"imageFile\"\n               onChange={(e) => {setImageFile(e.target.files[0])}} />\n      </label>\n\n      <label className={styles.FormBlock}>\n        Track name\n        <input type=\"text\"\n               name=\"trackName\"\n               placeholder=\"Track name\"\n               value={trackName}\n               onChange={(e) => {setTrackName(e.target.value)}} />\n      </label>\n\n      <label className={styles.FormBlock}>\n        Artist name\n        <input type=\"text\"\n               name=\"artistName\"\n               placeholder=\"Artist name\"\n               value={artistName}\n               onChange={(e) => {setArtistName(e.target.value)}} />\n      </label>\n\n      <label className={styles.FormBlock}>\n        Album name\n        <input type=\"text\"\n               name=\"albumName\"\n               placeholder=\"Album name\"\n               value={albumName}\n               onChange={(e) => {setAlbumName(e.target.value)}} />\n      </label>\n\n      <div className={styles.FormBlock}>\n        <button type=\"submit\">\n          Upload\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default Upload;\n","import {\n  ENDPOINT_GET_STREAM,\n  ENDPOINT_NEXT_TRACK,\n  ENDPOINT_PAUSE_TRACK,\n  ENDPOINT_PLAY_TRACK,\n  ENDPOINT_PREVIOUS_TRACK,\n  ENDPOINT_SCAN_BACKWARD,\n  ENDPOINT_SCAN_FORWARD,\n} from '../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n\n/*\n * Fetches...\n */\nconst fetchStream = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_GET_STREAM,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchNextTrack = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_NEXT_TRACK,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchPauseTrack = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_PAUSE_TRACK,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchPlayTrack = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_PLAY_TRACK,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchPreviousTrack = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_PREVIOUS_TRACK,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchScanBackward = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_SCAN_BACKWARD,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchScanForward = async () => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_SCAN_FORWARD,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\nexport {\n  fetchStream,\n  fetchNextTrack,\n  fetchPauseTrack,\n  fetchPlayTrack,\n  fetchPreviousTrack,\n  fetchScanBackward,\n  fetchScanForward,\n}\n","import { useState } from \"react\";\nimport { connect } from 'react-redux'\n// import { CountdownCircleTimer } from 'react-countdown-circle-timer'\nimport { fetchListQueues } from '../Queue/network'\nimport {\n  fetchNextTrack,\n  fetchPauseTrack,\n  fetchPlayTrack,\n  fetchPreviousTrack,\n  fetchScanBackward,\n  fetchScanForward,\n} from './network'\n\n\nfunction Player(props) {\n\n  /*\n   * 🏗\n   */\n  const stream = props.stream,\n        track = stream?.nowPlaying?.track,\n        nextUp = props.nextUp,\n        lastUp = props.lastUp;\n\n  const [key, setKey] = useState(0);\n\n  /*\n   * When...\n   */\n  const handlePrevTrack = async function(e) {\n    e.preventDefault();\n\n    const responseJson = await fetchPreviousTrack();\n\n    const jsonResponse = await fetchListQueues();\n    const { nextUpQueues, lastUpQueues } = jsonResponse.data;\n\n    await props.dispatch({\n      type: 'stream/prevTrack',\n      startedAt: responseJson.data.startedAt,\n    });\n\n    props.dispatch({\n      type: 'queue/listSet',\n      lastUpQueues: lastUpQueues,\n      nextUpQueues: nextUpQueues,\n    });\n  }\n\n  /*\n   * When...\n   */\n  const handleNextTrack = async function(e) {\n    if(e) {\n      e.preventDefault();\n    }\n\n    const responseJson = await fetchNextTrack();\n\n    const jsonResponse = await fetchListQueues();\n    const { nextUpQueues, lastUpQueues } = jsonResponse.data;\n\n    await props.dispatch({\n      type: 'stream/nextTrack',\n      startedAt: responseJson.data.startedAt,\n    });\n\n    props.dispatch({\n      type: 'queue/listSet',\n      lastUpQueues: lastUpQueues,\n      nextUpQueues: nextUpQueues,\n    });\n  }\n\n  /*\n   * When...\n   */\n  const handlePlayTrack = async function(e) {\n    e.preventDefault();\n\n    const jsonResponse = await fetchPlayTrack();\n    props.dispatch({\n      type: 'stream/set',\n      stream: {\n        ...stream,\n        isPlaying: true,\n        isPaused: false,\n        playedAt: jsonResponse.data.playedAt,\n      },\n    });\n  }\n\n  /*\n   * When...\n   */\n  const handlePauseTrack = async function(e) {\n    e.preventDefault();\n\n    const jsonResponse = await fetchPauseTrack();\n\n    props.dispatch({\n      type: 'stream/set',\n      stream: {\n        ...stream,\n        isPlaying: false,\n        isPaused: true,\n        pausedAt: jsonResponse.data.pausedAt,\n      },\n    });\n  }\n\n  /*\n   * When...\n   */\n  const handleScanBackward = async function(e) {\n    e.preventDefault();\n\n    await fetchScanBackward();\n\n    const date = new Date();\n    const epochNow = date.getTime();\n\n    const proposedStartedAt = stream.startedAt + 10000;\n    const proposedProgress = epochNow - proposedStartedAt;\n    const startedAt = proposedProgress > 0 ? proposedStartedAt : epochNow;\n\n    console.log(stream.startedAt, startedAt)\n    console.log(stream.startedAt - startedAt)\n\n    await props.dispatch({\n      type: 'stream/set',\n      stream: { ...stream, startedAt: startedAt },\n    });\n    setKey(key + 1);\n  }\n\n  /*\n   * When...\n   */\n  const handleScanForward = async function(e) {\n    e.preventDefault();\n\n    const response = await fetchScanForward();\n\n    if(response.system.status === 400) {\n      return;\n    }\n\n    await props.dispatch({\n      type: 'stream/set',\n      stream: { ...stream, startedAt: stream.startedAt - (10000) },\n    });\n    setKey(key + 1);\n  }\n\n  /*\n   * When...\n   */\n  // const handleIdle = async function() {\n  //   await props.dispatch({\n  //     type: \"stream/expire\",\n  //   });\n  //\n  //   await props.dispatch({\n  //     type: \"queue/listSet\",\n  //     lastUpQueues: props.lastUpQueues,\n  //     nextUpQueues: props.nextUpQueues,\n  //   });\n  // }\n\n  // const progress = (\n  //   stream ?\n  //   (\n  //     stream.pausedAt ?\n  //       stream.pausedAt - stream.startedAt:\n  //       Date.now() - stream.startedAt\n  //   ) :\n  //   undefined\n  // );\n  // const trackDuration = stream?.nowPlaying?.track?.durationMilliseconds;\n\n  return (\n    <>\n      <div>\n        <p><i>Previous...</i></p>\n        <p>{lastUp?.track?.name}</p>\n      </div>\n\n      <div>\n        <p><i>Now playing...</i></p>\n        {(stream?.isPlaying || stream?.isPaused) &&\n          <p>{track?.name}</p>\n        }\n        {(!stream?.isPlaying && !stream?.isPaused) &&\n          <p>Waiting...</p>\n        }\n      </div>\n\n      <div>\n        <button onClick={handlePrevTrack}>Prev</button>\n        {stream?.isPaused &&\n          <button onClick={handlePlayTrack}>Play</button>\n        }\n        {stream?.isPlaying &&\n          <button onClick={handlePauseTrack}>Pause</button>\n        }\n        <button onClick={handleNextTrack}>Next</button>\n      </div>\n      <div>\n        {(stream?.isPlaying) &&\n          <button onClick={handleScanBackward}>Backward</button>\n        }\n        {(stream?.isPlaying) &&\n          <button onClick={handleScanForward}>Forward</button>\n        }\n      </div>\n\n      <div>\n        <p><i>Next...</i></p>\n        <p>{nextUp?.track.name}</p>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n    stream: state.stream,\n    lastUp: state.lastUp,\n    lastUpQueues: state.lastUpQueues,\n    nextUp: state.nextUp,\n    nextUpQueues: state.nextUpQueues,\n});\n\nexport default connect(mapStateToProps)(Player);\n","import { createStore } from 'redux';\n\n\nconst initialState = {\n  nextUpQueues: [],\n  lastUpQueues: [],\n  _lastPlayed: undefined,\n}\n\n\nconst reducer = (state = initialState, action) => {\n  let queues,\n      lastUpQueues,\n      stream,\n      nowPlaying,\n      nextUpQueues,\n      obj;\n  switch (action.type) {\n    case \"stream/set\":\n      stream = action.stream;\n      obj = {\n        ...state,\n        stream: stream,\n      };\n\n      if(!stream.isPlaying && !stream.isPaused && stream.nowPlaying) {\n        // obj.lastUpQueues = [...state.lastUpQueues, stream.nowPlaying];\n        obj.lastUp = stream.nowPlaying;\n        obj._lastPlayed = stream.nowPlaying;\n        obj.stream.nowPlaying = undefined;\n      }\n\n      return obj\n    case \"stream/prevTrack\":\n      lastUpQueues = [...state.lastUpQueues];\n      nowPlaying = lastUpQueues[lastUpQueues.length - 1];\n      return {\n          ...state,\n          stream: {\n            ...state.stream,\n            startedAt: action.startedAt,\n            nowPlaying: nowPlaying,\n          }\n      };\n    case \"stream/nextTrack\":\n      nextUpQueues = [...state.nextUpQueues];\n      nowPlaying = (\n        nextUpQueues[0].children.length ?\n          nextUpQueues[0].children[0] :\n          nextUpQueues[0]\n      )\n      return {\n          ...state,\n          stream: {\n            ...state.stream,\n            startedAt: action.startedAt,\n            nowPlaying: nowPlaying,\n          }\n      };\n    case \"stream/expire\":\n      stream = { ...state.stream };\n\n      stream.isPlaying = false;\n      stream.isPaused = false;\n      const tempVar = stream.nowPlaying;\n      stream.nowPlaying = undefined;\n\n      return { ...state, stream: stream, _lastPlayed: tempVar };\n    case \"queue/listSet\":\n      lastUpQueues = action.lastUpQueues;\n      nextUpQueues = action.nextUpQueues;\n\n      const _lastPlayed = state._lastPlayed;\n      if(_lastPlayed) {\n        lastUpQueues.push(_lastPlayed);\n      }\n\n      stream = state.stream;\n      if(!stream.isPlaying && !stream.isPaused && stream.nowPlaying) {\n        lastUpQueues.push(stream.nowPlaying);\n        stream = { ...stream, nowPlaying: undefined }\n      }\n\n      const lastUp = (\n              !lastUpQueues.length ?\n                undefined :\n                lastUpQueues[lastUpQueues.length - 1]\n            ),\n            nextUp = (\n              !nextUpQueues.length ? undefined : (\n                !nextUpQueues[0].children.length ?\n                  nextUpQueues[0] :\n                  nextUpQueues[0].children[0]\n              )\n            );\n      return {\n        ...state,\n        stream: stream,\n        lastUp: lastUp,\n        lastUpQueues: lastUpQueues,\n        nextUp: nextUp,\n        nextUpQueues: nextUpQueues,\n      }\n    case \"queue/deleteNode\":\n      queues = state.nextUpQueues;\n      const filteredQueues = queues.filter(i => i.uuid !== action.queueUuid);\n\n      return {\n        ...state,\n        nextUpQueues: filteredQueues,\n      }\n    case \"queue/deleteChildNode\":\n      queues = [...state.nextUpQueues];\n\n      const parentIndex = queues.findIndex(i => i.uuid === action.parentUuid);\n      const children = queues[parentIndex].children;\n\n      const filteredChildren = children.filter(i => i.uuid !== action.queueUuid);\n      queues[parentIndex].children = filteredChildren;\n\n      if(!filteredChildren.length) {\n        queues = queues.filter(i => i.uuid !== action.parentUuid);\n      }\n\n      return {\n        ...state,\n        nextUpQueues: queues,\n      }\n    default:\n      return state;\n  }\n}\n\n\nexport const store = createStore(reducer);\n","import './App.css';\nimport Chat from './components/Chat/Chat'\nimport Login from './components/Login/Login'\nimport Queue from './components/Queue/Queue'\nimport Search from './components/Search/Search'\nimport Upload from './components/Upload/Upload'\nimport Player from './components/Player/Player'\nimport { fetchStream } from './components/Player/network'\nimport { fetchListQueues } from './components/Queue/network'\nimport { store } from './utils/redux'\n\nimport { useEffect } from \"react\";\nimport { Provider } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n\nfunction App() {\n\n  // componentDidMount\n  useEffect(() => {\n    async function loadData() {\n      let jsonResponse;\n\n      // load stream\n      jsonResponse = await fetchStream();\n\n      await store.dispatch({\n        type: 'stream/set',\n        stream: jsonResponse.data,\n      });\n\n      // load queue\n      jsonResponse = await fetchListQueues();\n      const { nextUpQueues, lastUpQueues } = jsonResponse.data;\n\n      await store.dispatch({\n        type: 'queue/listSet',\n        lastUpQueues: lastUpQueues,\n        nextUpQueues: nextUpQueues,\n      });\n    }\n    loadData();\n  }, []);\n\n  return (\n    <Router>\n      <Provider store={store}>\n\n        {/* nav bar */}\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/chat\">Chat</Link>\n            </li>\n            <li>\n              <Link to=\"/player\">Player</Link>\n            </li>\n            <li>\n              <Link to=\"/queue\">Queue</Link>\n            </li>\n            <li>\n              <Link to=\"/search\">Search</Link>\n            </li>\n            <li>\n              <Link to=\"/upload\">Upload</Link>\n            </li>\n          </ul>\n        </nav>\n\n        {/* main section */}\n        <div class=\"app-main-container\">\n          <div class=\"app-main\">\n            <Switch>\n              <Route path=\"/login\">\n                <Login />\n              </Route>\n              <Route path=\"/chat\">\n                <Chat />\n              </Route>\n              <Route path=\"/player\">\n                <Player />\n              </Route>\n              <Route path=\"/queue\">\n                <Queue />\n              </Route>\n              <Route path=\"/search\">\n                <Search />\n              </Route>\n              <Route path=\"/upload\">\n                <Upload />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n\n      </Provider>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}