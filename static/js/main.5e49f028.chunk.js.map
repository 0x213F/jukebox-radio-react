{"version":3,"sources":["components/Upload/Upload.module.css","components/Login/Login.module.css","components/Chat/Chat.module.css","components/TextComment/TextComment.module.css","components/VoiceRecording/VoiceRecording.module.css","components/Queue/Queue.module.css","components/QueueItem/QueueItem.module.css","config/global.js","utils/network.js","components/Chat/network.js","config/api.js","components/TextComment/network.js","components/VoiceRecording/network.js","components/TextComment/TextComment.js","components/VoiceRecording/VoiceRecording.js","components/Chat/Chat.js","config/model.js","components/Login/network.js","components/Login/Login.js","components/Queue/network.js","components/QueueItem/QueueItem.js","components/Queue/Queue.js","components/Upload/network.js","components/Upload/Upload.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","BACKEND_DOMAIN","TYPE_GET","TYPE_POST","fetchBackend","a","method","url","data","successCallback","console","log","formData","FormData","Object","entries","key","value","append","requestOptions","headers","token","localStorage","getItem","Authorization","request","Request","fetch","mode","body","response","searchParams","URLSearchParams","set","getUrl","toString","fetchCreateTextComment","text","json","responseJson","fetchTextComments","fetchVoiceRecordings","fetchDeleteTextComment","textCommentUuid","fetchCreateTextCommentModification","style","anchorOffset","focusOffset","fetchListDeleteTextCommentModifications","fetchDeleteVoiceRecording","voiceRecordingUuid","TextComment","props","selectableRef","React","createRef","state","modifications","selectableIsShowable","handleDelete","bind","handleUnderline","handleStrikethrough","handleHighlight","onTextSelect","onTextUnselect","renderTextComment","event","preventDefault","this","uuid","destroy","create","setState","selection","window","getSelection","anchorNode","focusNode","offset","parseInt","parentNode","getAttribute","annotation","_svg","zIndex","textComment","textCommentText","startOffset","textCommentHtml","i","length","modification","regSubString","substring","startPtr","styledSubString","endPtr","className","styles","Notated","show","multiline","color","type","animate","getAnnotationObject","updateZIndex","ref","selectionRef","isOpen","onSubmit","e","onClick","destroyModifications","Component","defaultProps","VoiceRecording","voiceRecording","transcriptFinal","Chat","errorMessage","_textComments","undefined","_voiceRecordings","feed","handleChange","buildFeed","destroyFeedItem","destroyTextCommentModifications","destroyTextComment","destroyVoiceRecording","createTextComment","createTextCommentModification","textCommentsResponse","system","status","message","voiceRecordingsResponse","obj","target","name","textComments","voiceRecordings","Array","isArray","sort","b","timestampMilliseconds","filteredTextComments","filter","filteredVoiceRecordings","textCommentIndex","findIndex","t","textCommentsCopy","push","textCommentModification","modificationsCopy","sortedModifications","map","index","class","CreateTextComment","placeholder","onChange","fetchAuthToken","username","password","Login","rememberMe","handleSubmit","access","refresh","setItem","to","FormBlock","fetchListQueues","fetchDeleteQueue","queueUuid","QueueItem","queue","trackName","collectionName","Queue","queues","destroyQueueItem","jsonResponse","filteredQueues","fetchCreateTrack","audioFile","imageFile","artistName","albumName","Upload","handleFileChange","files","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e49f028.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Upload\":\"Upload_Upload__tMDig\",\"FormBlock\":\"Upload_FormBlock__2ls6S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__1ujut\",\"FormBlock\":\"Login_FormBlock__S_rix\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Chat\":\"Chat_Chat__3NjUX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextComment\":\"TextComment_TextComment__15QHu\",\"Notated\":\"TextComment_Notated__24bZz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VoiceRecording\":\"VoiceRecording_VoiceRecording__10J4X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Queue\":\"Queue_Queue__YTCBa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QueueItem\":\"QueueItem_QueueItem__e3nEn\"};","const BACKEND_DOMAIN = 'http://localhost:3000';\nconst TYPE_GET = 'GET';\nconst TYPE_POST = 'POST';\n\nexport { BACKEND_DOMAIN, TYPE_GET, TYPE_POST }\n","import { BACKEND_DOMAIN } from '../config/global'\n\n\nconst failureCallback = data => { console.error(data); }\n\nasync function fetchBackend(method = '', url = '', data = {}, successCallback = null, files = {}) {\n  let response;\n\n  if(!successCallback) {\n    successCallback = console.log;\n  }\n\n  url = BACKEND_DOMAIN + url;\n\n  if(method !== 'GET') {\n\n    // aggregate form data in one place\n    const formData = new FormData();\n    for (const [key, value] of Object.entries(data)) {\n      formData.append(key, value);\n    }\n    // for (const [key, value] of Object.entries(files)) {\n    //   formData.append(key, value);\n    // }\n\n    // authenticate request if possible\n    let requestOptions = {headers: {}}\n    const token = localStorage.getItem('accessToken');\n    if(token) {\n      requestOptions.headers.Authorization = `Bearer ${token}`;\n    }\n    const request = new Request(url, requestOptions);\n\n    // make the request\n    response = await fetch(request, {\n      method: method,\n      mode: 'cors',\n      body: formData,\n    });\n  } else {\n\n    // translate form data for GET\n    let searchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(data)) {\n      searchParams.set(key, value);\n    }\n    const getUrl = url + '/?' + searchParams.toString();\n\n    // authenticate request if possible\n    let requestOptions = {headers: {'Content-Type': 'application/json'}}\n    const token = localStorage.getItem('accessToken');\n    if(token) {\n      requestOptions.headers.Authorization = `Bearer ${token}`;\n    }\n    const request = new Request(getUrl, requestOptions);\n\n    // make the request\n    response = await fetch(request, {\n      method: method,\n      mode: 'cors',\n    });\n  }\n  return response;\n}\n\nexport { fetchBackend }\n","import {\n  ENDPOINT_CREATE_TEXT_COMMENT,\n  ENDPOINT_LIST_TEXT_COMMENTS,\n  ENDPOINT_LIST_VOICE_RECORDINGS\n} from '../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n\n/*\n * Fetches...\n */\nconst fetchCreateTextComment = async (text) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_CREATE_TEXT_COMMENT,\n    {text: text},\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchTextComments = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_LIST_TEXT_COMMENTS\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nconst fetchVoiceRecordings = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_LIST_VOICE_RECORDINGS\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\nexport { fetchCreateTextComment, fetchTextComments, fetchVoiceRecordings }\n","const ENDPOINT_OBTAIN_AUTH_TOKEN = '/auth/obtain-tokens/'\nconst ENDPOINT_REFRESH_AUTH_TOKEN = '/auth/refresh-token/'\nconst ENDPOINT_VERIFY_TOKEN = '/auth/verify-token/'\n\nconst ENDPOINT_CREATE_TEXT_COMMENT = '/comments/text-comment/create/'\nconst ENDPOINT_LIST_TEXT_COMMENTS = '/comments/text-comment/list'\nconst ENDPOINT_UPDATE_TEXT_COMMENT = '/comments/text-comment/update/'\nconst ENDPOINT_DELETE_TEXT_COMMENT = '/comments/text-comment/delete/'\n\nconst ENDPOINT_CREATE_TEXT_COMMENT_MODIFICATION = '/comments/text-comment-modification/create/'\nconst ENDPOINT_LIST_DELETE_TEXT_COMMENT_MODIFICATIONS = '/comments/text-comment-modification/list-delete/'\n\nconst ENDPOINT_LIST_VOICE_RECORDINGS = '/comments/voice-recording/list'\nconst ENDPOINT_DELETE_VOICE_RECORDING = '/comments/voice-recording/delete/'\n\nconst ENDPOINT_LIST_QUEUES = '/streams/queue/list'\nconst ENDPOINT_DELETE_QUEUE = '/streams/queue/delete/'\n\nconst ENDPOINT_CREATE_TRACK = '/music/track/create/'\n\nexport {\n  ENDPOINT_OBTAIN_AUTH_TOKEN,\n  ENDPOINT_REFRESH_AUTH_TOKEN,\n  ENDPOINT_VERIFY_TOKEN,\n\n  ENDPOINT_CREATE_TEXT_COMMENT,\n  ENDPOINT_LIST_TEXT_COMMENTS,\n  ENDPOINT_UPDATE_TEXT_COMMENT,\n  ENDPOINT_DELETE_TEXT_COMMENT,\n\n  ENDPOINT_CREATE_TEXT_COMMENT_MODIFICATION,\n  ENDPOINT_LIST_DELETE_TEXT_COMMENT_MODIFICATIONS,\n\n  ENDPOINT_LIST_VOICE_RECORDINGS,\n  ENDPOINT_DELETE_VOICE_RECORDING,\n\n  ENDPOINT_LIST_QUEUES,\n  ENDPOINT_DELETE_QUEUE,\n\n  ENDPOINT_CREATE_TRACK,\n}\n","import {\n  ENDPOINT_DELETE_TEXT_COMMENT,\n  ENDPOINT_UPDATE_TEXT_COMMENT,\n  ENDPOINT_CREATE_TEXT_COMMENT_MODIFICATION,\n  ENDPOINT_LIST_DELETE_TEXT_COMMENT_MODIFICATIONS,\n} from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n\n/*\n * Fetches...\n */\nexport const fetchDeleteTextComment = async (textCommentUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_DELETE_TEXT_COMMENT,\n    { textCommentUuid: textCommentUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Fetches...\n */\nexport const fetchUpdateTextComment = async (textCommentUuid, text) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_UPDATE_TEXT_COMMENT,\n    { textCommentUuid: textCommentUuid, text: text },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Fetches...\n */\nexport const fetchCreateTextCommentModification = async (textCommentUuid, style, anchorOffset, focusOffset) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_CREATE_TEXT_COMMENT_MODIFICATION,\n    {\n      textCommentUuid: textCommentUuid,\n      style: style,\n      anchorOffset: anchorOffset,\n      focusOffset: focusOffset,\n    },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\n/*\n * Fetches...\n */\nexport const fetchListDeleteTextCommentModifications = async (textCommentUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_LIST_DELETE_TEXT_COMMENT_MODIFICATIONS,\n    { textCommentUuid: textCommentUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n\nexport const STYLE_UNDERLINE = 'underline';\nexport const STYLE_STRIKE_THROUGH = 'strike-through';\nexport const STYLE_HIGHLIGHT = 'highlight';\n","import { ENDPOINT_DELETE_VOICE_RECORDING } from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchDeleteVoiceRecording = async (voiceRecordingUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_DELETE_VOICE_RECORDING,\n    { voiceRecordingUuid: voiceRecordingUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Popover from 'react-text-selection-popover';\nimport { RoughNotation, RoughNotationGroup } from \"react-rough-notation\";\nimport styles from './TextComment.module.css';\nimport {\n  fetchListDeleteTextCommentModifications,\n  fetchCreateTextCommentModification,\n  STYLE_UNDERLINE,\n  STYLE_STRIKE_THROUGH,\n  STYLE_HIGHLIGHT,\n} from './network';\n\n\nclass TextComment extends React.Component {\n\n  /*\n   * 🏗\n   */\n  constructor(props) {\n    super(props);\n\n    this.selectableRef = React.createRef();\n\n    this.state = {\n      // UI\n      modifications: props.data.modifications,\n      selectableIsShowable: true,\n      // Form\n      anchorOffset: null,\n      focusOffset: null,\n    };\n\n    // This binding is necessary to make `this` work in the callback.\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleUnderline = this.handleUnderline.bind(this);\n    this.handleStrikethrough = this.handleStrikethrough.bind(this);\n    this.handleHighlight = this.handleHighlight.bind(this);\n    this.onTextSelect = this.onTextSelect.bind(this);\n    this.onTextUnselect = this.onTextUnselect.bind(this);\n    this.renderTextComment = this.renderTextComment.bind(this);\n  }\n\n  /*\n   * When the user deletes a text comment.\n   */\n  async handleDelete(event) {\n    event.preventDefault();\n    const textCommentUuid = this.props.data.uuid;\n    await this.props.destroy(textCommentUuid);\n  }\n\n  /*\n   * When the user underlines part of the comment.\n   */\n  async handleUnderline(event) {\n    event.preventDefault();\n    const textCommentUuid = this.props.data.uuid;\n    const responseJson = await fetchCreateTextCommentModification(\n      textCommentUuid,\n      STYLE_UNDERLINE,\n      this.state.anchorOffset,\n      this.state.focusOffset,\n    );\n    this.props.create(textCommentUuid, responseJson.data);\n    await this.setState({ selectableIsShowable: false });\n  }\n\n  /*\n   * When the user strike-throughs part of the comment.\n   */\n  async handleStrikethrough(event) {\n    event.preventDefault();\n    const textCommentUuid = this.props.data.uuid;\n    const responseJson = await fetchCreateTextCommentModification(\n      textCommentUuid,\n      STYLE_STRIKE_THROUGH,\n      this.state.anchorOffset,\n      this.state.focusOffset,\n    );\n    this.props.create(textCommentUuid, responseJson.data);\n    await this.setState({ selectableIsShowable: false });\n  }\n\n  /*\n   * When the user highlights part of the comment.\n   */\n  async handleHighlight(event) {\n    event.preventDefault();\n    const textCommentUuid = this.props.data.uuid;\n    const responseJson = await fetchCreateTextCommentModification(\n      textCommentUuid,\n      STYLE_HIGHLIGHT,\n      this.state.anchorOffset,\n      this.state.focusOffset,\n    );\n    this.props.create(textCommentUuid, responseJson.data);\n    await this.setState({ selectableIsShowable: false });\n  }\n\n  /*\n   * 🆗\n   */\n  async onTextSelect() {\n    const selection = window.getSelection();\n\n    // Invalid text selection\n    if(selection.anchorNode !== selection.focusNode) {\n      await this.setState({\n        selectableIsShowable: false,\n        anchorOffset: null,\n        focusOffset: null,\n      })\n      return;\n    }\n\n    // NOTE: anchor is where the user starts selecting text, focus is the end\n    //       of the selection.\n    const offset = parseInt(selection.anchorNode.parentNode.getAttribute('offset'));\n    await this.setState({\n      selectableIsShowable: true,\n      anchorOffset: offset + selection.anchorOffset,\n      focusOffset: offset + selection.focusOffset,\n    });\n  }\n\n  /*\n   * ❗️🆗\n   */\n  async onTextUnselect() {\n    await this.setState({\n      selectableIsShowable: false,\n      anchorOffset: null,\n      focusOffset: null,\n    });\n  }\n\n  /*\n   * Monkey patch Rough Notation so that the markup is displayed behind\n   * neighboring text.\n   */\n  updateZIndex(annotation) {\n    annotation._svg.style.zIndex = -1;\n  }\n\n  /*\n   * When rendering a text comment, the text has to be displayed along with all\n   * of its annotations. Here the comment string is spliced into many\n   * substrings. If a substring has an accompanying modification, then Rough\n   * Notation is used to display the underline, strike-through, or highlight.\n   */\n  renderTextComment() {\n    const textComment = this.props.data;\n    const textCommentText = textComment.text;\n    const modifications = textComment.modifications;\n\n    let startOffset = 0,\n        textCommentHtml = <></>;\n    for(let i = 0; i < modifications.length; i++) {\n        let modification = modifications[i];\n\n        const regSubString = textCommentText.substring(\n          startOffset,\n          modification.startPtr\n        )\n        const styledSubString = textCommentText.substring(\n          modification.startPtr,\n          modification.endPtr\n        )\n\n        textCommentHtml = (\n          <>\n            {textCommentHtml}\n            <span offset={startOffset}>{regSubString}</span>\n            <RoughNotation className={styles.Notated}\n                           show={true}\n                           multiline={true}\n                           color=\"red\"\n                           type={modification.type}\n                           animate={modification.animate}\n                           getAnnotationObject={this.updateZIndex}>\n              {styledSubString}\n            </RoughNotation>\n          </>\n        )\n\n        startOffset = modification.endPtr;\n    }\n\n    const regSubString = textCommentText.substring(\n      startOffset,\n      textCommentText.length\n    )\n\n    textCommentHtml = (\n      <>\n        {textCommentHtml}\n        <span offset={startOffset}>{regSubString}</span>\n      </>\n    )\n\n    return textCommentHtml;\n  }\n\n  /*\n   * 🎨\n   */\n  render() {\n    return (\n      <div className={styles.TextComment}>\n        <div>\n          <p ref={this.selectableRef}>\n            {this.renderTextComment()}\n          </p>\n          <Popover selectionRef={this.selectableRef} onTextSelect={this.onTextSelect} onTextUnselect={this.onTextUnselect} isOpen={this.state.selectableIsShowable}>\n            <form onSubmit={async (e) => { await this.handleUnderline(e); }}>\n              <button type=\"submit\">\n                U\n              </button>\n            </form>\n            <form onSubmit={async (e) => { await this.handleStrikethrough(e); }}>\n              <button type=\"submit\">\n                S\n              </button>\n            </form>\n            <form onSubmit={async (e) => { await this.handleHighlight(e); }}>\n              <button type=\"submit\">\n                H\n              </button>\n            </form>\n          </Popover>\n        </div>\n\n        <button type=\"button\" onClick={async (e) => { await this.props.destroyModifications(this.props.data.uuid); }}>\n          Clear modifications\n        </button>\n\n        <button type=\"button\" onClick={async (e) => { await this.props.destroy(this.props.data.uuid); }}>\n          Delete\n        </button>\n      </div>\n    );\n  }\n\n}\n\nTextComment.propTypes = {};\n\nTextComment.defaultProps = {};\n\nexport default TextComment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './VoiceRecording.module.css';\nimport { fetchDeleteVoiceRecording } from './network';\n\nclass VoiceRecording extends React.Component {\n\n  /*\n   * 🏗\n   */\n  constructor(props) {\n    super(props);\n\n    // This binding is necessary to make `this` work in the callback.\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  /*\n   * When the user deletes a text comment.\n   */\n  async handleDelete(event) {\n    event.preventDefault();\n    const voiceRecordingUuid = this.props.data.uuid;\n    const responseJson = await fetchDeleteVoiceRecording(voiceRecordingUuid);\n    await this.props.destroy(voiceRecordingUuid);\n  }\n\n  /*\n   * 🎨\n   */\n  render() {\n    const voiceRecording = this.props.data;\n    return (\n      <div className={styles.VoiceRecording}>\n        <p><i>\n          {\n            voiceRecording.transcriptFinal === 'null' ?\n            '<transcript not available>' : voiceRecording.transcriptFinal\n          }\n        </i></p>\n        <form onSubmit={async (e) => { await this.handleDelete(e); }}>\n          <button type=\"submit\">\n            Delete\n          </button>\n        </form>\n      </div>\n    );\n  }\n\n}\n\nVoiceRecording.propTypes = {};\n\nVoiceRecording.defaultProps = {};\n\nexport default VoiceRecording;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Chat.module.css';\nimport { fetchCreateTextComment, fetchTextComments, fetchVoiceRecordings } from './network'\nimport {\n  fetchDeleteTextComment,\n  fetchListDeleteTextCommentModifications,\n} from '../TextComment/network'\nimport {\n  fetchDeleteVoiceRecording,\n} from '../VoiceRecording/network'\nimport TextComment from '../TextComment/TextComment'\nimport VoiceRecording from '../VoiceRecording/VoiceRecording'\nimport {\n  CLASS_TEXT_COMMENT,\n  CLASS_VOICE_RECORDING\n} from '../../config/model'\n\n\nclass Chat extends React.Component {\n\n  /*\n   * 🏗\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // UI\n      errorMessage: null,\n      // Data\n      _textComments: undefined,\n      _voiceRecordings: undefined,\n      feed: [],\n      // Form\n      text: '',\n    };\n\n    // This binding is necessary to make `this` work in the callback.\n    this.handleChange = this.handleChange.bind(this);\n    this.buildFeed = this.buildFeed.bind(this);\n    this.destroyFeedItem = this.destroyFeedItem.bind(this);\n    this.destroyTextCommentModifications = this.destroyTextCommentModifications.bind(this);\n    this.destroyTextComment = this.destroyTextComment.bind(this);\n    this.destroyVoiceRecording = this.destroyVoiceRecording.bind(this);\n    this.createTextComment = this.createTextComment.bind(this);\n    this.createTextCommentModification = this.createTextCommentModification.bind(this);\n  }\n\n  /*\n   * Load comments and voice recordings\n   */\n  async componentDidMount() {\n    const textCommentsResponse = await fetchTextComments();\n    if(textCommentsResponse.system.status !== 200) {\n      this.errorMessage = textCommentsResponse.system.message;\n    } else {\n      this.setState({ _textComments: textCommentsResponse.data });\n    }\n\n    const voiceRecordingsResponse = await fetchVoiceRecordings();\n    if(voiceRecordingsResponse.system.status !== 200) {\n      this.errorMessage = voiceRecordingsResponse.system.message;\n    } else {\n      this.setState({ _voiceRecordings: voiceRecordingsResponse.data });\n    }\n\n    this.buildFeed();\n  }\n\n  /*\n   * Ran when an element value has changed value. The data is updated in the\n   * model layer so the component may re-render.\n   */\n  handleChange(event) {\n    let obj = {};\n    obj[event.target.name] = event.target.value;\n    this.setState(obj);\n  }\n\n  /*\n   * This aggregates text comments and voice recordings into one data list,\n   * sorted by track timestamp.\n   */\n  buildFeed() {\n    const textComments = this.state._textComments,\n          voiceRecordings = this.state._voiceRecordings;\n\n    if(!Array.isArray(textComments) || !Array.isArray(voiceRecordings)) {\n      this.setState({ feed: [] });\n      return;\n    }\n\n    const feedData = [...textComments, ...voiceRecordings];\n    const feed = feedData.sort((a, b) => {\n      return a.timestampMilliseconds - b.timestampMilliseconds;\n    });\n\n    this.setState({ feed: feed });\n  }\n\n  /*\n   * Called inside a child component, this deletes the data (either a text\n   * comment or voice recording) from the state, thereby updating the UI.\n   */\n  async destroyFeedItem(uuid) {\n    const textComments = this.state._textComments,\n          voiceRecordings = this.state._voiceRecordings;\n\n    const filteredTextComments = textComments.filter(i => i.uuid !== uuid),\n          filteredVoiceRecordings = voiceRecordings.filter(i => i.uuid !== uuid);\n\n    await this.setState({ _textComments: filteredTextComments });\n    await this.setState({ _voiceRecordings: filteredVoiceRecordings });\n\n    this.buildFeed();\n  }\n\n  /*\n   * ...\n   */\n  async destroyTextCommentModifications(textCommentUuid) {\n    await fetchListDeleteTextCommentModifications(textCommentUuid);\n\n    const textComments = this.state._textComments;\n    const textCommentIndex = textComments.findIndex(t => t.uuid === textCommentUuid)\n\n    textComments[textCommentIndex].modifications = [];\n\n    await this.setState({ _textComments: textComments });\n  }\n\n  /*\n   * ...\n   */\n  async destroyTextComment(textCommentUuid) {\n    await fetchListDeleteTextCommentModifications(textCommentUuid);\n    await fetchDeleteTextComment(textCommentUuid);\n    await this.destroyFeedItem(textCommentUuid);\n  }\n\n  /*\n   * ...\n   */\n  async destroyVoiceRecording(voiceRecordingUuid) {\n    await fetchDeleteVoiceRecording(voiceRecordingUuid);\n    await this.destroyFeedItem(voiceRecordingUuid);\n  }\n\n  /*\n   * When a user submits a new comment.\n   */\n  async createTextComment(event) {\n    event.preventDefault();\n    const responseJson = await fetchCreateTextComment(this.state.text);\n\n    let textCommentsCopy = [...this.state._textComments];\n    textCommentsCopy.push(responseJson.data);\n\n    await this.setState({\n      _textComments: textCommentsCopy,\n      text: '',\n    });\n\n    this.buildFeed();\n  }\n\n  /*\n   * Called by a child component when the user creates a text comment\n   * modification.\n   */\n  async createTextCommentModification(textCommentUuid, textCommentModification) {\n    let textCommentsCopy = [...this.state._textComments];\n\n    const textCommentIndex = textCommentsCopy.findIndex(t => t.uuid === textCommentUuid)\n    let modificationsCopy = [...textCommentsCopy[textCommentIndex].modifications];\n\n    modificationsCopy.push(textCommentModification);\n\n    const sortedModifications = modificationsCopy.sort((a, b) => {\n      return a.startPtr - b.startPtr;\n    });\n\n    textCommentsCopy[textCommentIndex].modifications = sortedModifications;\n\n    await this.setState({ _textComments: textCommentsCopy });\n\n    this.buildFeed();\n  }\n\n  /*\n   * 🎨\n   */\n  render() {\n    return (\n      <div>\n        <div className={styles.Chat}>\n          {this.state.feed.map((value, index) => {\n            if(value.class === CLASS_TEXT_COMMENT) {\n              return <TextComment key={index} data={value} destroy={this.destroyTextComment} destroyModifications={this.destroyTextCommentModifications} create={this.createTextCommentModification} />\n            } else if(value.class === CLASS_VOICE_RECORDING) {\n              return <VoiceRecording key={index} data={value} destroy={this.destroyVoiceRecording} />\n            } else {\n              return null;\n            }\n          })}\n        </div>\n        <form className={styles.CreateTextComment} onSubmit={async (e) => { await this.createTextComment(e); }}>\n\n          <input type=\"text\"\n                 name=\"text\"\n                 placeholder=\"text\"\n                 value={this.state.text}\n                 onChange={this.handleChange} />\n\n          <button type=\"submit\">\n            Send\n          </button>\n\n        </form>\n      </div>\n    );\n  }\n\n}\n\nChat.propTypes = {};\n\nChat.defaultProps = {};\n\nexport default Chat;\n","const CLASS_TEXT_COMMENT = 'TextComment'\nconst CLASS_VOICE_RECORDING = 'VoiceRecording'\n\nexport { CLASS_TEXT_COMMENT, CLASS_VOICE_RECORDING }\n","import { ENDPOINT_OBTAIN_AUTH_TOKEN } from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches an auth token from the server.\n */\nexport const fetchAuthToken = async (username, password) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_OBTAIN_AUTH_TOKEN,\n    { username: username, password: password },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\nimport styles from './Login.module.css';\n\nimport { fetchAuthToken } from './network';\n\n\nclass Login extends React.Component {\n\n  /*\n   * 🏗\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // UI\n      errorMessage: null,\n      // Form\n      username: '',\n      password: '',\n      rememberMe: false,\n    };\n\n    // This binding is necessary to make `this` work in the callback.\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  /*\n   * Ran when an element value has changed value. The data is updated in the\n   * model layer so the component may re-render.\n   */\n  handleChange(event) {\n    let obj = {};\n    obj[event.target.name] = event.target.value;\n    this.setState(obj);\n  }\n\n  /*\n   * When the user initializes a login attempt.\n   */\n  async handleSubmit(event) {\n    event.preventDefault();\n    const responseJson = await fetchAuthToken(this.state.username, this.state.password);\n    if(!responseJson.access || !responseJson.refresh) {\n      return;\n    }\n    localStorage.setItem('accessToken', responseJson.access);\n    localStorage.setItem('refreshToken', responseJson.refresh);\n  }\n\n  render() {\n    return (\n      <form className={styles.Login} onSubmit={async (e) => { await this.handleSubmit(e); }}>\n        <h3>Sign in</h3>\n        <p>If you have not created an account yet, then please <Link to=\"/signup\">Sign Up</Link> first.</p>\n\n        <label className={styles.FormBlock}>\n          Username\n          <input type=\"text\"\n                 name=\"username\"\n                 placeholder=\"username\"\n                 value={this.state.username}\n                 onChange={this.handleChange} />\n        </label>\n\n        <label className={styles.FormBlock}>\n          Password\n          <input type=\"password\"\n                 name=\"password\"\n                 placeholder=\"password\"\n                 value={this.state.password}\n                 onChange={this.handleChange} />\n        </label>\n\n        <label className={styles.FormBlock}>\n          <input type=\"checkbox\"\n                 name=\"remember-me\"\n                 value={this.state.rememberMe}\n                 onChange={this.handleChange} />\n          Remember Me\n        </label>\n\n        <div className={styles.FormBlock}>\n          <button type=\"submit\">\n            Sign In\n          </button>\n          <span><Link to=\"/forgotpassword\">Forgot Password?</Link></span>\n        </div>\n      </form>\n    );\n  }\n}\n\nLogin.propTypes = {};\n\nLogin.defaultProps = {};\n\nexport default Login;\n","import { ENDPOINT_LIST_QUEUES, ENDPOINT_DELETE_QUEUE } from '../../config/api'\nimport { TYPE_GET, TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches...\n */\nexport const fetchListQueues = async () => {\n  const response = await fetchBackend(\n    TYPE_GET,\n    ENDPOINT_LIST_QUEUES,\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n\n/*\n * Fetches...\n */\nexport const fetchDeleteQueue = async (queueUuid) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_DELETE_QUEUE,\n    { queueUuid: queueUuid },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './QueueItem.module.css';\n\n\nclass QueueItem extends React.Component {\n\n  /*\n   * 🏗\n   */\n  constructor(props) {\n    super(props);\n\n    // This binding is necessary to make `this` work in the callback.\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  /*\n   * When the user deletes a text comment.\n   */\n  async handleDelete(event) {\n    event.preventDefault();\n    const queueUuid = this.props.data.uuid;\n    await this.props.destroy(queueUuid);\n  }\n\n  /*\n   * 🎨\n   */\n  render() {\n    const queue = this.props.data;\n    return (\n      <div className={styles.QueueItem}>\n        <span>{queue.trackName || queue.collectionName}</span>\n        <form onSubmit={async (e) => { await this.handleDelete(e); }}>\n          <button type=\"submit\">\n            Delete\n          </button>\n        </form>\n      </div>\n    );\n  }\n\n}\n\nQueueItem.propTypes = {};\n\nQueueItem.defaultProps = {};\n\nexport default QueueItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Queue.module.css';\nimport { fetchListQueues, fetchDeleteQueue } from './network'\nimport QueueItem from '../QueueItem/QueueItem'\n\n\nclass Queue extends React.Component {\n\n  /*\n   * 🏗\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // UI\n      errorMessage: null,\n      // Data\n      queues: [],\n    };\n\n    // This binding is necessary to make `this` work in the callback.\n    this.destroyQueueItem = this.destroyQueueItem.bind(this);\n  }\n\n  /*\n   * Load queues.\n   */\n  async componentDidMount() {\n    const jsonResponse = await fetchListQueues();\n    if(jsonResponse.system.status !== 200) {\n      this.errorMessage = jsonResponse.system.message;\n    } else {\n      this.setState({ queues: jsonResponse.data });\n    }\n  }\n\n  /*\n   * Called inside a child component, this first deletes the queue from the\n   * backend, then, on success, it deletes it from the front-end model and\n   * view.\n   */\n  async destroyQueueItem(uuid) {\n    const jsonResponse = await fetchDeleteQueue(uuid);\n    if(jsonResponse.system.status !== 200) {\n      this.errorMessage = jsonResponse.system.message;\n      return;\n    }\n    const queues = this.state.queues;\n    const filteredQueues = queues.filter(i => i.uuid !== uuid);\n    await this.setState({ queues: filteredQueues });\n  }\n\n  /*\n   * 🎨\n   */\n  render() {\n    return (\n      <div className={styles.Queue}>\n        <div>\n          {this.state.queues.map((value, index) => (\n            <QueueItem key={index} data={value} destroy={this.destroyQueueItem}></QueueItem>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n}\n\nQueue.propTypes = {};\n\nQueue.defaultProps = {};\n\nexport default Queue;\n","import { ENDPOINT_CREATE_TRACK } from '../../config/api'\nimport { TYPE_POST } from '../../config/global'\nimport { fetchBackend } from '../../utils/network'\n\n/*\n * Fetches...\n */\nexport const fetchCreateTrack = async (audioFile, imageFile, trackName, artistName, albumName) => {\n  const response = await fetchBackend(\n    TYPE_POST,\n    ENDPOINT_CREATE_TRACK,\n    {\n      audioFile: audioFile,\n      imageFile: imageFile,\n      trackName: trackName,\n      artistName: artistName,\n      albumName: albumName,\n    },\n  );\n  const responseJson = await response.json();\n  return responseJson;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\nimport styles from './Upload.module.css';\n\nimport { fetchCreateTrack } from './network';\n\n\nclass Upload extends React.Component {\n\n  /*\n   * 🏗\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // UI\n      errorMessage: null,\n      // Form\n      audioFile: '',\n      imageFile: '',\n      trackName: '',\n      artistName: '',\n      albumName: '',\n    };\n\n    // This binding is necessary to make `this` work in the callback.\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  /*\n   * Ran when an element value has changed value. The data is updated in the\n   * model layer so the component may re-render.\n   */\n  handleFileChange(event) {\n    let obj = {};\n    obj[event.target.name] = event.target.files[0];\n    this.setState(obj);\n  }\n\n  /*\n   * Ran when an element value has changed value. The data is updated in the\n   * model layer so the component may re-render.\n   */\n  handleChange(event) {\n    let obj = {};\n    obj[event.target.name] = event.target.value;\n    this.setState(obj);\n  }\n\n  /*\n   * When the user initializes a login attempt.\n   */\n  async handleSubmit(event) {\n    event.preventDefault();\n    const responseJson = await fetchCreateTrack(\n      this.state.audioFile,\n      this.state.imageFile,\n      this.state.trackName,\n      this.state.artistName,\n      this.state.albumName,\n    );\n    this.setState({\n      trackName: '',\n      artistName: '',\n      albumName: '',\n    });\n  }\n\n  render() {\n    return (\n      <form className={styles.Login} onSubmit={async (e) => { await this.handleSubmit(e); }}>\n        <h3>Upload</h3>\n\n        <label className={styles.FormBlock}>\n          Audio file\n          <input type=\"file\"\n                 name=\"audioFile\"\n                 onChange={this.handleFileChange} />\n        </label>\n\n        <label className={styles.FormBlock}>\n          Image file\n          <input type=\"file\"\n                 name=\"imageFile\"\n                 onChange={this.handleFileChange} />\n        </label>\n\n        <label className={styles.FormBlock}>\n          Track name\n          <input type=\"text\"\n                 name=\"trackName\"\n                 placeholder=\"Track name\"\n                 value={this.state.trackName}\n                 onChange={this.handleChange} />\n        </label>\n\n        <label className={styles.FormBlock}>\n          Artist name\n          <input type=\"text\"\n                 name=\"artistName\"\n                 placeholder=\"Artist name\"\n                 value={this.state.artistName}\n                 onChange={this.handleChange} />\n        </label>\n\n        <label className={styles.FormBlock}>\n          Album name\n          <input type=\"text\"\n                 name=\"albumName\"\n                 placeholder=\"Album name\"\n                 value={this.state.albumName}\n                 onChange={this.handleChange} />\n        </label>\n\n        <div className={styles.FormBlock}>\n          <button type=\"submit\">\n            Upload\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nUpload.propTypes = {};\n\nUpload.defaultProps = {};\n\nexport default Upload;\n","import './App.css';\nimport Chat from './components/Chat/Chat'\nimport Login from './components/Login/Login'\nimport Queue from './components/Queue/Queue'\nimport Upload from './components/Upload/Upload'\n\nimport React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n\n        {/* nav bar */}\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/chat\">Chat</Link>\n            </li>\n            <li>\n              <Link to=\"/queue\">Queue</Link>\n            </li>\n            <li>\n              <Link to=\"/upload\">Upload</Link>\n            </li>\n          </ul>\n        </nav>\n\n        {/* main section */}\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/chat\">\n            <Chat />\n          </Route>\n          <Route path=\"/queue\">\n            <Queue />\n          </Route>\n          <Route path=\"/upload\">\n            <Upload />\n          </Route>\n        </Switch>\n\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}