(this["webpackJsonpjukebox-radio"]=this["webpackJsonpjukebox-radio"]||[]).push([[0],{10:function(e,t,a){e.exports={CloseModal:"TrackDetail_CloseModal__bJV9e",TabButtonContainer:"TrackDetail_TabButtonContainer__3JNlW",TabButton:"TrackDetail_TabButton__2RqxS",TabButtonActive:"TrackDetail_TabButtonActive__oIu1b",MotiveContainer:"TrackDetail_MotiveContainer__2apv0",MotiveCheckboxContainer:"TrackDetail_MotiveCheckboxContainer__QKeFB",Form:"TrackDetail_Form__35UbB",FormLabel:"TrackDetail_FormLabel__2hfc0",FormInput:"TrackDetail_FormInput__3AD0g",FormSelect:"TrackDetail_FormSelect__3UaZO",FormSubmit:"TrackDetail_FormSubmit__2KJzp",ModalContent:"TrackDetail_ModalContent__1dASr",QueueName:"TrackDetail_QueueName__1D_ty",ProgressBar:"TrackDetail_ProgressBar__2bLSS",StemCheckbox:"TrackDetail_StemCheckbox__39upz"}},106:function(e,t,a){},108:function(e,t,a){},11:function(e,t,a){e.exports={WelcomeContainer:"Welcome_WelcomeContainer__8nsrj",Logo:"Welcome_Logo__12ocq",WelcomeHeader:"Welcome_WelcomeHeader__bCUVK",PlaybackOptionContainer:"Welcome_PlaybackOptionContainer__QoqCK",PlaybackOption:"Welcome_PlaybackOption__1TTVu",PlaybackOptionLogo:"Welcome_PlaybackOptionLogo__4tbRi",PlaybackOptionService:"Welcome_PlaybackOptionService__3w4JH",PlaybackOptionDescription:"Welcome_PlaybackOptionDescription__3n8RT",ModalOverlay:"Welcome_ModalOverlay__3nd-Z",Modal:"Welcome_Modal__1JXHn"}},14:function(e,t,a){e.exports={SearchApp:"SearchApp_SearchApp__Mfcqz",SearchBarContainer:"SearchApp_SearchBarContainer__2dvew",SearchBar:"SearchApp_SearchBar__CS1zo",Upload:"SearchApp_Upload__3mgyx",SearchResultsContainer:"SearchApp_SearchResultsContainer__3SEWt",ServiceCheckboxContainer:"SearchApp_ServiceCheckboxContainer__2AWhG",ServiceCheckbox:"SearchApp_ServiceCheckbox__5og-e",ServiceCheckboxLogoContainer:"SearchApp_ServiceCheckboxLogoContainer__3Fbpr",SearchResults:"SearchApp_SearchResults__p1J6y"}},207:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"initialState",(function(){return Z})),a.d(n,"open",(function(){return z})),a.d(n,"close",(function(){return J}));var r={};a.r(r),a.d(r,"initialState",(function(){return K})),a.d(r,"queueLoaded",(function(){return G}));var i={};a.r(i),a.d(i,"initialState",(function(){return ae})),a.d(i,"setTab",(function(){return ne})),a.d(i,"setMotive",(function(){return re})),a.d(i,"setForm",(function(){return ie})),a.d(i,"reset",(function(){return ce}));var c={};a.r(c),a.d(c,"initialState",(function(){return pe})),a.d(c,"setService",(function(){return be})),a.d(c,"setQuery",(function(){return je})),a.d(c,"setCache",(function(){return me}));var o=a(2),s=a.n(o),u=a(32),l=a.n(u),d=(a(106),a(3)),p=a.n(d),b=a(4),j=a(5),m=(a(108),"https://prod.jukeboxrad.io"),h="GET",f="POST";function v(){return k.apply(this,arguments)}function k(){return(k=Object(b.a)(p.a.mark((function e(){var t,a,n,r,i,c,o,s,u,l,d,b,h,f,v,k,x,y,O,C,g,w,_,M=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=M.length>0&&void 0!==M[0]?M[0]:"",a=M.length>1&&void 0!==M[1]?M[1]:"",n=M.length>2&&void 0!==M[2]?M[2]:{},a=m+a,"GET"===t){e.next=16;break}for(i=new FormData,c=0,o=Object.entries(n);c<o.length;c++)s=Object(j.a)(o[c],2),u=s[0],l=s[1],i.append(u,l);return d={headers:{}},(b=localStorage.getItem("accessToken"))&&(d.headers.Authorization="Bearer ".concat(b)),h=new Request(a,d),e.next=13,fetch(h,{method:t,mode:"cors",body:i});case 13:r=e.sent,e.next=26;break;case 16:for(f=new URLSearchParams,v=0,k=Object.entries(n);v<k.length;v++)x=Object(j.a)(k[v],2),y=x[0],O=x[1],f.set(y,O);return C=a+"/?"+f.toString(),g={headers:{"Content-Type":"application/json"}},(w=localStorage.getItem("accessToken"))&&(g.headers.Authorization="Bearer ".concat(w)),_=new Request(C,g),e.next=25,fetch(_,{method:t,mode:"cors"});case 25:r=e.sent;case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n,r){var i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/comments/text-comment/create/",{text:t,format:a,trackUuid:n,textCommentTimestamp:r});case 2:return i=e.sent,e.next=5,i.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h,"/comments/text-comment/list",{trackUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h,"/comments/voice-recording/list",{trackUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/auth/obtain-tokens/",{username:t,password:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/stream/initialize/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accessToken"),e.next=3,v(f,"/auth/verify-token/",{token:t});case 3:if(200===(a=e.sent).status){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h,"/streams/stream/get");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h,"/music/track/get-files",{trackUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/stream/next-track/",{isPlanned:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/stream/pause-track/",{});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/stream/play-track/",{startedAt:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/stream/prev-track/",{nowPlayingTotalDurationMilliseconds:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/stream/scan/",{startedAt:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h,"/users/user/get-settings");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/users/user/update-settings/",{field:t,value:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h,"/streams/queue/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/queue/delete/",{queueUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=a(101),R=a(1),I="welcome",q="track_detail",H="notation_compose",V="upload_track",Q="user_settings",W={closable:!0,bottomBar:!0},E={welcome:{closable:!1,bottomBar:!1}},Z=function(){return{isOpen:!1,view:null}},z=function(e,t){var a=t.view,n=t.data,r=Object(R.a)(Object(R.a)({},e.modal),{},{view:a,data:n,isOpen:!0,config:E[a]||W});return Object(R.a)(Object(R.a)({},e),{},{modal:r})},J=function(e,t){var a=Z();return Object(R.a)(Object(R.a)({},e),{},{modal:a})},K=function(){return{loadedQueueUuids:new Set}},G=function(e,t){var a=t.queueUuid,n=Object(R.a)({},e.streamEngine);return n.loadedQueueUuids.add(a),Object(R.a)(Object(R.a)({},e),{},{streamEngine:n})},Y="markers",X="intervals",$="listen",ee="create",te="delete",ae=function(){return{tab:Y,motive:$,form:{marker:{timestamp:"",name:""},interval:{modification:"muted",lowerBoundMarkerUuid:"null",upperBoundMarkerUuid:"null"}}}},ne=function(e,t){var a=t.tab,n=Object(R.a)({},e.trackDetail);return n.tab=a,Object(R.a)(Object(R.a)({},e),{},{trackDetail:n})},re=function(e,t){var a=t.motive,n=Object(R.a)({},e.trackDetail);return n.motive=a,Object(R.a)(Object(R.a)({},e),{},{trackDetail:n})},ie=function(e,t){var a=t.marker,n=t.interval,r=Object(R.a)({},e.trackDetail);return r.form={marker:Object(R.a)(Object(R.a)({},r.form.marker),a),interval:Object(R.a)(Object(R.a)({},r.form.interval),n)},Object(R.a)(Object(R.a)({},e),{},{trackDetail:r})},ce=function(e,t){var a=ae();return Object(R.a)(Object(R.a)({},e),{},{trackDetail:a})},oe="apple_music",se="spotify",ue="youtube",le="audius",de="jukebox_radio",pe=function(){return{service:localStorage.getItem("searchService")||null,query:"",cache:{}}},be=function(e,t){var a=t.service,n=e.userSettings;if(localStorage.setItem("searchService",a),a===oe){var r=window.MusicKit.getInstance();if(!r.musicUserToken)return r.authorize(),e}else if(a===se&&n&&!n.spotify.accessToken)return window.location.href=n.spotify.authorizationUrl,e;return Object(R.a)(Object(R.a)({},e),{},{search:Object(R.a)(Object(R.a)({},e.search),{},{service:a})})},je=function(e,t){var a=t.query;return Object(R.a)(Object(R.a)({},e),{},{search:Object(R.a)(Object(R.a)({},e.search),{},{query:a})})},me=function(e,t){var a=t.query,n=t.service,r=t.responseJson,i=Object(R.a)({},e.search.cache),c=Object(R.a)({},i[a])||{};return c[n]=r,i[a]=c,Object(R.a)(Object(R.a)({},e),{},{search:Object(R.a)(Object(R.a)({},e.search),{},{cache:i})})},he=a(8),fe=function(e,t){if(!e)return[void 0,void 0];for(var a,n=xe(e),r=["all"],i=0,c=0;;){var o=e.playbackIntervals[i],s=o.endPosition-o.startPosition,u=n-c;if(u<s){n=o.startPosition+u,o.vocals&&r.push("vocals"),o.drums&&r.push("drums"),o.bass&&r.push("bass"),o.piano&&r.push("piano"),o.other&&r.push("other"),r.length>1&&r.shift(),a=o.endPosition-n;break}i+=1,c+=s}return i===e.playbackIntervals.length-1&&(a=void 0),[n,a,r]},ve=function(e,t){if(e){for(var a=0,n=0,r=0;;){var i=e.playbackIntervals[n],c=i.endPosition-i.startPosition;if(t>=i.startPosition&&t<i.endPosition){a=t-i.startPosition+r;break}n+=1,r+=c}return a}},ke=function(e,t){if(!e)return!1;for(var a=0;a<e.playbackIntervals.length;){var n=e.playbackIntervals[a];if(t>n.endPosition-5e3&&t<n.endPosition)return!1;if(t>n.startPosition&&t<n.endPosition)return!0;a+=1}return!1},xe=function(e){return"paused"===e.status?e.statusAt-e.startedAt:"played"===e.status?Date.now()-e.startedAt:0},ye=function(e){return e>.6?.6:e>.3?.3:e>0?0:1},Oe=function(e,t){var a,n,r,i=Object(R.a)({},e.feedApp),c=e.stream,o=e.queueMap[c.nowPlayingUuid];if(!(null===o||void 0===o||null===(a=o.track)||void 0===a?void 0:a.uuid)||"paused"===o.status)return Object(R.a)(Object(R.a)({},e),{},{feedApp:i});var s=fe(o,o.startedAt)[0],u=Date.now(),l=Object(he.a)(e.feedApp.feed);l=l.filter((function(e){return!!e.stickiedAt||u<e.hiddenAt+e.stickyDuration}));var d,p=Object(he.a)((null===(n=e.feedApp.trackMap[o.track.uuid])||void 0===n?void 0:n.textCommentUuids)||[]),b=Object(he.a)((null===(r=e.feedApp.trackMap[o.track.uuid])||void 0===r?void 0:r.voiceRecordingUuids)||[]),j=Object(R.a)({},e.textCommentMap),m=Object(R.a)({},e.voiceRecordingMap),h=p.map((function(e){return j[e]})),f=b.map((function(e){return m[e]})),v=i.lastRender,k=(null===v||void 0===v?void 0:v.trackUuid)&&v.trackUuid===o.track.uuid&&v.timestampMilliseconds?v.timestampMilliseconds:o.allIntervals[0].startPosition;return d=(d=(d=[].concat(Object(he.a)(h),Object(he.a)(f))).filter((function(e){return e.timestampMilliseconds>k&&e.timestampMilliseconds<=s||e.forceDisplay}))).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds})),i.lastRender={trackUuid:o.track.uuid,timestampMilliseconds:s},d=d.map((function(e){return e.forceDisplay&&("TextComment"===e.class?(delete e.forceDisplay,j[e.uuid]=Object(R.a)({},e)):"VoiceRecording"===e.class&&(delete e.forceDisplay,m[e.uuid]=Object(R.a)({},e))),{uuid:e.uuid,class:e.class,format:e.format,displayedAt:u,hiddenAt:u+6e4,stickiedAt:null,stickyDuration:0}})),l=(l=[].concat(Object(he.a)(l),Object(he.a)(d))).sort((function(e,t){return e.displayedAt-t.displayedAt})),i.feed=l,Object(R.a)(Object(R.a)({},e),{},{feedApp:i,textCommentMap:j,voiceRecordingMap:m})},Ce=function(e,t){var a=Object(R.a)({},e.feedApp),n=t.action,r=Date.now(),i=Object(he.a)(e.feedApp.feed);return i.push({class:"SystemAction",timestampMilliseconds:t.timestampMilliseconds,trackUuid:t.trackUuid,action:t.action,displayedAt:r,hiddenAt:r+6e4,stickiedAt:null,stickyDuration:0}),"paused"===n?i=i.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{stickiedAt:r})})):"played"===n&&(i=i.map((function(e){var t=e.stickiedAt?e.stickyDuration+(r-e.stickiedAt):0;return Object(R.a)(Object(R.a)({},e),{},{stickyDuration:t,stickiedAt:null})}))),a.feed=i,a.lastRender={trackUuid:t.trackUuid,timestampMilliseconds:t.timestampMilliseconds},Object(R.a)(Object(R.a)({},e),{},{feedApp:a})},ge=function(e,t){var a=t.contentContainer,n=Object(R.a)(Object(R.a)({},e.feedApp),{},{contentContainer:a});return Object(R.a)(Object(R.a)({},e),{},{feedApp:n})},we=function(e,t){var a=t.textComment;return Object(R.a)(Object(R.a)({},e),{},{feedApp:Object(R.a)(Object(R.a)({},e.feedApp),{},{textComment:a})})},_e=function(e,t){var a={text:"",trackUuid:void 0,position:void 0};return Object(R.a)(Object(R.a)({},e),{},{feedApp:Object(R.a)(Object(R.a)({},e.feedApp),{},{textComment:a})})},Me=function(e,t){var a=Object(R.a)({},e.markerMap),n=t.marker;return void 0!==a[n.trackUuid]&&0!==a[n.trackUuid].length||(a[n.trackUuid]={}),a[n.trackUuid][n.uuid]=n,Object(R.a)(Object(R.a)({},e),{},{markerMap:a})},Ae=function(e,t){var a=Object(R.a)({},e.markerMap),n=t.marker,r=Object(R.a)({},a[n.trackUuid]);return delete r[n.uuid],a[n.trackUuid]=r,Object(R.a)(Object(R.a)({},e),{},{markerMap:a})},Pe=a(12),Le=function(e,t){var a=void 0;return a=t.queue?t.queue.uuid:t.queueUuid?t.queueUuid:e.stream.nowPlayingUuid,Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},e.playback),{},{nowPlayingUuid:a,isPlaying:!1})})},Se=function(e,t){return Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},e.playback),{},{spotifyApi:t.spotifyApi})})},Ue=function(e,t){return Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},e.playback),{},{youTubeApi:t.youTubeApi})})},Ne=function(e,t){return Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},e.playback),{},{youTubeAutoplay:t.autoplay?1:0})})},Be=function(e,t){var a=t.service,n=Object(R.a)({},e.playback),r=Object(R.a)({},e.playback.loaded);return r[a]=!0,n.loaded=r,Object(R.a)(Object(R.a)({},e),{},{playback:n})},Fe=function(e,t){var a=Object(R.a)(Object(R.a)({},e.playback),{},{seekTimeoutId:t.timeoutId});return Object(R.a)(Object(R.a)({},e),{},{playback:a})},Te=function(e,t){clearTimeout(e.playback.seekTimeoutId);var a=Object(R.a)(Object(R.a)({},e.playback),{},{seekTimeoutId:!1});return Object(R.a)(Object(R.a)({},e),{},{playback:a})},De=function(e){return Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},e.playback),{},{controlsEnabled:!1})})},Re=function(e){return Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},e.playback),{},{controlsEnabled:!0})})},Ie=function(e,t){var a=Object(R.a)({},e.playback),n=Object(R.a)({},e.playback.files),r=t.onplay,i=t.onpause,c=t.onseeked,o=new Audio(t.track.audioUrl);o.onpause=i,o.onplay=r,o.onseeked=c;var s,u={all:o},l=Object(Pe.a)(t.track.stems);try{for(l.s();!(s=l.n()).done;){var d=s.value;(o=new Audio(d.audioUrl)).onpause=i,o.onplay=r,o.onseeked=c,u[d.instrument]=o}}catch(p){l.e(p)}finally{l.f()}return n[t.track.uuid]=u,Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},a),{},{files:n})})},qe=function(e,t){var a=Object(R.a)({},e.playback),n=Object(R.a)({},e.playback.files),r=t.onplay,i=t.onpause,c=t.onseeked,o=new Audio("https://discoveryprovider.audius5.prod-us-west-2.staked.cloud/v1/tracks/".concat(t.id,"/stream?app_name=Jukebox Radio"));return o.onpause=i,o.onplay=r,o.onseeked=c,n[t.trackUuid]=o,Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},a),{},{files:n})})},He=function(e){var t=Object(R.a)({},e.playback.volumeLevel),a=t.audio;return t.audio=ye(a),Object(R.a)(Object(R.a)({},e),{},{playback:Object(R.a)(Object(R.a)({},e.playback),{},{volumeLevel:t})})},Ve=function(e,t){var a=t.action,n=Object(R.a)(Object(R.a)({},e.playback),{},{action:a}),r=Object(R.a)({},e.queueMap),i=Object(R.a)({},e.main);if(!a){var c=e.playback.action;"played"===c?n.isPlaying=!0:"paused"===c&&(n.isPlaying=!1,clearTimeout(e.main.autoplayTimeoutId),i.autoplayTimeoutId=!1)}return Object(R.a)(Object(R.a)({},e),{},{playback:n,queueMap:r})},Qe=function(e,t){var a,n=Object(R.a)({},e),r=Object(Pe.a)(t);try{for(r.s();!(a=r.n()).done;){var i=a.value;n=We(n,i)}}catch(c){r.e(c)}finally{r.f()}return n},We=function(e,t){var a,n,r,i=Object(R.a)({},t),c=Object(R.a)({},e),o=Object(R.a)({},e.queueMap);if(null===(a=i.children)||void 0===a?void 0:a.length){var s;(null===(s=i.collection)||void 0===s?void 0:s.service)===oe&&(i.collection.imageUrl=i.collection.imageUrl.replace("{w}","300"),i.collection.imageUrl=i.collection.imageUrl.replace("{h}","300"));var u=Qe(c,i.children);i.childUuids=i.children.map((function(e){return e.uuid})),delete i.children;var l=Object(R.a)({},u.queueMap);return l[i.uuid]=i,u.queueMap=l,u}delete i.children,i.childUuids=[],(null===(n=i.track)||void 0===n?void 0:n.service)===oe&&(i.track.imageUrl=i.track.imageUrl.replace("{w}","300"),i.track.imageUrl=i.track.imageUrl.replace("{h}","300"));var d,p=i.intervals,b=null===(r=i.track)||void 0===r?void 0:r.durationMilliseconds,j=Object(R.a)({},e.markerMap),m=Object(Pe.a)(t.markers);try{for(m.s();!(d=m.n()).done;){var h=d.value;void 0!==j[h.trackUuid]&&0!==j[h.trackUuid].length||(j[h.trackUuid]={}),j[h.trackUuid][h.uuid]=h}}catch(A){m.e(A)}finally{m.f()}if(c.markerMap=j,!p.length)return i.playbackIntervals=[{startPosition:0,endPosition:b,purpose:"all",uuid:null}],i.allIntervals=[{startPosition:0,endPosition:b,purpose:"all",uuid:null}],o[i.uuid]=i,c.queueMap=o,c;var f,v,k=[],x=t.track.uuid,y=Object(Pe.a)(p);try{for(y.s();!(v=y.n()).done;){var O,C,g=v.value,w=null===(O=j[x][g.lowerBoundUuid])||void 0===O?void 0:O.timestampMilliseconds,_=null===(C=j[x][g.upperBoundUuid])||void 0===C?void 0:C.timestampMilliseconds;if("muted"!==g.purpose)g.lowerBound&&0!==w&&k.push({startPosition:0,endPosition:w,purpose:"all",uuid:void 0}),k.push({startPosition:w||0,endPosition:_||b,purpose:g.purpose,uuid:g.uuid,vocals:g.vocals,drums:g.drums,bass:g.bass,piano:g.piano,other:g.other}),f=_;else{if(!g.lowerBoundUuid){k.push({startPosition:0,endPosition:_,purpose:"muted",uuid:g.uuid}),f=_;continue}if(k.length||k.push({startPosition:0,endPosition:w,purpose:"all",uuid:void 0}),!g.upperBoundUuid){f&&f!==w&&k.push({startPosition:f,endPosition:w,purpose:"all",uuid:void 0}),k.push({startPosition:w||0,endPosition:b,purpose:"muted",uuid:g.uuid}),f=void 0;continue}f&&f!==w&&k.push({startPosition:f,endPosition:w,purpose:"all",uuid:void 0}),k.push({startPosition:w,endPosition:_,purpose:g.purpose,uuid:g.uuid}),f=_}}}catch(A){y.e(A)}finally{y.f()}f&&f!==b&&k.push({startPosition:f,endPosition:b,purpose:"all",uuid:void 0});var M=k.filter((function(e){return"muted"!==e.purpose}));return i.playbackIntervals=M,i.allIntervals=k,o[i.uuid]=i,c.queueMap=o,c},Ee=function(e,t){var a=Object(R.a)({},e);a=Qe(a,t.lastUpQueues),a=Qe(a,t.nextUpQueues);var n=t.lastUpQueues.map((function(e){return e.uuid})),r=t.nextUpQueues.map((function(e){return e.uuid})),i=a._lastPlayed;i&&n.push(i.uuid);var c=a.stream,o=a.queueMap[c.nowPlayingUuid];return"played"!==(null===o||void 0===o?void 0:o.status)&&"paused"!==(null===o||void 0===o?void 0:o.status)&&o&&(n.push(c.nowPlayingUuid),c=Object(R.a)(Object(R.a)({},c),{},{nowPlayingUuid:void 0})),Object(R.a)(Object(R.a)({},a),{},{stream:c,lastUpQueueUuids:n,nextUpQueueUuids:r,queueMap:a.queueMap})},Ze=function(e,t){return Qe(e,t.queues)},ze=function(e,t){var a=e.nextUpQueueUuids.filter((function(e){return e!==t.queueUuid}));return Object(R.a)(Object(R.a)({},e),{},{nextUpQueueUuids:a})},Je=function(e,t){var a=Object(R.a)({},e.queueMap),n=Object(R.a)({},e.queueMap[t.parentUuid]);return n.childUuids=n.childUuids.filter((function(e){return e!==t.queueUuid})),a[n.uuid]=n,Object(R.a)(Object(R.a)({},e),{},{queueMap:a})},Ke=function(e,t){var a=Object(R.a)({},e.main);return a.enabled=!0,Object(R.a)(Object(R.a)({},e),{},{main:a})},Ge=function(e,t){var a=Object(R.a)({},e.main);return a.enabled=!1,Object(R.a)(Object(R.a)({},e),{},{main:a})},Ye=function(e,t){var a=t.action,n=Object(R.a)({},e.main);return n.actions=[].concat(Object(he.a)(n.actions),[a]),Object(R.a)(Object(R.a)({},e),{},{main:n})},Xe=function(e,t){var a=Object(R.a)({},e.main),n=Object(he.a)(a.actions),r=Object(R.a)({},n[0]);return r.status="pending",n[0]=r,a.actions=n,Object(R.a)(Object(R.a)({},e),{},{main:a})},$e=function(e,t){var a=Object(R.a)({},e.main),n=Object(he.a)(a.actions);return n.shift(),a.actions=n,Object(R.a)(Object(R.a)({},e),{},{main:a})},et=function(e,t){var a=Object(R.a)(Object(R.a)({},e.main),{},{autoplayTimeoutId:t.timeoutId});return Object(R.a)(Object(R.a)({},e),{},{main:a})},tt=function(e,t){clearTimeout(e.main.autoplayTimeoutId);var a=Object(R.a)(Object(R.a)({},e.main),{},{autoplayTimeoutId:!1});return Object(R.a)(Object(R.a)({},e),{},{main:a})},at=function(e,t){return e.map((function(e){return t[e]}))},nt=function e(t,a){if(!t)return null;var n=a[t];return n.childUuids.length?e(n.childUuids[0],a):n},rt=function(e,t){var a=function(e){return e.durationMilliseconds},n=t?xe(t):0,r=0;return n&&(r=t.durationMilliseconds-n),e.length?1===e.length?r+a(e[0]):r+e.reduce((function(e,t){return"number"!==typeof e&&(e=a(e)),e+a(t)})):r+0},it=function(e){var t=e;function a(e,t){return("00"+e).slice(-(t=t||2))}var n=(t=(t-t%1e3)/1e3)%60,r=(t=(t-n)/60)%60;return e>=36e5?(t-r)/60+":"+a(r)+":"+a(n):r+":"+a(n)},ct=function(e){if(e<6e4)return"shortly";var t=e,a=(t=((t=(t-t%1e3)/1e3)-t%60)/60)%60,n=(t-a)/60,r="in ";return n&&(r+="".concat(n,1===n?" hour":" hours"),a&&(r+=" ")),a&&(r+="".concat(a,1===a?" minute":" minutes")),r},ot=function(e,t){var a,n=st(e,t),r=Object(R.a)({},n.stream),i=n.queueMap[r.nowPlayingUuid];if(!(null===i||void 0===i||null===(a=i.track)||void 0===a?void 0:a.uuid))return n;var c=Object(R.a)({},e.markerMap);void 0!==c[i.track.uuid]&&0!==c[i.track.uuid].length||(c[i.track.uuid]={});var o,s=Object(Pe.a)(i.markers);try{for(s.s();!(o=s.n()).done;){var u=o.value;c[i.track.uuid][u.uuid]=u}}catch(l){s.e(l)}finally{s.f()}return n.markerMap=c,Object(R.a)(Object(R.a)({},n),{},{stream:r})},st=function(e,t){var a=t.stream,n=a.nowPlaying,r=Object(R.a)({},e);n&&(r=Qe(r,[n])),r.stream=a;var i="played"===a.nowPlaying.status?Date.now()-a.nowPlaying.startedAt:a.nowPlaying.statusAt-a.nowPlaying.startedAt;if(("played"!==a.nowPlaying.status&&"paused"!==a.nowPlaying.status&&a.nowPlaying||i&&i>=a.nowPlaying.durationMilliseconds)&&(r.lastUp=a.nowPlaying,r._lastPlayed=a.nowPlaying,r.stream.nowPlaying=void 0),r.stream.nowPlaying){var c=r.stream.nowPlaying.uuid;delete r.stream.nowPlaying,r.stream.nowPlayingUuid=c}else delete r.stream.nowPlaying,r.stream.nowPlayingUuid=void 0;return r},ut=function(e,t){var a=Object(R.a)({},e.queueMap),n=Object(R.a)(Object(R.a)({},a[e.stream.nowPlayingUuid]),{},{startedAt:t.startedAt,statusAt:t.statusAt,status:t.status});return a[n.uuid]=n,Object(R.a)(Object(R.a)({},e),{},{queueMap:a})},lt=function(e,t){var a=Object(R.a)({},e.queueMap),n=Object(R.a)(Object(R.a)({},a[e.stream.nowPlayingUuid]),{},{statusAt:t.statusAt,status:t.status});return a[n.uuid]=n,Object(R.a)(Object(R.a)({},e),{},{queueMap:a})},dt=function(e,t){var a=Object(he.a)(e.lastUpQueueUuids),n=Object(he.a)(e.nextUpQueueUuids),r=e.stream.nowPlayingUuid,i=Object(R.a)({},e.queueMap),c=n[0],o=nt(c,i);if(r){var s=Object(R.a)({},i[r]);if(o)if(o.uuid!==c){var u;u=Object(R.a)({},i[c]),s.parentUuid!==u.uuid&&(n.unshift(s.parentUuid),u=Object(R.a)({},i[s.parentUuid])),u.childUuids.unshift(r),i[u.uuid]=u}else n.unshift(r);else if(s.parentUuid)n.unshift(s.parentUuid),Object(R.a)({},i[s.parentUuid]).childUuids.unshift(r);else n.unshift(r)}var l=a.pop();return Object(R.a)(Object(R.a)({},e),{},{stream:Object(R.a)(Object(R.a)({},e.stream),{},{nowPlayingUuid:l}),lastUpQueueUuids:a,nextUpQueueUuids:n,queueMap:i,_lastPlayed:void 0})},pt=function(e,t){var a=Object(he.a)(e.lastUpQueueUuids),n=Object(he.a)(e.nextUpQueueUuids),r=e.stream.nowPlayingUuid,i=e.queueMap;a.push(r);var c,o=n.shift(),s=Object(R.a)({},nt(o,i));o!==s.uuid&&((c=Object(R.a)({},e.queueMap[o])).childUuids.shift(),i[c.uuid]=c,c.childUuids.length>0&&n.unshift(o));return s.startedAt=Date.now(),i[s.uuid]=s,Object(R.a)(Object(R.a)({},e),{},{stream:Object(R.a)(Object(R.a)({},e.stream),{},{nowPlayingUuid:s.uuid}),lastUpQueueUuids:a,nextUpQueueUuids:n,queueMap:i,_lastPlayed:void 0})},bt=function(e,t){var a,n=t.textComments,r=t.trackUuid,i=Object(R.a)({},e.textCommentMap),c=Object(R.a)({},e.feedApp),o=Object(R.a)({},e.feedApp.trackMap),s=Object(Pe.a)(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;i[u.uuid]=u}}catch(d){s.e(d)}finally{s.f()}o.hasOwnProperty(r)||(o[r]={});var l=n.map((function(e){return e.uuid}));return o[r].textCommentUuids=l,c.trackMap=o,Object(R.a)(Object(R.a)({},e),{},{feedApp:c,textCommentMap:i})},jt=function(e,t){var a=t.textComment,n=a.trackUuid,r=Object(R.a)({},e.textCommentMap),i=Object(R.a)({},e.feedApp),c=Object(he.a)(e.feedApp.trackMap[n].textCommentUuids);return a.forceDisplay=!0,r[a.uuid]=a,c.push(a.uuid),i.trackMap[n].textCommentUuids=c,Object(R.a)(Object(R.a)({},e),{},{feedApp:i,textCommentMap:r})},mt=function(e,t){var a,n=t.textCommentUuid,r=t.trackUuid,i=Object(R.a)({},e.textCommentMap),c=Object(R.a)({},e.feedApp),o=Object(R.a)({},e.feedApp.trackMap);return a=(a=Object(he.a)(o[r].textCommentUuids)).filter((function(e){return e!==n})),o[r].textCommentUuids=a,c.trackMap=o,delete i[n],Object(R.a)(Object(R.a)({},e),{},{feedApp:c,textCommentMap:i})},ht=function(e,t){var a=Object(R.a)({},e.notesApp),n=Object(R.a)({},e.notesApp.store),r=t.key,i=t.value;return n[r]=i,a.store=n,localStorage.setItem("notesStore",JSON.stringify(n)),Object(R.a)(Object(R.a)({},e),{},{notesApp:a})},ft=function(e,t){var a,n=Object(R.a)({},e.textCommentMap),r=t.textCommentModifications,i=r.modified,c=r.deleted,o=t.textCommentUuid,s=Object(R.a)({},e.textCommentMap[o]),u=Object(he.a)(s.modifications);if(-1!==(a=u.findIndex((function(e){return e.uuid===i.uuid})))?u[a]=i:(u.push(i),u=u.sort((function(e,t){return e.startPtr-t.startPtr}))),c)for(var l=function(e){var t=c[e];-1!==(a=u.findIndex((function(e){return e.uuid===c.uuid})))&&(u=u.filter((function(e){return e.uuid!==t.uuid})))},d=0;d<c.length;d++)l(d);return s.modifications=u,n[s.uuid]=s,Object(R.a)(Object(R.a)({},e),{},{textCommentMap:n})},vt=function(e,t){var a=Object(R.a)({},e.textCommentMap),n=t.textCommentUuid,r=a[n];return r.modifications=[],a[n]=r,Object(R.a)(Object(R.a)({},e),{},{textCommentMap:a})},kt=function(e,t){var a,n=t.voiceRecordings,r=t.trackUuid,i=Object(R.a)({},e.voiceRecordingMap),c=Object(R.a)({},e.feedApp),o=Object(R.a)({},e.feedApp.trackMap),s=Object(Pe.a)(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;i[u.uuid]=u}}catch(d){s.e(d)}finally{s.f()}o.hasOwnProperty(r)||(o[r]={});var l=n.map((function(e){return e.uuid}));return o[r].voiceRecordingUuids=l,c.trackMap=o,Object(R.a)(Object(R.a)({},e),{},{feedApp:c,voiceRecordingMap:i})},xt=function(e,t){var a=t.voiceRecording,n=a.trackUuid,r=Object(R.a)({},e.voiceRecordingMap),i=Object(R.a)({},e.feedApp),c=Object(he.a)(e.feedApp.trackMap[n].voiceRecordingUuids);return a.forceDisplay=!0,r[a.uuid]=a,c.push(a.uuid),i.trackMap[n].voiceRecordingUuids=c,Object(R.a)(Object(R.a)({},e),{},{feedApp:i,voiceRecording:a,voiceRecordingMap:r})},yt=function(e,t){var a,n=t.voiceRecordingUuid,r=t.trackUuid,i=Object(R.a)({},e.voiceRecordingMap),c=Object(R.a)({},e.feedApp),o=Object(R.a)({},e.feedApp.trackMap);return a=(a=Object(he.a)(o[r].voiceRecordingUuids)).filter((function(e){return e!==n})),o[r].voiceRecordingUuids=a,c.trackMap=o,delete i[n],Object(R.a)(Object(R.a)({},e),{},{feedApp:c,voiceRecordingMap:i})},Ot=function(e,t){var a,n=e.voiceRecordings.currentlyPlayingUuids,r=Object(Pe.a)(n);try{for(r.s();!(a=r.n()).done;){var i=a.value;e.playback.files[i].pause()}}catch(c){r.e(c)}finally{r.f()}return clearTimeout(e.voiceRecordingTimeoutId),Object(R.a)(Object(R.a)({},e),{},{voiceRecordings:Object(R.a)(Object(R.a)({},e.voiceRecordings),{},{currentlyPlayingUuids:new Set,update:e.voiceRecordings.update+1})})},Ct=function(e,t){var a;console.log("PLAYING!");var n=e.voiceRecordings.currentlyPlayingUuids,r=Object(R.a)({},e.voiceRecordingMap),i=Object(R.a)({},e.playback.files),c=e.queueMap[e.playback.nowPlayingUuid],o=fe(c,c.startedAt)[0],s=Object(R.a)({},e.playback),u=Object(he.a)((null===(a=e.feedApp.trackMap[c.track.uuid])||void 0===a?void 0:a.voiceRecordingUuids)||[]);u=u.filter((function(e){return!n.has(e)}));var l,d=Object(Pe.a)(u);try{for(d.s();!(l=d.n()).done;){var p=l.value,b=r[p],j=b.timestampMilliseconds,m=j+b.durationMilliseconds;if(!(o<j||o>m)){var h=e.playback.files[p];if(h||(h=new Audio(b.audioUrl),s.files[p]=h),h.paused){var f=o-b.timestampMilliseconds;f>10&&(h.currentTime=f/1e3),h.play(),i[b.uuid]=h,n.add(b.uuid)}}}}catch(k){d.e(k)}finally{d.f()}var v=e.voiceRecordingTimeoutId>0?-1:e.voiceRecordingTimeoutId-1;return Object(R.a)(Object(R.a)({},e),{},{playback:s,voiceRecordings:Object(R.a)(Object(R.a)({},e.voiceRecordings),{},{currentlyPlayingUuids:n,update:e.voiceRecordings.update+1}),voiceRecordingTimeoutId:v})},gt=function(e,t){var a=t.timeoutId;return Object(R.a)(Object(R.a)({},e),{},{voiceRecordingTimeoutId:a})},wt=function(e,t){return Object(R.a)(Object(R.a)({},e),{},{userSettings:Object(R.a)(Object(R.a)({},e.userSettings),t)})},_t=function(e,t){return Object(R.a)(Object(R.a)({},e),{},{userSettings:t.userSettings})},Mt=function(e,t){return Object(R.a)(Object(R.a)({},e),{},{sideBar:Object(R.a)(Object(R.a)({},e.sideBar),{},{tab:t.tab})})},At={nextUpQueueUuids:[],lastUpQueueUuids:[],_lastPlayed:void 0,userSettings:void 0,markerMap:{},queueMap:{},textCommentMap:{},voiceRecordingMap:{},voiceRecordings:{currentlyPlayingUuids:new Set,update:0},voiceRecordingTimeoutId:-1,main:{actions:[],enabled:!0,autoplayTimeoutId:!1},playback:{spotifyApi:void 0,youTubeApi:void 0,youTubeAutoplay:0,isPlaying:!1,seekTimeoutId:!1,files:{},volumeLevel:{audio:1,voice:1},loaded:{spotify:!1,youTube:!1,appleMusic:!1,audius:!0,jukeboxRadio:!0},pending:{spotify:!1,youtube:!1,appleMusic:!1,audius:!1,jukeboxRadio:!1},action:null,nowPlayingUuid:void 0},search:pe(),feedApp:{contentContainer:null,feed:[],trackMap:{},lastRender:{},textComment:{text:"",trackUuid:void 0,position:void 0}},notesApp:{store:JSON.parse(localStorage.getItem("notesStore"))||{}},sideBar:{tab:null},modal:Z(),streamEngine:K(),trackDetail:ae()},Pt=Object(D.a)((function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0,a={modal:n,streamEngine:r,trackDetail:i,search:c},o=0,s=Object.entries(a);o<s.length;o++)for(var u=Object(j.a)(s[o],2),l=u[0],d=u[1],p=0,b=Object.entries(d);p<b.length;p++){var m=Object(j.a)(b[p],2),h=m[0],f=m[1];if("initialState"!==h&&t.type==="".concat(l,"/").concat(h))return f(e,t.payload)}switch(t.type){case"stream/set":return ot(e,t.payload);case"stream/play":return ut(e,t.payload);case"stream/pause":return lt(e,t.payload);case"stream/prevTrack":return dt(e,t.payload);case"stream/nextTrack":return pt(e,t.payload);case"queue/listSet":return Ee(e,t.payload);case"queue/deleteNode":return ze(e,t);case"queue/deleteChildNode":return Je(e,t);case"queue/update":return Ze(e,t.payload);case"textComment/listSet":return bt(e,t.payload);case"textComment/create":return jt(e,t.payload);case"textComment/delete":return mt(e,t.payload);case"textCommentModification/create":return ft(e,t.payload);case"textComment/clearModifications":return vt(e,t.payload);case"voiceRecording/create":return xt(e,t.payload);case"voiceRecording/listSet":return kt(e,t.payload);case"voiceRecording/delete":return yt(e,t.payload);case"voiceRecording/pause":return Ot(e,t.payload);case"voiceRecording/play":return Ct(e,t.payload);case"voiceRecording/schedulePlay":return gt(e,t.payload);case"feed/update":return Oe(e);case"feed/takeAction":return Ce(e,t.payload);case"feedApp/setContentContainer":return ge(e,t.payload);case"feedApp/setTextComment":return we(e,t.payload);case"feedApp/resetTextComment":return _e(e,t.payload);case"user/get-settings":return _t(e,t);case"userSettings/update":return wt(e,t.payload);case"marker/create":return Me(e,t.payload);case"marker/delete":return Ae(e,t.payload);case"playback/mount":return Le(e,t.payload);case"playback/disable":return De(e);case"playback/enable":return Re(e);case"playback/spotify":return Se(e,t.payload);case"playback/loaded":return Be(e,t.payload);case"playback/youTube":return Ue(e,t.payload);case"playback/youTubeTriggerAutoplay":return Ne(e,t.payload);case"playback/setSeekTimeoutId":return Fe(e,t.payload);case"playback/clearSeekTimeoutId":return Te(e,t.payload);case"playback/loadFiles":return Ie(e,t.payload);case"playback/loadAudius":return qe(e,t.payload);case"playback/cycleVolumeLevelAudio":return He(e);case"playback/action":return Ve(e,t.payload);case"main/enable":return Ke(e,t.payload);case"main/disable":return Ge(e,t.payload);case"main/addAction":return Ye(e,t.payload);case"main/actionShift":return $e(e,t.payload);case"main/actionStart":return Xe(e,t.payload);case"main/setAutoplayTimeoutId":return et(e,t.payload);case"main/clearAutoplayTimeoutId":return tt(e,t.payload);case"sideBar/selectTab":return Mt(e,t.payload);case"notesApp/set":return ht(e,t.payload);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0})),Lt=a(0),St=Object(Lt.jsxs)("svg",{width:"38",height:"38",viewBox:"0 0 213 213",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("rect",{width:"213",height:"213",fill:"#0047FF"}),Object(Lt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.9999 172.354L65.9999 140.822C93.3189 140.822 115.465 118.675 115.465 91.3561L115.465 91.3535L147 91.3535L147 91.3544C147 136.089 110.735 172.354 66 172.354C66 172.354 65.9999 172.354 65.9999 172.354Z",fill:"white"}),Object(Lt.jsx)("circle",{cx:"130.924",cy:"56.7267",r:"16.0763",fill:"white"})]}),Ut=Object(Lt.jsxs)("svg",{height:"24",viewBox:"0 0 131 213",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-5.72619e-06 213C72.3493 213 131 154.349 131 82L80 82C80 126.183 44.1828 162 -3.49691e-06 162L-5.72619e-06 213Z",fill:"#0047FF"}),Object(Lt.jsx)("circle",{cx:"105",cy:"26",r:"26",fill:"#0047FF"})]}),Nt=Object(Lt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 168 168",style:{width:"24px"},children:Object(Lt.jsx)("path",{fill:"#1ED760",d:"m83.996 0.277c-46.249 0-83.743 37.493-83.743 83.742 0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l0.001-0.004zm38.404 120.78c-1.5 2.46-4.72 3.24-7.18 1.73-19.662-12.01-44.414-14.73-73.564-8.07-2.809 0.64-5.609-1.12-6.249-3.93-0.643-2.81 1.11-5.61 3.926-6.25 31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-0.903-8.148-4.35-1.04-3.453 0.907-7.093 4.354-8.143 30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-0.001zm0.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219-1.254-4.14 1.08-8.513 5.221-9.771 29.581-8.98 78.756-7.245 109.83 11.202 3.73 2.209 4.95 7.016 2.74 10.733-2.2 3.722-7.02 4.949-10.73 2.739z"})}),Bt=Object(Lt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 721",style:{width:"24px"},children:[Object(Lt.jsx)("path",{fill:"#FFF",d:"M407 493l276-143-276-144v287z"}),Object(Lt.jsx)("path",{opacity:.12,fill:"#420000",d:"M407 206l242 161.6 34-17.6-276-144z"}),Object(Lt.jsxs)("linearGradient",{id:"prefix__a",gradientUnits:"userSpaceOnUse",x1:512.5,y1:719.7,x2:512.5,y2:1.2,gradientTransform:"matrix(1 0 0 -1 0 721)",children:[Object(Lt.jsx)("stop",{offset:0,stopColor:"#e52d27"}),Object(Lt.jsx)("stop",{offset:1,stopColor:"#bf171d"})]}),Object(Lt.jsx)("path",{fill:"url(#prefix__a)",d:"M1013 156.3s-10-70.4-40.6-101.4C933.6 14.2 890 14 870.1 11.6 727.1 1.3 512.7 1.3 512.7 1.3h-.4s-214.4 0-357.4 10.3C135 14 91.4 14.2 52.6 54.9 22 85.9 12 156.3 12 156.3S1.8 238.9 1.8 321.6v77.5C1.8 481.8 12 564.4 12 564.4s10 70.4 40.6 101.4c38.9 40.7 89.9 39.4 112.6 43.7 81.7 7.8 347.3 10.3 347.3 10.3s214.6-.3 357.6-10.7c20-2.4 63.5-2.6 102.3-43.3 30.6-31 40.6-101.4 40.6-101.4s10.2-82.7 10.2-165.3v-77.5c0-82.7-10.2-165.3-10.2-165.3zM407 493V206l276 144-276 143z"})]}),Ft=Object(Lt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 73 73",style:{width:"24px"},children:[Object(Lt.jsxs)("linearGradient",{id:"prefix__a",gradientUnits:"userSpaceOnUse",x1:36,y1:2.286,x2:36,y2:72.455,gradientTransform:"matrix(1 0 0 -1 0 74.007)",children:[Object(Lt.jsx)("stop",{offset:0,stopColor:"#fa233b"}),Object(Lt.jsx)("stop",{offset:1,stopColor:"#fb5c74"})]}),Object(Lt.jsx)("path",{d:"M72 22.52v-2.58c0-.72-.01-1.45-.03-2.17-.04-1.58-.14-3.17-.42-4.73-.28-1.58-.75-3.06-1.48-4.5-.72-1.41-1.66-2.71-2.78-3.83s-2.42-2.06-3.83-2.78A15.9 15.9 0 0058.97.45C57.41.17 55.82.08 54.24.03L52.06 0H19.94c-.72 0-1.45.01-2.17.03-1.58.04-3.17.14-4.73.42-1.58.29-3.06.75-4.49 1.49-1.42.72-2.71 1.66-3.83 2.78S2.65 7.13 1.93 8.55C1.2 9.99.73 11.46.45 13.05.17 14.61.08 16.2.03 17.78L0 19.94v32.11c0 .72.01 1.45.03 2.17.04 1.58.14 3.17.42 4.73.28 1.58.75 3.06 1.48 4.5.72 1.41 1.66 2.71 2.78 3.83 1.12 1.12 2.42 2.06 3.83 2.78a15.9 15.9 0 004.49 1.48c1.56.28 3.15.37 4.73.42.72.02 1.45.03 2.17.03.86.01 1.72 0 2.58 0h29.53c.72 0 1.45-.01 2.17-.03 1.58-.04 3.17-.14 4.73-.42 1.58-.28 3.06-.75 4.49-1.48 1.41-.72 2.71-1.66 3.83-2.78 1.12-1.12 2.06-2.41 2.78-3.83.73-1.44 1.2-2.91 1.48-4.5.28-1.56.37-3.15.42-4.73.02-.72.03-1.45.03-2.17.01-.86 0-1.72 0-2.58L72 22.52z",fillRule:"evenodd",clipRule:"evenodd",fill:"url(#prefix__a)"}),Object(Lt.jsx)("g",{children:Object(Lt.jsx)("path",{d:"M50.9 11c-.17.02-1.72.29-1.91.33l-21.4 4.32h-.01c-.56.12-1 .32-1.33.6-.41.34-.63.83-.72 1.39-.02.12-.05.36-.05.72v26.78c0 .63-.05 1.23-.47 1.75s-.95.67-1.56.8c-.47.09-.93.19-1.4.28-1.77.36-2.92.6-3.96 1-1 .39-1.74.88-2.34 1.5-1.18 1.23-1.66 2.91-1.49 4.48.14 1.34.74 2.62 1.78 3.56.7.64 1.57 1.13 2.6 1.33 1.07.21 2.2.14 3.86-.2.88-.18 1.71-.46 2.5-.92a6.23 6.23 0 001.97-1.82c.52-.75.86-1.58 1.05-2.47.19-.91.24-1.74.24-2.65V28.56c0-1.24.35-1.57 1.36-1.82 0 0 17.79-3.59 18.62-3.75 1.16-.22 1.7.11 1.7 1.32v15.86c0 .63-.01 1.26-.43 1.78s-.95.67-1.56.8c-.47.09-.93.19-1.4.28-1.77.36-2.92.6-3.96 1-1 .39-1.74.88-2.34 1.5a5.643 5.643 0 00-1.53 4.48c.14 1.34.78 2.62 1.82 3.56.7.64 1.57 1.11 2.6 1.32 1.07.21 2.2.14 3.86-.2.88-.18 1.71-.44 2.5-.91a6.23 6.23 0 001.97-1.82c.52-.75.86-1.58 1.05-2.47.19-.91.2-1.74.2-2.65V12.89c-.01-1.23-.66-1.99-1.82-1.89z",fillRule:"evenodd",clipRule:"evenodd",fill:"#fff"})})]}),Tt=Object(Lt.jsxs)("svg",{style:{maxWidth:"24px",maxHeight:"24px"},viewBox:"0 0 34 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M32.1883 25.9507C32.1883 26.7778 31.8597 27.5711 31.2748 28.156C30.6899 28.7409 29.8967 29.0695 29.0695 29.0695H4.11883C3.29167 29.0695 2.49838 28.7409 1.91348 28.156C1.32859 27.5711 1 26.7778 1 25.9507V4.11883C1 3.29167 1.32859 2.49838 1.91348 1.91348C2.49838 1.32859 3.29167 1 4.11883 1H11.9159L15.0347 5.67825H29.0695C29.8967 5.67825 30.6899 6.00684 31.2748 6.59173C31.8597 7.17663 32.1883 7.96991 32.1883 8.79708V25.9507Z",fill:"#0047FF",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M16.5938 13.3848V22.7413",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M11.916 18.1523H21.2725",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),Dt=Object(Lt.jsxs)("svg",{width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M13.5 26C20.4036 26 26 20.4036 26 13.5C26 6.59644 20.4036 1 13.5 1C6.59644 1 1 6.59644 1 13.5C1 20.4036 6.59644 26 13.5 26Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M13.5 8.5L8.5 13.5L13.5 18.5",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M18.793 13.1133H8.79297",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Rt=Object(Lt.jsx)("img",{src:"/audius.png",style:{maxWidth:"24px",maxHeight:"24px"},alt:"Audius"}),It=Object(Lt.jsx)("img",{src:"/audius.png",style:{maxWidth:"26px",maxHeight:"26px"},alt:"Audius"}),qt=a(33),Ht=a.n(qt);var Vt=function(e){var t=Object(o.useState)(""),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(""),c=Object(j.a)(i,2),s=c[0],u=c[1],l=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n,s);case 2:if((a=e.sent).access&&a.refresh){e.next=5;break}return e.abrupt("return");case 5:return localStorage.setItem("accessToken",a.access),localStorage.setItem("refreshToken",a.refresh),e.next=9,g();case 9:localStorage.removeItem("searchService"),window.location.href="/app/welcome";case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Lt.jsxs)("div",{className:Ht.a.LoginContainer,children:[Object(Lt.jsx)("div",{className:Ht.a.Logo,children:St}),Object(Lt.jsxs)("div",{className:Ht.a.Login,children:[Object(Lt.jsxs)("label",{className:Ht.a.FormBlock,children:[Object(Lt.jsx)("span",{children:"E-mail*"}),Object(Lt.jsx)("input",{type:"text",name:"username",value:n,onChange:function(e){r(e.target.value)}})]}),Object(Lt.jsxs)("label",{className:Ht.a.FormBlock,children:[Object(Lt.jsx)("span",{children:"Password*"}),Object(Lt.jsx)("input",{type:"password",name:"password",value:s,onChange:function(e){u(e.target.value)}})]}),Object(Lt.jsx)("div",{className:Ht.a.FormBlock,style:{marginBottom:"6px;"},children:Object(Lt.jsx)("button",{className:Ht.a.Submit,onClick:l,children:"Sign In"})})]})]})},Qt=a(6),Wt=a(86),Et=a(13),Zt=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/users/user/connect-spotify/",{code:t,error:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var zt=function(e){return Object(o.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.search,a=new URLSearchParams(t),n=a.get("code"),r=a.get("error"),e.next=3,Zt(n,r);case 3:window.location.href="../app/search";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(Lt.jsx)("p",{children:"Redirecting..."})},Jt=a(16),Kt=a(89),Gt=a.n(Kt),Yt=a(47),Xt=a.n(Yt),$t=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/comments/text-comment/delete/",{textCommentUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ea=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/comments/text-comment-modification/list-delete/",{textCommentUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ta=Object(Lt.jsxs)("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M1 3.80078H2.4H13.6",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M4.49844 3.8V2.4C4.49844 2.0287 4.64594 1.6726 4.90849 1.41005C5.17104 1.1475 5.52713 1 5.89844 1H8.69844C9.06974 1 9.42584 1.1475 9.68839 1.41005C9.95094 1.6726 10.0984 2.0287 10.0984 2.4V3.8M12.1984 3.8V13.6C12.1984 13.9713 12.0509 14.3274 11.7884 14.5899C11.5258 14.8525 11.1697 15 10.7984 15H3.79844C3.42713 15 3.07104 14.8525 2.80849 14.5899C2.54594 14.3274 2.39844 13.9713 2.39844 13.6V3.8H12.1984Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M5.89844 7.30078V11.5008",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M8.69922 7.30078V11.5008",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),aa=Object(Lt.jsxs)("svg",{width:"18",height:"14",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M12.1601 1.36331L16.6324 5.83566C16.7484 5.95152 16.8404 6.08911 16.9032 6.24055C16.966 6.392 16.9983 6.55434 16.9983 6.71828C16.9983 6.88222 16.966 7.04456 16.9032 7.196C16.8404 7.34745 16.7484 7.48504 16.6324 7.6009L11.2806 12.959L5.04297 12.959L5.04297 6.7214L10.4011 1.36331C10.6348 1.13096 10.951 1.00054 11.2806 1.00054C11.6101 1.00054 11.9263 1.13096 12.1601 1.36331V1.36331Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M10.3546 11.087L5.98828 6.7207",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M1 9.2168L1.88574 10.1025",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M1 12.959H2.24752",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M10.9805 12.959H13.4755",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),na=Object(Lt.jsx)("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Lt.jsx)("path",{d:"M1 1L8.6 6L1 11V1Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),ra=a(38),ia=a.n(ra),ca=a(90),oa=a(62),sa=a(91);a(208);var ua=Object(Qt.b)((function(e){return{textCommentMap:e.textCommentMap}}))((function(e){var t,a=e.text,n=Object(oa.chordParserFactory)(),r=Object(oa.chordRendererFactory)(),i=n(a);if(i&&!i.error){var c={C:1,D:3,E:5,F:6,G:8,A:10,B:12,Cb:12,Db:2,Eb:4,Fb:6,Gb:7,Ab:9,Bb:11,"C#":2,"D#":4,"E#":6,"F#":7,"G#":9,"A#":11,"B#":12}[i.input.rootNote];t=i.normalized.semitones.map((function(e){return e+c})).join(" ")}var s=Object(o.useRef)();return Object(o.useEffect)((function(){if(s.current){var e=window.devicePixelRatio||1,t=s.current,a=t.getContext("2d"),n=t.getBoundingClientRect();t.width=n.width*e,t.height=100*e;var c=new sa.BbFormat(a);a.clearRect(0,0,n.width*e,100*e),a.font="100px Boogaloo",c.fillChordSymbol(r(i),100,100)}}),[a]),i&&!i.error?Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("canvas",{ref:s,style:{width:"100%",height:"100px"}}),Object(Lt.jsx)("custom-piano-keys",{"oct-w-factor":1,"marked-keys":t,"oct-count":3,style:{marginLeft:"27.5px"}})]}):Object(Lt.jsx)(ca.Notation,{notation:a,engraverParams:{staffwidth:278}})}));var la=Object(Qt.b)((function(e){return{textCommentMap:e.textCommentMap}}))((function(e){var t=e.textCommentUuid,a=e.textCommentMap[t],n=Object(o.useState)(!1),r=Object(j.a)(n,2),i=r[0],c=r[1],s=function(){var a=Object(b.a)(p.a.mark((function a(){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$t(t);case 2:n=a.sent,e.dispatch(n.redux);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return a?Object(Lt.jsxs)("div",{className:ia.a.ABCNotationDisplayContainer,onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},children:[Object(Lt.jsx)("div",{className:ia.a.HoverBuffer}),Object(Lt.jsxs)("div",{className:ia.a.ABCNotationDisplay,children:[Object(Lt.jsx)(ua,{text:a.text}),i&&Object(Lt.jsx)("div",{className:ia.a.HoverContainer,children:Object(Lt.jsx)("button",{type:"button",onClick:s,children:ta})})]})]}):Object(Lt.jsx)("div",{className:ia.a.ABCNotationDisplayContainer,children:Object(Lt.jsx)("div",{className:ia.a.ABCNotationDisplayDeleted,children:Object(Lt.jsx)("p",{children:"Retracted"})})})})),da=a(39),pa=a.n(da),ba=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n,r){var i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/comments/voice-recording/create/",{audioFile:t,transcriptData:a,transcriptFinal:n,voiceRecordingTimestamp:r});case 2:return i=e.sent,e.next=5,i.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ja=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/comments/voice-recording/delete/",{voiceRecordingUuid:t});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ma=Object(Qt.b)((function(e){return{stream:e.stream,voiceRecordingMap:e.voiceRecordingMap}}))((function(e){var t=e.voiceRecordingUuid,a=e.voiceRecordingMap[t],n=Object(o.useState)(!1),r=Object(j.a)(n,2),i=r[0],c=r[1],s=function(){var a=Object(b.a)(p.a.mark((function a(){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ja(t);case 2:n=a.sent,e.dispatch(n.redux);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return a?Object(Lt.jsxs)("div",{className:pa.a.VoiceRecordingContainer,onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},children:[Object(Lt.jsx)("div",{className:pa.a.HoverBuffer}),Object(Lt.jsxs)("div",{className:pa.a.VoiceRecording,children:[Object(Lt.jsx)("p",{children:"null"===a.transcriptFinal?"<transcript not available>":a.transcriptFinal}),i&&Object(Lt.jsx)("div",{className:pa.a.HoverContainer,children:Object(Lt.jsx)("button",{type:"button",onClick:s,children:ta})})]})]}):Object(Lt.jsx)("div",{className:pa.a.VoiceRecordingContainer,children:Object(Lt.jsx)("div",{className:pa.a.VoiceRecordingDeleted,children:Object(Lt.jsx)("p",{children:"Retracted"})})})})),ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e={}),e.fake||(e.fake={api:!1,playback:!1});var t={name:"pause",status:"kickoff",fake:e.fake.api};Pt.dispatch({type:"main/addAction",payload:{action:t}})},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e={}),e.fake||(e.fake={api:!1,playback:!1});var t={name:"play",status:"kickoff",fake:e.fake};e.hasOwnProperty("progress")&&(t.timestampMilliseconds=e.progress),Pt.dispatch({type:"main/addAction",payload:{action:t}})},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={name:"next",status:"kickoff",fake:!1,settings:{pause:e.pause,skip:!1,play:!0}};Pt.dispatch({type:"main/addAction",payload:{action:t}})},ka=a(23),xa=a.n(ka),ya="text",Oa=a(92),Ca=a(63),ga=a.n(Ca),wa="bold",_a="italicize",Ma="strikethrough",Aa="highlight",Pa=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n,r){var i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/comments/text-comment-modification/create/",{textCommentUuid:t,style:a,anchorOffset:n,focusOffset:r});case 2:return i=e.sent,e.next=5,i.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();var La=Object(Qt.b)((function(e){return{textCommentMap:e.textCommentMap}}))((function(e){var t=e.textCommentUuid,a=e.textCommentMap[t],n=Object(o.useRef)(null),r=Object(o.useState)(!0),i=Object(j.a)(r,2),c=i[0],s=i[1],u=Object(o.useState)(null),l=Object(j.a)(u,2),d=l[0],m=l[1],h=Object(o.useState)(null),f=Object(j.a)(h,2),v=f[0],k=f[1],x=function(){var a=Object(b.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Pa(t,n,d,v);case 2:r=a.sent,e.dispatch(r.redux),s(!1);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.getSelection(),a=parseInt(t.anchorNode.parentNode.getAttribute("offset")),n=parseInt(t.focusNode.parentNode.getAttribute("offset")),a<n?n+=1:a+=1,s(!0),m(a),k(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!1),m(null),k(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Lt.jsxs)("div",{className:ga.a.NotableText,style:{color:"black"},children:[Object(Lt.jsx)("p",{ref:n,children:function(){for(var e=a.text,t=a.modifications,n=[],r=0;r<e.length;r++)n[r]=new Set;for(var i=0;i<t.length;i++)for(var c=t[i],o=c.startPtr;o<c.endPtr;o++)n[o].add(c.style);for(var s=Object(Lt.jsx)(Lt.Fragment,{}),u=0;u<n.length;u++){var l=e[u],d=n[u],p={};d.has(wa)&&(p.fontWeight="bold"),d.has(_a)&&(p.fontStyle="italic"),d.has(Ma)&&(p.textDecoration="line-through"),d.has(Aa)&&(p.backgroundColor="#FFF960"),s=Object(Lt.jsxs)(Lt.Fragment,{children:[s,Object(Lt.jsx)("span",{offset:u,style:p,children:l})]})}return s}()}),Object(Lt.jsx)(Oa.a,{selectionRef:n,onTextSelect:y,onTextUnselect:O,isOpen:c,children:Object(Lt.jsxs)("div",{className:ga.a.Popover,children:[Object(Lt.jsx)("button",{type:"button",onClick:Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(wa);case 2:case"end":return e.stop()}}),e)}))),children:Object(Lt.jsx)("span",{style:{fontWeight:"bold"},children:"B"})}),Object(Lt.jsx)("button",{type:"button",onClick:Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(_a);case 2:case"end":return e.stop()}}),e)}))),children:Object(Lt.jsx)("span",{style:{fontStyle:"italic"},children:"i"})}),Object(Lt.jsx)("button",{type:"button",onClick:Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(Ma);case 2:case"end":return e.stop()}}),e)}))),children:Object(Lt.jsx)("span",{style:{textDecoration:"line-through"},children:"S"})}),Object(Lt.jsx)("button",{type:"button",onClick:Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(Aa);case 2:case"end":return e.stop()}}),e)}))),children:Object(Lt.jsx)("span",{style:{backgroundColor:"#FFF960"},children:"H"})})]})})]})})),Sa=a(40),Ua=a.n(Sa);var Na=Object(Qt.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,textCommentMap:e.textCommentMap}}))((function(e){var t,a=e.textCommentUuid,n=e.textCommentMap[a],r=e.stream,i=e.queueMap[r.nowPlayingUuid],c=null===i||void 0===i||null===(t=i.track)||void 0===t?void 0:t.uuid,s=Object(o.useState)(!1),u=Object(j.a)(s,2),l=u[0],d=u[1],m=function(){var t=Object(b.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$t(a);case 2:n=t.sent,e.dispatch(n.redux);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ea(a);case 2:return n=t.sent,t.next=5,e.dispatch(n.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n?Object(Lt.jsxs)("div",{className:Ua.a.TextCommentContainer,onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1)},children:[Object(Lt.jsx)("div",{className:Ua.a.HoverBuffer}),Object(Lt.jsxs)("div",{className:Ua.a.TextComment,children:[Object(Lt.jsx)(La,{textCommentUuid:a}),l&&Object(Lt.jsxs)("div",{className:Ua.a.HoverContainer,children:[Object(Lt.jsx)("button",{type:"button",onClick:m,children:ta}),Object(Lt.jsx)("button",{type:"button",onClick:h,style:{top:"-1px"},children:aa}),n.trackUuid===c&&Object(Lt.jsx)("button",{type:"button",onClick:function(){if("paused"===i.status)e.dispatch({type:"main/addAction",payload:{action:{name:"play",timestampMilliseconds:n.timestampMilliseconds,status:"kickoff",fake:{api:!1}}}});else{var t={name:"seek",timestampMilliseconds:n.timestampMilliseconds,status:"kickoff",fake:!1};e.dispatch({type:"main/addAction",payload:{action:t}})}},children:na})]})]})]}):Object(Lt.jsx)("div",{className:Ua.a.TextCommentContainer,children:Object(Lt.jsx)("div",{className:Ua.a.TextCommentDeleted,children:Object(Lt.jsx)("p",{children:"Retracted"})})})})),Ba=a(64),Fa=a.n(Ba);var Ta=Object(Qt.b)((function(e){return{stream:e.stream,queueMap:e.queueMap}}))((function(e){var t=e.data;return Object(Lt.jsx)("div",{className:Fa.a.SystemActionContainer,children:Object(Lt.jsx)("div",{className:Fa.a.SystemAction,children:Object(Lt.jsxs)("p",{children:["Playback ",t.action]})})})}));var Da=Object(Qt.b)((function(e){return{playback:e.playback,queueMap:e.queueMap,feedApp:e.feedApp}}))((function(e){var t,a,n,r,i,c,s,u=e.feedApp,l=u.feed,d=e.playback,m=e.queueMap[d.nowPlayingUuid],h=Object(o.useState)(!1),f=Object(j.a)(h,2),v=f[0],k=f[1],y=Object(o.useState)(new Gt.a({bitRate:320})),O=Object(j.a)(y,1)[0],C=Object(o.useRef)(),g=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=m.statusAt-m.startedAt,fa({progress:n}),e.dispatch({type:"feedApp/resetTextComment"}),t.next=6,x(u.textComment.text,ya,u.textComment.trackUuid,u.textComment.position);case 6:r=t.sent,e.dispatch(r.redux);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=Object(Yt.useSpeechRecognition)(),_=w.transcript,M=w.resetTranscript,A=w.browserSupportsSpeechRecognition;return Object(o.useEffect)((function(){var t=C.current.getBoundingClientRect();e.dispatch({type:"feedApp/setContentContainer",payload:{contentContainer:t}});var a=setInterval((function(){e.dispatch({type:"feed/update"})}),50);return function(){clearInterval(a)}}),[]),Object(Lt.jsxs)("div",{className:xa.a.FeedApp,children:[Object(Lt.jsxs)("div",{className:xa.a.ContentContainer,children:[Object(Lt.jsx)("div",{ref:C,className:xa.a.ImageContainer,children:!((null===m||void 0===m||null===(t=m.track)||void 0===t?void 0:t.service)===ue&&"video"===(null===m||void 0===m||null===(a=m.track)||void 0===a?void 0:a.format))&&!((null===m||void 0===m||null===(n=m.track)||void 0===n?void 0:n.service)===oe&&"video"===(null===m||void 0===m||null===(r=m.track)||void 0===r?void 0:r.format))&&Object(Lt.jsx)("img",{alt:"",src:null===m||void 0===m||null===(i=m.track)||void 0===i?void 0:i.imageUrl})}),Object(Lt.jsx)("h5",{children:null===m||void 0===m||null===(c=m.track)||void 0===c?void 0:c.name}),Object(Lt.jsx)("h6",{children:null===m||void 0===m||null===(s=m.track)||void 0===s?void 0:s.artistName})]}),Object(Lt.jsxs)("div",{className:xa.a.FeedWrapper,children:[Object(Lt.jsx)("div",{className:xa.a.Feed,children:l.map((function(e,t){return"TextComment"===e.class?e.format===ya?Object(Lt.jsx)(Na,{textCommentUuid:e.uuid},t):Object(Lt.jsx)(la,{textCommentUuid:e.uuid},t):"VoiceRecording"===e.class?Object(Lt.jsx)(ma,{voiceRecordingUuid:e.uuid},t):"SystemAction"===e.class?Object(Lt.jsx)(Ta,{data:e},t):Object(Lt.jsx)(Lt.Fragment,{})}))}),Object(Lt.jsxs)("form",{className:xa.a.ComposeBar,onSubmit:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(Lt.jsx)("button",{className:xa.a.NotationButton,type:"button",onClick:function(){var t=m.track.uuid,a=fe(m,m.startedAt)[0];e.dispatch({type:"feedApp/setTextComment",payload:{textComment:{text:"",trackUuid:t,position:a}}}),ha(),e.dispatch({type:"main/addAction",payload:{action:{name:"openModal",view:H,status:"kickoff",fake:!0}}})},disabled:"played"!==(null===m||void 0===m?void 0:m.status),children:Object(Lt.jsx)("div",{})}),Object(Lt.jsx)("button",{className:xa.a.RecordButton,type:"button",onClick:function(){if(!v)return ha(),O.start(),A&&Xt.a.startListening({continuous:!0}),void k(!0);A&&Xt.a.stopListening(),O.stop().getMp3().then((function(t){var a=Object(j.a)(t,2),n=a[0],r=a[1];Object(b.a)(p.a.mark((function t(){var a,i,c,o,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new File(n,"voice.mp3",{type:r.type,lastModified:Date.now()}),i=fe(m,m.startedAt),c=i[0],t.next=4,ba(a,JSON.stringify([]),_||"",c);case 4:o=t.sent,e.dispatch(o.redux),s=m.statusAt-m.startedAt,fa({progress:s}),Xt.a.browserSupportsSpeechRecognition()&&M();case 9:case"end":return t.stop()}}),t)})))()})),k(!1)},disabled:"played"!==(null===m||void 0===m?void 0:m.status)&&!v,children:Object(Lt.jsx)("div",{})}),Object(Lt.jsx)("input",{type:"text",name:"text",value:u.textComment.text,onChange:function(t){u.textComment.trackUuid||ha();var a=t.target.value,n=m.track.uuid,r=fe(m,m.startedAt)[0];e.dispatch({type:"feedApp/setTextComment",payload:{textComment:{text:a,trackUuid:n,position:r}}})},autoComplete:"off"}),Object(Lt.jsx)("button",{className:xa.a.SubmitButton,type:"submit",children:"Send"})]})]})]})})),Ra=a(25),Ia=a.n(Ra),qa=a(26),Ha=a.n(qa),Va=a(27),Qa=a.n(Va),Wa=Object(Lt.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M11 1H3.22222C2.63285 1 2.06762 1.23413 1.65087 1.65087C1.23413 2.06762 1 2.63285 1 3.22222V18.7778C1 19.3671 1.23413 19.9324 1.65087 20.3491C2.06762 20.7659 2.63285 21 3.22222 21H18.7778C19.3671 21 19.9324 20.7659 20.3491 20.3491C20.7659 19.9324 21 19.3671 21 18.7778V11",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M17.4098 1.61598C17.8042 1.22158 18.3391 1 18.8969 1C19.4547 1 19.9896 1.22158 20.384 1.61598C20.7784 2.01039 21 2.54532 21 3.1031C21 3.66087 20.7784 4.1958 20.384 4.59021L10.9656 14.0086L7 15L7.99141 11.0344L17.4098 1.61598Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ea=Object(Lt.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M11 21.1211C16.5228 21.1211 21 16.6439 21 11.1211C21 5.59825 16.5228 1.12109 11 1.12109C5.47715 1.12109 1 5.59825 1 11.1211C1 16.6439 5.47715 21.1211 11 21.1211Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M14 8.12109L8 14.1211",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M8 8.12109L14 14.1211",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Za=Object(Lt.jsxs)("svg",{width:"23",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M11 21.1211C16.5228 21.1211 21 16.6439 21 11.1211C21 5.59825 16.5228 1.12109 11 1.12109C5.47715 1.12109 1 5.59825 1 11.1211C1 16.6439 5.47715 21.1211 11 21.1211Z",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M14 8.12109L8 14.1211",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M8 8.12109L14 14.1211",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),za=Object(Lt.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M7 9L11 14L15 9",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ja=Object(Lt.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",fill:"#0047FF",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M15 13.5L11 8.5L7 13.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ka=Object(Lt.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",fill:"#EAEAEA",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M15 13.5L11 8.5L7 13.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});var Ga=Object(Qt.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,main:e.main,playback:e.playback}}))((function(e){var t=e.queueMap[e.queueUuid],a=t.parentUuid?"QueueTrackChild":"QueueTrackHead",n=t.parentUuid?"QueueInformationChild":"QueueInformationHead",r=t.parentUuid?"ButtonChild":"ButtonHead",i=t.parentUuid?"DurationContainerChild":"DurationContainerHead";return Object(Lt.jsxs)("div",{className:Qa.a[a],children:[!t.parentUuid&&Object(Lt.jsx)("div",{className:[Qa.a.AlbumArtContainer,Qa.a[t.track.service]].join(" "),children:Object(Lt.jsx)("img",{src:t.track.imageUrl,alt:"Album Art"})}),Object(Lt.jsxs)("div",{className:Qa.a[n],children:[Object(Lt.jsx)("h5",{children:t.track.name}),!t.parentUuid&&Object(Lt.jsx)("h6",{children:t.track.artistName})]}),Object(Lt.jsx)("div",{className:Qa.a[i],children:it(t.track.durationMilliseconds)}),Object(Lt.jsxs)("div",{className:Qa.a.ButtonContainer,children:[Object(Lt.jsx)("button",{className:Qa.a[r],type:"button",onClick:function(){e.dispatch({type:"main/addAction",payload:{action:{name:"pause",status:"kickoff",fake:!1}}}),e.dispatch({type:"main/addAction",payload:{action:{name:"loadAudio",queue:t,status:"kickoff",fake:!0}}}),e.dispatch({type:"main/addAction",payload:{action:{name:"mount",queue:t,status:"kickoff",fake:!0}}}),e.dispatch({type:"main/addAction",payload:{action:{name:"openModal",view:q,status:"kickoff",fake:!0}}})},children:Wa}),Object(Lt.jsx)("button",{className:Qa.a[r],type:"button",onClick:function(){var a=Object(b.a)(p.a.mark((function a(n){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.destroy(t);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),children:Ea})]})]})}));var Ya=Object(Qt.b)((function(e){return{stream:e.stream,lastUpQueueUuids:e.lastUpQueueUuids,queueMap:e.queueMap}}))((function(e){var t=e.queueMap,a=e.stream,n=e.lastUpQueueUuids,r=e.queueUuid,i=t[r],c=nt(n[n.length-1],t),s=t[a.nowPlayingUuid],u=s&&(null===s||void 0===s?void 0:s.parentUuid)===r||!s&&(null===c||void 0===c?void 0:c.parentUuid)&&(null===c||void 0===c?void 0:c.parentUuid)===r,l=Object(o.useState)(u),d=Object(j.a)(l,2),m=d[0],h=d[1];return Object(Lt.jsxs)("div",{className:Ha.a.QueueCollection,children:[Object(Lt.jsxs)("div",{className:Ha.a.QueueCollectionMain,children:[Object(Lt.jsx)("div",{className:[Ha.a.AlbumArtContainer,Ha.a[i.collection.service]].join(" "),children:Object(Lt.jsx)("img",{src:i.collection.imageUrl,alt:"Album Art"})}),Object(Lt.jsxs)("div",{className:Ha.a.QueueInformation,children:[Object(Lt.jsx)("h5",{children:i.collection.name}),Object(Lt.jsx)("h6",{children:i.collection.artistName})]}),Object(Lt.jsx)("div",{className:Ha.a.DurationContainer,children:it(i.durationMilliseconds)}),Object(Lt.jsxs)("div",{className:Ha.a.ButtonContainer,children:[!u&&Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("button",{type:"button",onClick:function(e){u||h(!m)},children:m?Ja:za}),Object(Lt.jsx)("button",{type:"button",onClick:function(){var t=Object(b.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(i);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Ea})]}),u&&Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("button",{type:"button",disabled:!0,style:{cursor:"not-allowed"},children:Ka}),Object(Lt.jsx)("button",{type:"button",disabled:!0,style:{cursor:"not-allowed"},children:Za})]})]})]}),i.childUuids.length>0&&m&&Object(Lt.jsx)("div",{className:Ha.a.Children,children:i.childUuids.map((function(t,a){return Object(Lt.jsx)(Ga,{queueUuid:t,destroy:e.destroy},a)}))})]})}));var Xa=Object(Qt.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,nextUpQueueUuids:e.nextUpQueueUuids,lastUpQueueUuids:e.lastUpQueueUuids}}))((function(e){var t,a,n,r,i,c=e.nextUpQueueUuids,o=e.stream,s=e.queueMap,u=s[o.nowPlayingUuid],l=at(c,s),d=rt(l,u),j=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.uuid,t.next=3,T(n);case 3:(r=a.parentUuid)?e.dispatch({type:"queue/deleteChildNode",parentUuid:r,queueUuid:n}):e.dispatch({type:"queue/deleteNode",queueUuid:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Lt.jsxs)("div",{className:Ia.a.QueueApp,children:[Object(Lt.jsx)("div",{className:Ia.a.NowPlaying,children:(null===u||void 0===u||null===(t=u.track)||void 0===t?void 0:t.uuid)&&Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("div",{className:Ia.a.NowPlayingArt,children:Object(Lt.jsx)("img",{src:null===u||void 0===u||null===(a=u.track)||void 0===a?void 0:a.imageUrl,alt:"Album Art"})}),Object(Lt.jsxs)("div",{className:Ia.a.NowPlayingInformation,children:[Object(Lt.jsx)("h5",{children:null===u||void 0===u||null===(n=u.track)||void 0===n?void 0:n.name}),Object(Lt.jsx)("h6",{children:null===u||void 0===u||null===(r=u.track)||void 0===r?void 0:r.artistName})]}),Object(Lt.jsx)("div",{className:Ia.a.NowPlayingDuration,children:it(null===u||void 0===u||null===(i=u.track)||void 0===i?void 0:i.durationMilliseconds)})]})}),Object(Lt.jsxs)("div",{className:Ia.a.QueueContainer,children:[l.map((function(e,t){return e.collection?Object(Lt.jsx)(Ya,{queueUuid:e.uuid,destroy:j},t):e.track?Object(Lt.jsx)(Ga,{queueUuid:e.uuid,destroy:j},t):void 0})),Object(Lt.jsx)("div",{className:Ia.a.PlaybackDuration,children:d?Object(Lt.jsxs)(Lt.Fragment,{children:["Playback will end ",ct(d)]}):Object(Lt.jsx)(Lt.Fragment,{children:"There is nothing in the queue"})}),Object(Lt.jsx)(Jt.b,{onClick:function(){e.dispatch({type:"sideBar/selectTab",payload:{tab:"search"}})},to:"/app/search",children:Object(Lt.jsx)("button",{className:Ia.a.AddToQueue,children:"Add To Queue"})})]})]})})),$a=a(97),en=a.n($a);var tn=Object(Qt.b)((function(e){return{nextUpQueueUuids:e.nextUpQueueUuids,stream:e.stream,queueMap:e.queueMap}}))((function(e){var t=e.nextUpQueueUuids,a=e.stream,n=e.queueMap,r=n[a.nowPlayingUuid],i=at(t,n),c=rt(i,r);return Object(Lt.jsxs)("div",{className:en.a.MiniQueue,children:[Object(Lt.jsx)("h3",{children:"Queue"}),c?Object(Lt.jsxs)("p",{children:["Playback will end ",ct(c)]}):Object(Lt.jsx)("p",{children:"There is nothing in the queue."})]})})),an=a(14),nn=a.n(an),rn=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h,"/music/search",{query:t,service:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),cn=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/queue/create/",{className:t,genericUuid:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),on=a(28),sn=a.n(on);var un=function(e){var t,a=e.data,n=e.addToQueue,r=Object(o.useState)(!1),i=Object(j.a)(r,2),c=i[0],s=i[1],u=Object(o.useState)(!1),l=Object(j.a)(u,2),d=l[0],m=l[1],h=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,n(a.class,a.uuid);case 3:m(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=a.img_url;return a.provider===oe&&(f=(f=f.replace("{w}","300")).replace("{h}","300")),a.provider===se?t=Nt:a.provider===ue?t=Bt:a.provider===oe?t=Ft:a.provider===de?t=Ut:a.provider===le&&(t=Rt),Object(Lt.jsxs)("div",{className:d?sn.a.SearchResultSubmitted:sn.a.SearchResult,children:[Object(Lt.jsx)("div",{className:[sn.a.ImageParent,sn.a[a.provider]].join(" "),children:Object(Lt.jsx)("img",{src:f,alt:"Album Art"})}),Object(Lt.jsxs)("div",{className:sn.a.ResultInformation,children:[Object(Lt.jsx)("h5",{children:a.name}),Object(Lt.jsx)("h6",{children:a.artist_name})]}),Object(Lt.jsx)("div",{className:sn.a.ServiceLogo,children:t}),Object(Lt.jsx)("button",{type:"button",onClick:h,className:sn.a[d?"AddButtonInverted":"AddButton"],style:c&&!d&&{cursor:"wait"}||{},disabled:!(!c&&!d),children:d?"Added":c?Object(Lt.jsx)("i",{className:sn.a.ggSpinner}):"Add"})]})},ln=Object(Lt.jsxs)("svg",{width:"45",height:"35",viewBox:"0 0 45 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M33.6843 13.5312H31.3368C30.6397 10.7464 29.1994 8.21916 27.1795 6.23657C25.1596 4.25398 22.641 2.89558 19.9101 2.31572C17.1791 1.73586 14.3452 1.9578 11.7304 2.95631C9.11564 3.95482 6.82478 5.68987 5.11818 7.96431C3.41157 10.2387 2.35765 12.9614 2.07616 15.8228C1.79467 18.6842 2.29691 21.5698 3.5258 24.1515C4.7547 26.7332 6.66097 28.9075 9.02801 30.4275C11.3951 31.9475 14.128 32.7521 16.9162 32.75H33.6843C36.155 32.75 38.5245 31.7376 40.2715 29.9355C42.0185 28.1334 43 25.6892 43 23.1406C43 20.5921 42.0185 18.1479 40.2715 16.3458C38.5245 14.5437 36.155 13.5312 33.6843 13.5312Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M24.3986 18.3202L18.3246 12.2461L12.2505 18.3202",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M18.3257 12.2461V25.9128",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M24.3986 18.3202L18.3246 12.2461L12.2505 18.3202",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});var dn=Object(Qt.b)((function(e){return{search:e.search}}))((function(e){var t=e.search,a=t.query,n=Object(o.useState)([]),r=Object(j.a)(n,2),i=r[0],c=r[1],s=Object(o.useState)(!1),u=Object(j.a)(s,2),l=u[0],d=u[1],m=function(){var n=Object(b.a)(p.a.mark((function n(){var r,i,o,s=arguments;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=s.length>0&&void 0!==s[0]?s[0]:void 0,a){n.next=3;break}return n.abrupt("return");case 3:if(r||(r=t.service),i=t.cache[a]||{},o=i[r]){n.next=12;break}return n.next=9,rn(a,r);case 9:o=n.sent,i[r]=o,e.dispatch({type:"search/setCache",payload:{query:a,service:r,responseJson:o}});case 12:c(o.data),d(!1);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=function(t){return function(){l&&clearTimeout(l),m(),e.dispatch({type:"search/setService",payload:{service:t}}),m(t)}},f=function(){var t=Object(b.a)(p.a.mark((function t(a,n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cn(a,n);case 2:return t.next=4,F();case 4:r=t.sent,e.dispatch(r.redux);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){m()}),[]),Object(Lt.jsxs)("div",{className:nn.a.SearchApp,children:[Object(Lt.jsxs)("div",{className:nn.a.SearchBarContainer,children:[Object(Lt.jsx)("input",{type:"text",name:"query",autoComplete:"off",spellCheck:"false",placeholder:"",className:nn.a.SearchBar,value:a,onChange:function(t){e.dispatch({type:"search/setQuery",payload:{query:t.target.value}})},onKeyDown:function(e){l&&clearTimeout(l),d(setTimeout(m,150)),"Enter"===e.key&&(clearTimeout(l),m())}}),Object(Lt.jsx)("button",{className:nn.a.Upload,onClick:function(){e.dispatch({type:"modal/open",payload:{view:V}})},children:ln})]}),Object(Lt.jsxs)("div",{className:nn.a.SearchResultsContainer,children:[Object(Lt.jsxs)("div",{className:nn.a.ServiceCheckboxContainer,children:[Object(Lt.jsx)("button",{className:nn.a.ServiceCheckbox,onClick:h(se),style:t.service===se&&{border:"2px solid rgba(29, 185, 84, 1)"}||{},children:Object(Lt.jsx)("div",{className:nn.a.ServiceCheckboxLogoContainer,children:Nt})}),Object(Lt.jsx)("button",{className:nn.a.ServiceCheckbox,onClick:h(ue),style:t.service===ue&&{border:"2px solid rgba(255, 0, 0, 1)"}||{},children:Object(Lt.jsx)("div",{className:nn.a.ServiceCheckboxLogoContainer,children:Bt})}),Object(Lt.jsx)("button",{className:nn.a.ServiceCheckbox,onClick:h(oe),style:t.service===oe&&{border:"2px solid rgba(251, 92, 116, 1)"}||{},children:Object(Lt.jsx)("div",{className:nn.a.ServiceCheckboxLogoContainer,children:Ft})}),Object(Lt.jsx)("button",{className:nn.a.ServiceCheckbox,onClick:h(le),style:t.service===le&&{border:"2px solid rgba(126, 27, 204, 1)"}||{},children:Object(Lt.jsx)("div",{className:nn.a.ServiceCheckboxLogoContainer,children:Rt})}),Object(Lt.jsx)("button",{className:nn.a.ServiceCheckbox,onClick:h(de),style:t.service===de&&{border:"2px solid rgba(0, 71, 255, 1)"}||{},children:Object(Lt.jsx)("div",{className:nn.a.ServiceCheckboxLogoContainer,children:Ut})})]}),Object(Lt.jsx)("div",{className:nn.a.SearchResults,children:i.map((function(e,t){return Object(Lt.jsx)(un,{data:e,addToQueue:f},e.uuid)}))})]})]})})),pn=a(98),bn=a.n(pn);var jn=Object(Qt.b)((function(e){return{notesApp:e.notesApp,stream:e.stream,playback:e.playback,queueMap:e.queueMap}}))((function(e){var t,a,n,r,i=e.notesApp,c=e.stream,o=e.playback,s=e.queueMap,u=i.store[c.uuid],l=s[o.nowPlayingUuid];return r=(null===l||void 0===l||null===(t=l.track)||void 0===t?void 0:t.service)!==ue&&(null===l||void 0===l||null===(a=l.track)||void 0===a?void 0:a.service)!==oe||"video"!==(null===l||void 0===l||null===(n=l.track)||void 0===n?void 0:n.format)?{}:c.nowPlayingUuid===o.nowPlayingUuid?{marginTop:"205px"}:{},Object(Lt.jsxs)("div",{className:bn.a.MiniNotes,style:r,children:[Object(Lt.jsx)("h3",{children:"Notes"}),Object(Lt.jsx)("textarea",{value:u,spellCheck:"false",onChange:function(t){var a=t.target.value;e.dispatch({type:"notesApp/set",payload:{key:c.uuid,value:a}})}})]})})),mn=a(21),hn=a.n(mn),fn=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n,r,i){var c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/music/track/create/",{audioFile:t,imageFile:a,trackName:n,artistName:r,albumName:i});case 2:return c=e.sent,e.next=5,c.json();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i){return e.apply(this,arguments)}}();var vn=Object(Qt.b)((function(e){return{}}))((function(e){var t=Object(o.useState)(0),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(!1),c=Object(j.a)(i,2),s=c[0],u=c[1],l=Object(o.useState)(""),d=Object(j.a)(l,2),m=d[0],h=d[1],f=Object(o.useState)(""),v=Object(j.a)(f,2),k=v[0],x=v[1],y=Object(o.useState)(""),O=Object(j.a)(y,2),C=O[0],g=O[1],w=Object(o.useState)(""),_=Object(j.a)(w,2),M=_[0],A=_[1],P=Object(o.useState)(""),L=Object(j.a)(P,2),S=L[0],U=L[1],N=function(){var t=Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,fn(m,k,C,M,S);case 3:u(!1),r((function(e){return e+2})),g(""),A(""),U(""),e.dispatch({type:"modal/close"});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("button",{className:hn.a.ModalClose,onClick:function(){e.dispatch({type:"modal/close"})},children:Dt}),Object(Lt.jsxs)("div",{className:hn.a.ModalContent,children:[Object(Lt.jsx)("h3",{className:hn.a.Title,children:"Upload"}),Object(Lt.jsxs)("label",{className:hn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Audio file"}),Object(Lt.jsx)("input",{type:"file",name:"audioFile",onChange:function(e){h(e.target.files[0])},disabled:s,className:hn.a.FileInput},n)]}),Object(Lt.jsxs)("label",{className:hn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Image file"}),Object(Lt.jsx)("input",{type:"file",name:"imageFile",onChange:function(e){x(e.target.files[0])},disabled:s,className:hn.a.FileInput},n+1)]}),Object(Lt.jsxs)("label",{className:hn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Track name"}),Object(Lt.jsx)("input",{type:"text",name:"trackName",placeholder:"Track name",value:C,spellCheck:"false",onChange:function(e){g(e.target.value)},disabled:s})]}),Object(Lt.jsxs)("label",{className:hn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Artist name"}),Object(Lt.jsx)("input",{type:"text",name:"artistName",placeholder:"Artist name",value:M,spellCheck:"false",onChange:function(e){A(e.target.value)},disabled:s})]}),Object(Lt.jsxs)("label",{className:hn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Album name"}),Object(Lt.jsx)("input",{type:"text",name:"albumName",placeholder:"Album name",value:S,spellCheck:"false",onChange:function(e){U(e.target.value)},disabled:s})]}),Object(Lt.jsx)("button",{type:"submit",className:hn.a.FormSubmit,onClick:N,disabled:s,children:"Submit"})]})]})})),kn=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n,r){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/marker/create/",{trackUuid:t,timestampMilliseconds:a,queueUuid:n,name:r});case 2:return i=e.sent,e.next=5,i.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),xn=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/marker/delete/",{markerUuid:t,queueUuid:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),yn=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n,r,i,c){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,!0,!0,!0,!0,e.next=3,v(f,"/streams/queue-interval/create/",{queueUuid:t,lowerBoundMarkerUuid:a,upperBoundMarkerUuid:n,purpose:r,repeatCount:i,parentQueueUuid:c,stemVocals:true,stemDrums:true,stemBass:true,stemPiano:true,stemOther:true});case 3:return o=e.sent,e.next=6,o.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i,c){return e.apply(this,arguments)}}(),On=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f,"/streams/queue-interval/delete/",{queueIntervalUuid:t,queueUuid:a,parentQueueUuid:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Cn=a(10),gn=a.n(Cn),wn=Object(Lt.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("rect",{x:"1",y:"1",width:"18",height:"18",stroke:"#0047FF",strokeWidth:"2"}),Object(Lt.jsx)("path",{d:"M14.6155 6.92188L8.26938 13.845L5.38477 10.6981",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),_n=Object(Lt.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Lt.jsx)("rect",{x:"1",y:"1",width:"18",height:"18",stroke:"#BCBCBC",strokeWidth:"2"})}),Mn=Object(Lt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("rect",{width:"48",height:"48",fill:"white","fill-opacity":"0.01"}),Object(Lt.jsx)("rect",{x:"16",y:"4",width:"16",height:"28",rx:"8",stroke:"black","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),Object(Lt.jsx)("path",{d:"M10 21V24C10 31.732 16.268 38 24 38V38C31.732 38 38 31.732 38 24V21",stroke:"black","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),Object(Lt.jsx)("path",{d:"M24 5V11",stroke:"black","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),Object(Lt.jsx)("path",{d:"M16 16H21",stroke:"black","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),Object(Lt.jsx)("path",{d:"M27 16H32",stroke:"black","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),Object(Lt.jsx)("path",{d:"M16 22H21",stroke:"black","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),Object(Lt.jsx)("path",{d:"M27 22H32",stroke:"black","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),Object(Lt.jsx)("path",{d:"M24 38V44",stroke:"black","stroke-width":"4"}),Object(Lt.jsx)("path",{d:"M16 42C14.8954 42 14 42.8954 14 44C14 45.1046 14.8954 46 16 46V42ZM32 46C33.1046 46 34 45.1046 34 44C34 42.8954 33.1046 42 32 42V46ZM16 46L32 46V42L16 42V46Z",fill:"black"})]}),An=Object(Lt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 32 32",children:Object(Lt.jsx)("path",{d:"M 27.1875 5.09375 L 16.125 10.34375 C 15.804688 10.128906 15.414063 10 15 10 C 13.894531 10 13 10.894531 13 12 C 13 13.105469 13.894531 14 15 14 C 16.050781 14 16.921875 13.1875 17 12.15625 L 23.0625 9.28125 C 24.878906 10.046875 26 11.046875 26 12 C 26 13.886719 21.722656 16 16 16 C 10.277344 16 6 13.886719 6 12 C 6 10.113281 10.277344 8 16 8 C 16.171875 8 16.328125 7.996094 16.5 8 L 20.03125 6.34375 C 18.777344 6.132813 17.433594 6 16 6 C 9.160156 6 4 8.578125 4 12 L 4 22 C 4 22.988281 4.445313 23.894531 5.125 24.625 C 5.804688 25.355469 6.730469 25.945313 7.8125 26.4375 C 9.976563 27.421875 12.839844 28 16 28 C 19.160156 28 22.023438 27.421875 24.1875 26.4375 C 25.269531 25.945313 26.195313 25.355469 26.875 24.625 C 27.554688 23.894531 28 22.988281 28 22 L 28 12 C 28 10.523438 27.023438 9.210938 25.375 8.1875 L 28.03125 6.90625 Z M 6 15.40625 C 7.015625 16.171875 8.378906 16.800781 10 17.25 L 10 25.15625 C 9.5 25 9.042969 24.816406 8.625 24.625 C 7.71875 24.210938 7.027344 23.714844 6.59375 23.25 C 6.160156 22.785156 6 22.394531 6 22 Z M 26 15.40625 L 26 22 C 26 22.394531 25.839844 22.785156 25.40625 23.25 C 24.972656 23.714844 24.28125 24.210938 23.375 24.625 C 22.957031 24.816406 22.5 25 22 25.15625 L 22 17.25 C 23.621094 16.800781 24.984375 16.171875 26 15.40625 Z M 12 17.6875 C 13.242188 17.894531 14.582031 18 16 18 C 17.417969 18 18.757813 17.894531 20 17.6875 L 20 25.625 C 18.769531 25.855469 17.421875 26 16 26 C 14.578125 26 13.230469 25.855469 12 25.625 Z"})}),Pn=Object(Lt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 32 32",children:Object(Lt.jsx)("path",{d:"M 26.59375 3.0625 C 26.488281 3.0625 26.386719 3.113281 26.28125 3.21875 L 25.53125 3.96875 L 25.21875 3.65625 L 24.78125 4.0625 L 25.125 4.40625 L 24.6875 4.8125 L 24.375 4.5 L 23.9375 4.9375 L 24.25 5.25 L 23.53125 6 C 23.316406 6.214844 23.316406 6.410156 23.53125 6.625 L 19.34375 10.8125 C 18.410156 10.066406 17.414063 9.5 16.46875 9.21875 C 14.710938 8.699219 13.148438 9.074219 11.9375 10.28125 C 11.402344 10.816406 11.074219 11.46875 10.9375 12.25 C 10.71875 13.515625 9.601563 14.503906 8.28125 14.59375 C 6.839844 14.691406 5.574219 15.269531 4.625 16.21875 C 2.121094 18.722656 2.574219 23.265625 5.65625 26.34375 C 7.40625 28.09375 9.636719 29 11.6875 29 C 13.25 29 14.699219 28.457031 15.78125 27.375 C 16.730469 26.425781 17.308594 25.160156 17.40625 23.71875 C 17.496094 22.398438 18.453125 21.28125 19.71875 21.0625 C 20.5 20.925781 21.183594 20.597656 21.71875 20.0625 C 22.925781 18.855469 23.300781 17.289063 22.78125 15.53125 C 22.609375 14.945313 22.300781 14.347656 21.9375 13.75 L 20.46875 15.21875 C 20.625 15.519531 20.757813 15.808594 20.84375 16.09375 C 21.152344 17.132813 20.988281 17.980469 20.3125 18.65625 C 20.070313 18.894531 19.78125 19.027344 19.40625 19.09375 C 17.242188 19.46875 15.554688 21.367188 15.40625 23.59375 C 15.34375 24.542969 14.976563 25.363281 14.375 25.96875 C 12.648438 27.691406 9.394531 27.238281 7.09375 24.9375 C 4.792969 22.636719 4.308594 19.347656 6.03125 17.625 C 6.636719 17.023438 7.457031 16.65625 8.40625 16.59375 C 10.632813 16.445313 12.527344 14.757813 12.90625 12.59375 C 12.972656 12.21875 13.101563 11.929688 13.34375 11.6875 C 13.808594 11.222656 14.339844 11 14.96875 11 C 15.253906 11 15.582031 11.058594 15.90625 11.15625 C 16.535156 11.34375 17.238281 11.714844 17.90625 12.21875 L 14.5625 15.5625 C 14.382813 15.519531 14.195313 15.5 14 15.5 C 12.621094 15.5 11.5 16.621094 11.5 18 C 11.5 19.378906 12.621094 20.5 14 20.5 C 15.378906 20.5 16.5 19.378906 16.5 18 C 16.5 17.847656 16.464844 17.707031 16.4375 17.5625 L 25.53125 8.4375 C 25.746094 8.652344 25.972656 8.652344 26.1875 8.4375 L 26.9375 7.6875 L 27.25 8 L 27.65625 7.59375 L 27.34375 7.28125 L 27.78125 6.84375 L 28 7.28125 L 28.40625 6.84375 L 28.09375 6.53125 L 28.84375 5.78125 C 29.058594 5.566406 29.058594 5.339844 28.84375 5.125 L 26.9375 3.21875 C 26.832031 3.113281 26.699219 3.0625 26.59375 3.0625 Z M 26.5 4.28125 L 26.9375 4.71875 L 25 6.625 L 24.59375 6.21875 Z M 27.34375 5.03125 L 27.78125 5.46875 L 25.84375 7.375 L 25.4375 6.9375 Z M 9.09375 19.6875 L 7.6875 21.09375 L 10.90625 24.3125 L 12.3125 22.90625 Z"})}),Ln=Object(Lt.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Lt.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 21C23.1046 21 24 20.1046 24 19V5C24 3.89543 23.1046 3 22 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H22ZM11 5H8.98486V13H7.98511V19H12V13H11V5ZM18.0151 19H22V5H19.0151V13H18.0151V19ZM17.0151 13H16.0151V5H14V13H13V19H17.0151V13ZM6.98511 19V13H5.98486V5H3L3 19H6.98511Z",fill:"currentColor"})}),Sn=Object(Lt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"mdi-music-note-plus",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(Lt.jsx)("path",{d:"M17 9V12H14V14H17V17H19V14H22V12H19V9H17M9 3V13.55C8.41 13.21 7.73 13 7 13C4.79 13 3 14.79 3 17S4.79 21 7 21 11 19.21 11 17V7H15V3H9Z"})}),Un=function(e,t){return t?Object.values(e[t]||[]):[]},Nn=function(e,t,a,n){for(var r=!!(e=e.sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}))).filter((function(e){return e.forceDisplay})).length,i=8,c=0;c<e.length;c++){e[c]=Object(R.a)({},e[c]);var o=e[c].timestampMilliseconds/a*100;e[c].styleLeft="calc(".concat(o,"% - ").concat(i,"px)"),i+=0,r?e[c].forceDisplay||(e[c].forceDisplay=!1):e[c].timestampMilliseconds<=n?(e[c].forceDisplay=!0,0!==c&&(e[c-1].forceDisplay=!1)):e[c].forceDisplay=!1,e[c].timestampMilliseconds>n+5e3?e[c].stoppable=!0:e[c].stoppable=!1;for(var s=0;s<t.allIntervals.length;s++){var u=t.allIntervals[s],l="muted"===u.purpose&&u.startPosition<=e[c].timestampMilliseconds&&u.endPosition>e[c].timestampMilliseconds;if(e[c].playable=!0,l){e[c].playable=!1;var d=t.playbackIntervals,p=d[d.length-1].endPosition;(e[c].timestampMilliseconds===p||u.startPosition<e[c].timestampMilliseconds&&u.endPosition>e[c].timestampMilliseconds)&&(e[c].stoppable=!1);break}}}return e};var Bn=Object(Qt.b)((function(e){return{markerMap:e.markerMap,stream:e.stream,playback:e.playback,queueMap:e.queueMap,trackDetail:e.trackDetail}}))((function(e){var t,a,n,r,i,c,o=e.playback,s=e.queueMap,u=e.markerMap,l=e.stream,d=s[o.nowPlayingUuid],j=e.trackDetail,m=j.motive,h=j.tab,f=(null===d||void 0===d||null===(t=d.track)||void 0===t?void 0:t.service)===de?[{value:"muted",name:"Trim"},{value:"stems",name:"Stem isolation"}]:[{value:"muted",name:"Trim"}],v=[{value:"vocals",display:Mn},{value:"drums",display:An},{value:"bass",display:Pn},{value:"piano",display:Ln},{value:"other",display:Sn}],k=j.form.marker.timestamp,x=j.form.marker.name,y=j.form.interval.modification,O=j.form.interval.lowerBoundMarkerUuid,C=j.form.interval.upperBoundMarkerUuid;r=Un(u,null===d||void 0===d||null===(a=d.track)||void 0===a?void 0:a.uuid);try{i=d.track.durationMilliseconds||0,c=fe(d,d.startedAt)[0]}catch(A){i=1e3,c=500}r=Nn(r,d,i,c);var g=function(){var t=Object(b.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.track.service===ue?1e3*Math.round(k/1e3):k,t.next=3,kn(d.track.uuid,a,d.uuid,x);case 3:return n=t.sent,t.next=6,e.dispatch(n.redux);case 6:_(""),e.dispatch({type:"trackDetail/setForm",payload:{marker:{timestamp:"",name:""}}}),e.dispatch({type:"trackDetail/setMotive",payload:{motive:$}});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(b.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yn(d.uuid,O,C,y,null,d.parentUuid);case 2:return a=t.sent,t.next=5,e.dispatch(a.redux);case 5:e.dispatch({type:"trackDetail/setForm",payload:{interval:{lowerBoundMarkerUuid:"",upperBoundMarkerUuid:""}}}),e.dispatch({type:"trackDetail/setMotive",payload:{motive:$}});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(t){var a;if(t)a=t;else try{a=fe(d,d.startedAt)[0]}catch(A){a=0}d.track.service===ue&&(a=1e3*Math.round(a/1e3)),e.dispatch({type:"trackDetail/setForm",payload:{marker:{timestamp:a}}})},M=function(){e.dispatch({type:"main/addAction",payload:{action:{name:"pause",status:"kickoff",fake:!0}}})};return Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("button",{className:gn.a.CloseModal,onClick:function(){"played"===d.status?e.dispatch({type:"main/addAction",payload:{action:{name:"pause",status:"kickoff",fake:!0}}}):(e.dispatch({type:"playback/clearSeekTimeoutId"}),e.dispatch({type:"main/clearAutoplayTimeoutId"})),e.dispatch({type:"trackDetail/reset"}),e.dispatch({type:"main/addAction",payload:{action:{name:"mount",stream:l,status:"kickoff",fake:!0}}}),e.dispatch({type:"main/addAction",payload:{action:{name:"closeModal",status:"kickoff",fake:!0}}})},children:Dt}),Object(Lt.jsxs)("div",{className:gn.a.ModalContent,children:[Object(Lt.jsx)("div",{className:gn.a.QueueName,children:null===d||void 0===d||null===(n=d.track)||void 0===n?void 0:n.name}),Object(Lt.jsxs)("div",{className:gn.a.TabButtonContainer,children:[Object(Lt.jsx)("button",{className:gn.a[h===Y?"TabButtonActive":"TabButton"],onClick:function(){e.dispatch({type:"trackDetail/setTab",payload:{tab:Y}})},children:"Markers"}),Object(Lt.jsx)("button",{className:gn.a[h===X?"TabButtonActive":"TabButton"],onClick:function(){e.dispatch({type:"trackDetail/setTab",payload:{tab:X}})},children:"Intervals"})]}),Object(Lt.jsxs)("div",{className:gn.a.MotiveContainer,children:[Object(Lt.jsxs)("label",{className:gn.a.MotiveCheckboxContainer,children:[Object(Lt.jsx)("button",{onClick:function(){e.dispatch({type:"trackDetail/setMotive",payload:{motive:$}})},children:"listen"===m?wn:_n}),Object(Lt.jsx)("span",{style:"listen"!==m&&{color:"#BCBCBC"}||{},children:"Listen"})]}),Object(Lt.jsxs)("label",{className:gn.a.MotiveCheckboxContainer,children:[Object(Lt.jsx)("button",{onClick:function(){e.dispatch({type:"trackDetail/setMotive",payload:{motive:ee}}),h===Y&&_()},children:"create"===m?wn:_n}),Object(Lt.jsx)("span",{style:"create"!==m&&{color:"#BCBCBC"}||{},children:"Create"})]}),Object(Lt.jsxs)("label",{className:gn.a.MotiveCheckboxContainer,children:[Object(Lt.jsx)("button",{onClick:function(){h===X&&"played"===d.status&&M(),e.dispatch({type:"trackDetail/setMotive",payload:{motive:te}})},children:"delete"===m?wn:_n}),Object(Lt.jsx)("span",{style:"delete"!==m&&{color:"#BCBCBC"}||{},children:"Delete"})]})]}),h===Y&&"create"===m&&Object(Lt.jsxs)("div",{className:gn.a.Form,children:[Object(Lt.jsxs)("label",{className:gn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Marker Timestamp"}),Object(Lt.jsx)("input",{className:gn.a.FormInput,type:"text",value:k,onChange:function(t){e.dispatch({type:"trackDetail/setForm",payload:{marker:{timestamp:t.target.value}}})}})]}),Object(Lt.jsxs)("label",{className:gn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Marker Name"}),Object(Lt.jsx)("input",{className:gn.a.FormInput,type:"text",value:x,onChange:function(t){e.dispatch({type:"trackDetail/setForm",payload:{marker:{name:t.target.value}}})}})]}),Object(Lt.jsx)("button",{className:gn.a.FormSubmit,disabled:!(k&&x),onClick:g,children:"Create"})]}),h===X&&"create"===m&&Object(Lt.jsxs)("div",{className:gn.a.Form,children:[Object(Lt.jsxs)("label",{className:gn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Modification"}),Object(Lt.jsx)("select",{className:gn.a.FormSelect,value:y,onChange:function(t){e.dispatch({type:"trackDetail/setForm",payload:{interval:{modification:t.target.value}}})},children:f.map((function(e,t){return Object(Lt.jsx)("option",{value:e.value,children:e.name},t)}))})]}),"muted"===y&&Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsxs)("label",{className:gn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Start Marker"}),Object(Lt.jsxs)("select",{className:gn.a.FormSelect,value:O,onChange:function(t){e.dispatch({type:"trackDetail/setForm",payload:{interval:{lowerBoundMarkerUuid:t.target.value}}})},children:[Object(Lt.jsx)("option",{value:"null",children:"Beginning"}),r.map((function(e,t){return Object(Lt.jsx)("option",{value:e.uuid,children:e.name},t)}))]})]}),Object(Lt.jsxs)("label",{className:gn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"End Marker"}),Object(Lt.jsxs)("select",{className:gn.a.FormSelect,value:C,onChange:function(t){e.dispatch({type:"trackDetail/setForm",payload:{interval:{upperBoundMarkerUuid:t.target.value}}})},children:[r.map((function(e,t){return Object(Lt.jsx)("option",{value:e.uuid,children:e.name},t)})),Object(Lt.jsx)("option",{value:"null",children:"End"})]})]})]}),"stems"===y&&Object(Lt.jsxs)("label",{className:gn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Stems"}),v.map((function(e,t){return Object(Lt.jsx)("button",{className:gn.a.StemCheckbox,children:e.display},t)}))]}),Object(Lt.jsx)("button",{className:gn.a.FormSubmit,onClick:w,children:"Create"})]})]})]})})),Fn=a(29),Tn=a.n(Fn);var Dn=Object(Qt.b)((function(e){return{userSettings:e.userSettings}}))((function(e){var t=e.userSettings,a=Object(o.useState)(!0),n=Object(j.a)(a,2),r=n[0],i=n[1];return Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("button",{className:Tn.a.ModalClose,onClick:function(){e.dispatch({type:"modal/close"})},children:Dt}),Object(Lt.jsxs)("div",{className:Tn.a.ModalContent,children:[Object(Lt.jsx)("h3",{className:Tn.a.Title,children:"Settings"}),Object(Lt.jsxs)("label",{className:Tn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Spotify Premium"}),Object(Lt.jsx)("a",{href:t.spotify.authorizationUrl,children:"Connect"})]}),Object(Lt.jsxs)("label",{className:Tn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Apple Music"}),Object(Lt.jsx)("button",{onClick:function(){window.MusicKit.getInstance().authorize()},children:"Connect"})]}),Object(Lt.jsxs)("label",{className:Tn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Idle after queue"}),Object(Lt.jsx)("input",{type:"checkbox",checked:t.idleQueue,onChange:function(t){i(!1),e.dispatch({type:"userSettings/update",payload:{idleQueue:t.target.checked}}),B("idle_after_now_playing",t.target.checked),i(!0)},disabled:!r})]}),Object(Lt.jsxs)("label",{className:Tn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Speak voice recordings"}),Object(Lt.jsx)("input",{type:"checkbox",checked:t.speakVoice,onChange:function(t){i(!1),e.dispatch({type:"userSettings/update",payload:{speakVoice:t.target.checked}}),B("mute_voice_recordings",t.target.checked),i(!0)},disabled:!r})]}),Object(Lt.jsxs)("label",{className:Tn.a.FormLabel,children:[Object(Lt.jsx)("span",{children:"Focus mode"}),Object(Lt.jsx)("input",{type:"checkbox",checked:t.focusMode,onChange:function(t){i(!1),e.dispatch({type:"userSettings/update",payload:{focusMode:t.target.checked}}),B("focus_mode",t.target.checked),i(!0)},disabled:!r})]})]})]})})),Rn=a(44),In=a.n(Rn);var qn=Object(Qt.b)((function(e){return{feedApp:e.feedApp}}))((function(e){var t=e.feedApp,a=t.textComment,n=a.trackUuid,r=a.position,i=Object(o.useState)(!1),c=Object(j.a)(i,2),s=c[0],u=c[1],l=Object(o.useState)(""),d=Object(j.a)(l,2),m=d[0],h=d[1],f=function(){e.dispatch({type:"modal/close"})},v=function(){var a=Object(b.a)(p.a.mark((function a(){var i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u(!0),a.next=3,x(m,"abc_notation",n,r);case 3:i=a.sent,e.dispatch(i.redux),f(),h(""),u(!1),e.dispatch({type:"feedApp/setTextComment",payload:{textComment:{text:""}}}),e.dispatch({type:"main/addAction",payload:{action:{name:"play",timestampMilliseconds:t.textComment.position,status:"kickoff",fake:{api:!1}}}});case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(o.useEffect)((function(){e.dispatch({type:"feedApp/setTextComment",payload:{textComment:{text:"Notation",trackUuid:n,position:r}}})}),[]),Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("button",{className:In.a.CloseModal,onClick:f,disabled:s,children:Dt}),Object(Lt.jsxs)("div",{className:In.a.ContentContainer,children:[Object(Lt.jsxs)("div",{className:In.a.NotationContainer,children:[Object(Lt.jsx)("h4",{children:"Notation"}),Object(Lt.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:m,spellCheck:"false",onChange:function(e){h(e.target.value)},disabled:s})]}),Object(Lt.jsxs)("div",{className:In.a.RenderingContainer,children:[Object(Lt.jsx)("h4",{children:"Rendering"}),Object(Lt.jsx)("div",{className:In.a.RenderingWrapper,children:Object(Lt.jsx)(ua,{text:m})}),Object(Lt.jsx)("button",{onClick:v,disabled:s,children:"Post"})]})]})]})})),Hn=a(11),Vn=a.n(Hn);var Qn=Object(Qt.b)((function(e){return{userSettings:e.userSettings}}))((function(e){var t=e.userSettings,a=function(t){return function(){e.dispatch({type:"search/setService",payload:{service:t}}),window.location.href="/app/search"}};try{window.MusicKit.getInstance().musicUserToken&&(!1)(!0)}catch(n){}return Object(Lt.jsxs)("div",{className:Vn.a.WelcomeContainer,children:[Object(Lt.jsxs)("div",{className:Vn.a.WelcomeHeader,children:[Object(Lt.jsx)("h2",{children:"Welcome"}),Object(Lt.jsx)("h5",{children:"From where would you like to begin?"})]}),Object(Lt.jsxs)("div",{className:Vn.a.PlaybackOptionContainer,children:[Object(Lt.jsxs)("div",{className:Vn.a.PlaybackOption,onClick:a(se),disabled:!t,children:[Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionLogo,children:Nt}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionService,children:"Spotify"}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionDescription,children:"Connect your Spotify Premium account"})]}),Object(Lt.jsxs)("div",{className:Vn.a.PlaybackOption,onClick:a(ue),children:[Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionLogo,children:Bt}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionService,children:"YouTube"}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionDescription,children:"Free access to the YouTube catalog"})]}),Object(Lt.jsxs)("div",{className:Vn.a.PlaybackOption,onClick:a(oe),children:[Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionLogo,children:Ft}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionService,children:"Apple Music"}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionDescription,children:"Connect your Apple Music account"})]}),Object(Lt.jsxs)("div",{className:Vn.a.PlaybackOption,onClick:a(le),children:[Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionLogo,children:It}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionService,children:"Audius"}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionDescription,children:"Free access to the Audius catalog"})]}),Object(Lt.jsxs)("div",{className:Vn.a.PlaybackOption,onClick:a(de),children:[Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionLogo,children:Tt}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionService,children:"Library"}),Object(Lt.jsx)("div",{className:Vn.a.PlaybackOptionDescription,children:"Upload or search files in your cloud storage"})]})]})]})})),Wn=a(67),En=a.n(Wn);var Zn=Object(Qt.b)((function(e){return{modal:e.modal,playback:e.playback,queueMap:e.queueMap,nowPlaying:e.nowPlaying}}))((function(e){var t,a,n,r=e.modal,i=e.playback,c=e.queueMap[i.nowPlayingUuid];if(!r.isOpen)return Object(Lt.jsx)(Lt.Fragment,{});var o=((null===c||void 0===c||null===(t=c.track)||void 0===t?void 0:t.service)===oe||(null===c||void 0===c||null===(a=c.track)||void 0===a?void 0:a.service)===ue)&&"video"===(null===c||void 0===c||null===(n=c.track)||void 0===n?void 0:n.format)?"ModalSecondary":"ModalPrimary";return Object(Lt.jsx)("div",{className:En.a.ModalOverlay,children:Object(Lt.jsxs)("div",{className:En.a[o],children:[r.view===V&&Object(Lt.jsx)(vn,{}),r.view===q&&Object(Lt.jsx)(Bn,{}),r.view===Q&&Object(Lt.jsx)(Dn,{}),r.view===H&&Object(Lt.jsx)(qn,{}),r.view===I&&Object(Lt.jsx)(Qn,{})]})})})),zn=a(68),Jn=(a(201),function(e,t){var a=fe(t,t.startedAt),n=a[0],r=a[2],i=t.track.service;if(i===oe){var c=window.MusicKit.getInstance();"track"===t.track.format?c.setQueue({song:t.track.externalId,startTime:n/1e3}).then((function(){window.MusicKit.getInstance().play().then((function(){Pt.dispatch({type:"playback/action",payload:{action:null}})}))})):"video"===t.track.format&&c.setQueue({musicVideo:t.track.externalId,startTime:n/1e3}).then((function(){window.MusicKit.getInstance().play().then((function(){Pt.dispatch({type:"playback/action",payload:{action:null}})}))}))}else if(i===se)e.spotifyApi.play({uris:[t.track.externalId],position_ms:n});else if(i===ue)console.log("number"===typeof e.youTubeApi.getPlayerState()),"number"===typeof e.youTubeApi.getPlayerState()?(e.youTubeApi.setVolume(100*e.volumeLevel.audio),e.youTubeApi.seekTo(Math.floor(n/1e3)),e.youTubeApi.playVideo()):Pt.dispatch({type:"playback/youTubeTriggerAutoplay",payload:{autoplay:!0}});else if(i===de){var o,s=Object(Pe.a)(r);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=t.track.uuid,d=e.files[l][u];n>0&&(d.currentTime=n/1e3),d.volume=e.volumeLevel.audio,d.play()}}catch(j){s.e(j)}finally{s.f()}}else if(i===le){var p=t.track.uuid,b=e.files[p];n>0&&(b.currentTime=n/1e3),b.volume=e.volumeLevel.audio,b.play()}}),Kn=function(e,t,a){var n=fe(t),r=n[0],i=new Set(n[2]),c=t.track.service;if(c===oe)window.MusicKit.getInstance().seekToTime(r/1e3).then((function(){Pt.dispatch({type:"playback/action",payload:{action:null}})}));else if(c===se)e.spotifyApi.seek(r);else if(c===ue)e.youTubeApi.seekTo(Math.floor(r/1e3));else if(c===de){for(var o=t.track.uuid,s=e.files[o],u=0,l=Object.entries(s);u<l.length;u++){var d=Object(j.a)(l[u],2),p=d[0],b=d[1];i.has(p)||(b.paused||b.pause())}var m,h=Object(Pe.a)(i);try{for(h.s();!(m=h.n()).done;){var f=s[m.value];f.currentTime=r/1e3,f.play()}}catch(x){h.e(x)}finally{h.f()}}else if(c===le){var v=t.track.uuid,k=e.files[v];k.currentTime=r/1e3,k.play()}},Gn=Object(Lt.jsxs)("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M12 15L21 8L12 1V15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"#FFF"}),Object(Lt.jsx)("path",{d:"M1 15L10 8L1 1V15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"#FFF"})]}),Yn=Object(Lt.jsxs)("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M10 15L1 8L10 1V15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"#FFF"}),Object(Lt.jsx)("path",{d:"M21 15L12 8L21 1V15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"#FFF"})]}),Xn=Object(Lt.jsxs)("svg",{width:"9",height:"25",viewBox:"0 0 9 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M1 9V5V1",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"square"}),Object(Lt.jsx)("path",{d:"M8.61782 23.2137C9.05209 23.5549 9.12753 24.1835 8.78632 24.6178C8.4451 25.0521 7.81645 25.1275 7.38218 24.7863L8.61782 23.2137ZM7.38218 24.7863L7.06588 24.5378L8.30153 22.9652L8.61782 23.2137L7.38218 24.7863ZM7.06588 24.5378C2.6048 21.0327 0 15.6734 0 10H2C2 15.0597 4.32302 19.8392 8.30153 22.9652L7.06588 24.5378Z",fill:"#0047FF"})]}),$n=Object(Lt.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Lt.jsx)("path",{d:"M7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1C5.65685 1 7 2.34315 7 4Z",fill:"white",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),er=Object(Lt.jsxs)("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M1 3.80078H2.4H13.6",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M4.49844 3.8V2.4C4.49844 2.0287 4.64594 1.6726 4.90849 1.41005C5.17104 1.1475 5.52713 1 5.89844 1H8.69844C9.06974 1 9.42584 1.1475 9.68839 1.41005C9.95094 1.6726 10.0984 2.0287 10.0984 2.4V3.8M12.1984 3.8V13.6C12.1984 13.9713 12.0509 14.3274 11.7884 14.5899C11.5258 14.8525 11.1697 15 10.7984 15H3.79844C3.42713 15 3.07104 14.8525 2.80849 14.5899C2.54594 14.3274 2.39844 13.9713 2.39844 13.6V3.8H12.1984Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M5.89844 7.30078V11.5008",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M8.69922 7.30078V11.5008",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),tr=Object(Lt.jsx)("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Lt.jsx)("path",{d:"M1 1L8.6 6L1 11V1Z",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),ar=Object(Lt.jsx)("svg",{width:"9",height:"15",viewBox:"0 0 9 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Lt.jsx)("path",{d:"M8.61782 1.78632C9.05209 1.4451 9.12753 0.81645 8.78632 0.382178C8.4451 -0.0520932 7.81645 -0.127532 7.38218 0.213682L8.61782 1.78632ZM7.38218 0.213682L7.06588 0.4622L8.30153 2.03484L8.61782 1.78632L7.38218 0.213682ZM7.06588 0.4622C2.6048 3.96734 0 9.32662 0 15H2C2 9.94034 4.32302 5.1608 8.30153 2.03484L7.06588 0.4622Z",fill:"#0047FF"})}),nr=a(99),rr=a.n(nr),ir=a(48),cr=a.n(ir),or=a(34),sr=a.n(or);var ur=Object(Qt.b)((function(e){return{modal:e.modal,trackDetail:e.trackDetail}}))((function(e){var t=e.interval,a=e.duration,n=e.queue,r=e.allowIntervalPlay,i=e.modal,c=e.trackDetail,s=i.view===q&&c.tab===X&&c.motive===te,u=s;console.log(s);var l,d=(t.endPosition-t.startPosition)/a*100,m="Progress"+(l=(l=t.purpose.includes("solo")?"solo":t.purpose).charAt(0).toUpperCase()+l.slice(1)),h="ProgressHoverContainer"+l,f="ProgressHoverPointer"+l,v=Object(o.useState)(!1),k=Object(j.a)(v,2),x=k[0],y=k[1],O=function(){var a=Object(b.a)(p.a.mark((function a(){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"played"===n.status&&e.dispatch({type:"main/addAction",payload:{action:{name:"pause",status:"kickoff",fake:!0}}}),a.next=3,On(t.uuid,n.uuid,n.parentUuid);case 3:return r=a.sent,a.next=6,e.dispatch(r.redux);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),C=function(){var a=Object(b.a)(p.a.mark((function a(){var r,i,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=ve(n,t.startPosition),"played"===n.status?(i={name:"seek",timestampMilliseconds:r,status:"kickoff",fake:!1},e.dispatch({type:"main/addAction",payload:{action:i}})):(c={name:"play",timestampMilliseconds:r,status:"kickoff",fake:{api:!1}},e.dispatch({type:"main/addAction",payload:{action:c}}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(Lt.jsx)("div",{className:sr.a[m],style:{width:"".concat(d,"%")},onMouseEnter:function(){y(!0)},onMouseLeave:function(){y(!1)},children:u&&x&&Object(Lt.jsxs)("div",{className:sr.a[h],children:[Object(Lt.jsx)("div",{className:sr.a[f],children:Xn}),Object(Lt.jsxs)("div",{className:sr.a.HoverContainer,children:[Object(Lt.jsx)("div",{className:sr.a.ProgressHoverPurpose,children:t.purpose}),t.uuid&&s&&Object(Lt.jsx)("button",{className:sr.a.ProgressHoverDelete,onClick:O,children:er}),r&&"Muted"!==l&&Object(Lt.jsx)("button",{className:sr.a.ProgressHoverDelete,onClick:C,children:tr})]})]})})})),lr=a(30),dr=a.n(lr);var pr=Object(Qt.b)((function(e){return{stream:e.stream,playback:e.playback,modal:e.modal,trackDetail:e.trackDetail,queueMap:e.queueMap}}))((function(e){var t=e.marker,a=e.queue,n=e.modal,r=e.trackDetail,i=e.playable,c=e.stoppable,s=e.forceDisplay,u=e.hoveringEnabled,l=n.view===q&&r.tab===Y&&r.motive===te,d=e.stream,m=e.playback,h=e.queueMap[m.nowPlayingUuid],f=Object(o.useState)(!1),v=Object(j.a)(f,2),k=v[0],x=v[1],y="ProgressBarMarkerPointer",O="ProgressBarMarkerPointerExtension";"fake-uuid"===t.uuid?(y="ProgressBarMarkerPointerHighlighted",O="ProgressBarMarkerPointerExtensionHighlighted"):i||(y="ProgressBarMarkerPointerGrey",O="ProgressBarMarkerPointerExtensionGrey");var C=function(){var t=Object(b.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xn(a.uuid,h.uuid);case 2:return n=t.sent,t.next=5,e.dispatch(n.redux);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var n=Object(b.a)(p.a.mark((function n(){var r,i,c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=ve(a,t.timestampMilliseconds),"played"===a.status?(i={name:"seek",timestampMilliseconds:r,status:"kickoff",fake:!(m.nowPlayingUuid===d.nowPlayingUuid)},e.dispatch({type:"main/addAction",payload:{action:i}})):(c={name:"play",timestampMilliseconds:r,status:"kickoff",fake:{api:!(m.nowPlayingUuid===d.nowPlayingUuid)}},e.dispatch({type:"main/addAction",payload:{action:c}}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(Lt.jsx)("div",{className:dr.a.ProgressBarMarker,style:{left:t.styleLeft},onMouseEnter:function(){x(!0),e.setMarkerHover(!0)},onMouseLeave:function(){x(!1),e.setMarkerHover(!1)},children:Object(Lt.jsxs)("div",{className:dr.a[y],children:[(k&&u||s&&!e.markerHover)&&Object(Lt.jsx)("div",{className:dr.a[O],children:ar}),(k&&u||s&&!e.markerHover)&&Object(Lt.jsxs)("div",{className:dr.a.HoverContainer,children:[(k||s)&&Object(Lt.jsx)("div",{className:dr.a.ProgressBarMarkerName,children:t.name}),k&&l&&Object(Lt.jsx)("button",{className:dr.a.Delete,onClick:function(e){C(t)},children:er}),k&&i&&!l&&Object(Lt.jsx)("button",{className:dr.a.Play,onClick:g,children:tr}),k&&c&&!1]})]})})}));var br=Object(Qt.b)((function(e){return{markerMap:e.markerMap,queueMap:e.queueMap,playback:e.playback,stream:e.stream,trackDetail:e.trackDetail,feedApp:e.feedApp,sideBar:e.sideBar,modal:e.modal}}))((function(e){var t,a,n,r,i,c=e.queueMap,s=e.stream,u=e.playback,l=e.trackDetail,d=e.feedApp,m=e.sideBar,h=e.modal,f=c[u.nowPlayingUuid],v=(null===f||void 0===f?void 0:f.allIntervals)||[],k=(null===f||void 0===f||null===(t=f.track)||void 0===t?void 0:t.durationMilliseconds)||0,x=Object(o.useRef)(),y=Object(o.useRef)(),O=Object(o.useState)(!1),C=Object(j.a)(O,2),g=C[0],w=C[1],_=Object(o.useState)(0),M=Object(j.a)(_,2),A=M[0],P=M[1],L=Object(o.useState)(!1),S=Object(j.a)(L,2),U=S[0],N=S[1];try{r=fe(f,f.startedAt)[0],i=r/k*100}catch(te){i=(r=0)/k*100}var B,F,T=e.markerMap;if(B=Un(T,null===f||void 0===f||null===(a=f.track)||void 0===a?void 0:a.uuid),l.tab===Y&&l.motive===ee&&l.form.marker.name&&l.form.marker.timestamp){var D,R={forceDisplay:!0,name:l.form.marker.name,timestampMilliseconds:l.form.marker.timestamp,trackUuid:null===f||void 0===f||null===(D=f.track)||void 0===D?void 0:D.uuid,uuid:"fake-uuid"};B.push(R)}if(d.textComment.trackUuid&&"feed"===m.tab&&h.view===H){var I={forceDisplay:!0,name:(F=d.textComment.text,(F=F.trim()).length>8?"".concat(F.substring(0,6),"..."):F),timestampMilliseconds:d.textComment.position,trackUuid:d.textComment.trackUuid,uuid:"fake-uuid"};B.push(I)}B=Nn(B,f,k,r);var q=function(){var t=Object(b.a)(p.a.mark((function t(a,n){var r,i,c,o,l,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=x.current.getBoundingClientRect(),i=y.current.getBoundingClientRect(),c=(r.left-i.left)/(y.current.offsetWidth-8),o=Math.round(k*c),ke(f,o)){t.next=7;break}return E(0),P(n.x),w(!1),t.abrupt("return");case 7:l=ve(f,o),d={name:"seek",timestampMilliseconds:l,status:"kickoff",fake:!(u.nowPlayingUuid===s.nowPlayingUuid)},e.dispatch({type:"main/addAction",payload:{action:d}}),P(n.x),E(0),w(!1);case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),V=Object(o.useState)(0),Q=Object(j.a)(V,2),W=Q[0],E=Q[1],Z=Object(o.useState)(-1),z=Object(j.a)(Z,2),J=z[0],K=z[1],G=Object(o.useState)(0),X=Object(j.a)(G,2),$=(X[0],X[1]);return Object(o.useEffect)((function(){if(-1!==W){var e=setInterval((function(){$((function(e){return e+1}))}),1500);return K(e),function(){clearInterval(J)}}-1!==J&&clearInterval(J)}),[W]),g&&(i=g),Object(Lt.jsxs)("div",{ref:y,className:cr.a.ProgressBar,children:[(null===f||void 0===f||null===(n=f.track)||void 0===n?void 0:n.uuid)&&Object(Lt.jsx)(rr.a,{axis:"x",bounds:"body",nodeRef:x,disabled:"paused"===(null===f||void 0===f?void 0:f.status),onStart:function(e,t){E(-1),w(i)},onDrag:function(e,t){},onStop:q,children:Object(Lt.jsx)("div",{ref:x,className:cr.a.ProgressPointer,style:{left:"calc(".concat(i,"% - ").concat(3+A,"px)")},children:$n})}),Object(Lt.jsx)("div",{className:cr.a.ProgressBar,children:v.map((function(t,a){return Object(Lt.jsx)(ur,{interval:t,duration:k,queue:f,deleteTrackInterval:e.deleteTrackInterval,allowIntervalPlay:false},t.uuid||a)}))}),Object(Lt.jsx)("div",{className:cr.a.ProgressMarkerContainer,children:B.map((function(e,t){return Object(Lt.jsx)(pr,{marker:e,queue:f,forceDisplay:e.forceDisplay,playable:e.playable,stoppable:e.stoppable,markerHover:U,setMarkerHover:N,hoveringEnabled:!0},e.uuid)}))})]})})),jr=a(24),mr=a.n(jr),hr=Object(Lt.jsxs)("svg",{width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M32.5 64C49.897 64 64 49.897 64 32.5C64 15.103 49.897 1 32.5 1C15.103 1 1 15.103 1 32.5C1 49.897 15.103 64 32.5 64Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"#FFF"}),Object(Lt.jsx)("path",{d:"M26 20L45 32.5L26 45V20Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"#FFF"})]}),fr=Object(Lt.jsxs)("svg",{width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M32.5 64C49.897 64 64 49.897 64 32.5C64 15.103 49.897 1 32.5 1C15.103 1 1 15.103 1 32.5C1 49.897 15.103 64 32.5 64Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"#FFF"}),Object(Lt.jsx)("path",{d:"M26 20V45M39 45V20",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"#FFF"})]}),vr=Object(Lt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z",fill:"white",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),kr=Object(Lt.jsxs)("svg",{width:"23",height:"21",viewBox:"0 0 23 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M21.4202 2.04883V8.14679H15.3223",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M18.8691 13.2272C18.2085 15.0971 16.958 16.7017 15.306 17.7991C13.6541 18.8965 11.6903 19.4273 9.71042 19.3115C7.73057 19.1957 5.842 18.4395 4.3293 17.157C2.8166 15.8744 1.76172 14.135 1.32363 12.2007C0.885529 10.2665 1.08795 8.24227 1.90039 6.43308C2.71283 4.6239 4.09126 3.12778 5.82798 2.17017C7.56469 1.21256 9.5656 0.845346 11.5292 1.12386C13.4927 1.40238 15.3126 2.31154 16.7145 3.71434L21.4201 8.14553",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M9.408 12.36V13H6.536V12.36H7.672V9.24C7.61333 9.32 7.50667 9.41067 7.352 9.512C7.19733 9.608 7.02933 9.69067 6.848 9.76C6.66667 9.82933 6.50667 9.864 6.368 9.864V9.192C6.48533 9.192 6.61333 9.16 6.752 9.096C6.896 9.02667 7.03467 8.94667 7.168 8.856C7.30133 8.76533 7.41333 8.68 7.504 8.6C7.6 8.52 7.656 8.464 7.672 8.432H8.392V12.36H9.408ZM11.6016 13.08C11.2549 13.08 10.9296 13.024 10.6256 12.912C10.3216 12.7947 10.0602 12.6213 9.84156 12.392L10.1136 11.896C10.3536 12.12 10.5936 12.28 10.8336 12.376C11.0736 12.472 11.3189 12.52 11.5696 12.52C11.8576 12.52 12.0922 12.4667 12.2736 12.36C12.4549 12.248 12.5456 12.0853 12.5456 11.872C12.5456 11.7173 12.4976 11.6027 12.4016 11.528C12.3109 11.4533 12.1802 11.392 12.0096 11.344C11.8389 11.2907 11.6362 11.232 11.4016 11.168C10.9696 11.0453 10.6389 10.9013 10.4096 10.736C10.1856 10.5653 10.0736 10.3173 10.0736 9.992C10.0736 9.59733 10.2229 9.29333 10.5216 9.08C10.8256 8.86133 11.2122 8.752 11.6816 8.752C12.3109 8.752 12.8069 8.94133 13.1696 9.32L12.8496 9.808C12.5242 9.472 12.1216 9.304 11.6416 9.304C11.4976 9.304 11.3562 9.32267 11.2176 9.36C11.0789 9.392 10.9642 9.45333 10.8736 9.544C10.7829 9.62933 10.7376 9.752 10.7376 9.912C10.7376 10.1093 10.8176 10.2507 10.9776 10.336C11.1376 10.4213 11.3722 10.5093 11.6816 10.6C11.9962 10.6907 12.2682 10.7813 12.4976 10.872C12.7322 10.9627 12.9136 11.08 13.0416 11.224C13.1696 11.368 13.2336 11.568 13.2336 11.824C13.2336 12.2187 13.0842 12.528 12.7856 12.752C12.4869 12.9707 12.0922 13.08 11.6016 13.08Z",fill:"#0047FF"})]}),xr=Object(Lt.jsxs)("svg",{width:"24",height:"21",viewBox:"0 0 24 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M22.1605 2.04883V8.14679H16.0625",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M19.6094 13.2272C18.9487 15.0971 17.6982 16.7017 16.0463 17.7991C14.3944 18.8965 12.4305 19.4273 10.4507 19.3115C8.47081 19.1957 6.58224 18.4395 5.06954 17.157C3.55683 15.8744 2.50196 14.135 2.06386 12.2007C1.62576 10.2665 1.82819 8.24227 2.64062 6.43308C3.45306 4.6239 4.8315 3.12778 6.56821 2.17017C8.30493 1.21256 10.3058 0.845346 12.2694 1.12386C14.233 1.40238 16.0528 2.31154 17.4548 3.71434L22.1604 8.14553",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M6.512 13V12.104H7.104V13H6.512ZM11.0252 12.36V13H8.15319V12.36H9.28919V9.24C9.23052 9.32 9.12385 9.41067 8.96919 9.512C8.81452 9.608 8.64652 9.69067 8.46519 9.76C8.28385 9.82933 8.12385 9.864 7.98519 9.864V9.192C8.10252 9.192 8.23052 9.16 8.36919 9.096C8.51319 9.02667 8.65185 8.94667 8.78519 8.856C8.91852 8.76533 9.03052 8.68 9.12119 8.6C9.21719 8.52 9.27319 8.464 9.28919 8.432H10.0092V12.36H11.0252ZM13.2188 13.08C12.8721 13.08 12.5468 13.024 12.2428 12.912C11.9388 12.7947 11.6774 12.6213 11.4588 12.392L11.7308 11.896C11.9708 12.12 12.2108 12.28 12.4508 12.376C12.6908 12.472 12.9361 12.52 13.1868 12.52C13.4748 12.52 13.7094 12.4667 13.8908 12.36C14.0721 12.248 14.1628 12.0853 14.1628 11.872C14.1628 11.7173 14.1148 11.6027 14.0188 11.528C13.9281 11.4533 13.7974 11.392 13.6268 11.344C13.4561 11.2907 13.2534 11.232 13.0188 11.168C12.5868 11.0453 12.2561 10.9013 12.0268 10.736C11.8028 10.5653 11.6908 10.3173 11.6908 9.992C11.6908 9.59733 11.8401 9.29333 12.1388 9.08C12.4428 8.86133 12.8294 8.752 13.2988 8.752C13.9281 8.752 14.4241 8.94133 14.7868 9.32L14.4668 9.808C14.1414 9.472 13.7388 9.304 13.2588 9.304C13.1148 9.304 12.9734 9.32267 12.8348 9.36C12.6961 9.392 12.5814 9.45333 12.4908 9.544C12.4001 9.62933 12.3548 9.752 12.3548 9.912C12.3548 10.1093 12.4348 10.2507 12.5948 10.336C12.7548 10.4213 12.9894 10.5093 13.2988 10.6C13.6134 10.6907 13.8854 10.7813 14.1148 10.872C14.3494 10.9627 14.5308 11.08 14.6588 11.224C14.7868 11.368 14.8508 11.568 14.8508 11.824C14.8508 12.2187 14.7014 12.528 14.4028 12.752C14.1041 12.9707 13.7094 13.08 13.2188 13.08Z",fill:"#0047FF"})]}),yr=Object(Lt.jsxs)("svg",{width:"24",height:"21",viewBox:"0 0 24 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M1.83953 2.04883V8.14679H7.9375",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M4.39063 13.2272C5.05128 15.0971 6.30179 16.7017 7.95372 17.7991C9.60565 18.8965 11.5695 19.4273 13.5493 19.3115C15.5292 19.1957 17.4178 18.4395 18.9305 17.157C20.4432 15.8744 21.498 14.135 21.9361 12.2007C22.3742 10.2665 22.1718 8.24227 21.3594 6.43308C20.5469 4.6239 19.1685 3.12778 17.4318 2.17017C15.6951 1.21256 13.6942 0.845346 11.7306 1.12386C9.76702 1.40238 7.94715 2.31154 6.54524 3.71434L1.83965 8.14553",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M9.512 13V12.104H10.104V13H9.512ZM14.0252 12.36V13H11.1532V12.36H12.2892V9.24C12.2305 9.32 12.1239 9.41067 11.9692 9.512C11.8145 9.608 11.6465 9.69067 11.4652 9.76C11.2839 9.82933 11.1239 9.864 10.9852 9.864V9.192C11.1025 9.192 11.2305 9.16 11.3692 9.096C11.5132 9.02667 11.6519 8.94667 11.7852 8.856C11.9185 8.76533 12.0305 8.68 12.1212 8.6C12.2172 8.52 12.2732 8.464 12.2892 8.432H13.0092V12.36H14.0252ZM16.2188 13.08C15.8721 13.08 15.5468 13.024 15.2428 12.912C14.9388 12.7947 14.6774 12.6213 14.4588 12.392L14.7308 11.896C14.9708 12.12 15.2108 12.28 15.4508 12.376C15.6908 12.472 15.9361 12.52 16.1868 12.52C16.4748 12.52 16.7094 12.4667 16.8908 12.36C17.0721 12.248 17.1628 12.0853 17.1628 11.872C17.1628 11.7173 17.1148 11.6027 17.0188 11.528C16.9281 11.4533 16.7974 11.392 16.6268 11.344C16.4561 11.2907 16.2534 11.232 16.0188 11.168C15.5868 11.0453 15.2561 10.9013 15.0268 10.736C14.8028 10.5653 14.6908 10.3173 14.6908 9.992C14.6908 9.59733 14.8401 9.29333 15.1388 9.08C15.4428 8.86133 15.8294 8.752 16.2988 8.752C16.9281 8.752 17.4241 8.94133 17.7868 9.32L17.4668 9.808C17.1414 9.472 16.7388 9.304 16.2588 9.304C16.1148 9.304 15.9734 9.32267 15.8348 9.36C15.6961 9.392 15.5814 9.45333 15.4908 9.544C15.4001 9.62933 15.3548 9.752 15.3548 9.912C15.3548 10.1093 15.4348 10.2507 15.5948 10.336C15.7548 10.4213 15.9894 10.5093 16.2988 10.6C16.6134 10.6907 16.8854 10.7813 17.1148 10.872C17.3494 10.9627 17.5308 11.08 17.6588 11.224C17.7868 11.368 17.8508 11.568 17.8508 11.824C17.8508 12.2187 17.7014 12.528 17.4028 12.752C17.1041 12.9707 16.7094 13.08 16.2188 13.08Z",fill:"#0047FF"})]}),Or=Object(Lt.jsxs)("svg",{width:"23",height:"21",viewBox:"0 0 23 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("path",{d:"M1.57977 2.04883V8.14679H7.67773",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M4.13086 13.2272C4.79151 15.0971 6.04202 16.7017 7.69395 17.7991C9.34588 18.8965 11.3097 19.4273 13.2896 19.3115C15.2694 19.1957 17.158 18.4395 18.6707 17.157C20.1834 15.8744 21.2383 14.135 21.6764 12.2007C22.1145 10.2665 21.912 8.24227 21.0996 6.43308C20.2872 4.6239 18.9087 3.12778 17.172 2.17017C15.4353 1.21256 13.4344 0.845346 11.4708 1.12386C9.50725 1.40238 7.68739 2.31154 6.28548 3.71434L1.57988 8.14553",stroke:"#0047FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Lt.jsx)("path",{d:"M13.408 12.36V13H10.536V12.36H11.672V9.24C11.6133 9.32 11.5067 9.41067 11.352 9.512C11.1973 9.608 11.0293 9.69067 10.848 9.76C10.6667 9.82933 10.5067 9.864 10.368 9.864V9.192C10.4853 9.192 10.6133 9.16 10.752 9.096C10.896 9.02667 11.0347 8.94667 11.168 8.856C11.3013 8.76533 11.4133 8.68 11.504 8.6C11.6 8.52 11.656 8.464 11.672 8.432H12.392V12.36H13.408ZM15.6016 13.08C15.2549 13.08 14.9296 13.024 14.6256 12.912C14.3216 12.7947 14.0602 12.6213 13.8416 12.392L14.1136 11.896C14.3536 12.12 14.5936 12.28 14.8336 12.376C15.0736 12.472 15.3189 12.52 15.5696 12.52C15.8576 12.52 16.0922 12.4667 16.2736 12.36C16.4549 12.248 16.5456 12.0853 16.5456 11.872C16.5456 11.7173 16.4976 11.6027 16.4016 11.528C16.3109 11.4533 16.1802 11.392 16.0096 11.344C15.8389 11.2907 15.6362 11.232 15.4016 11.168C14.9696 11.0453 14.6389 10.9013 14.4096 10.736C14.1856 10.5653 14.0736 10.3173 14.0736 9.992C14.0736 9.59733 14.2229 9.29333 14.5216 9.08C14.8256 8.86133 15.2122 8.752 15.6816 8.752C16.3109 8.752 16.8069 8.94133 17.1696 9.32L16.8496 9.808C16.5242 9.472 16.1216 9.304 15.6416 9.304C15.4976 9.304 15.3562 9.32267 15.2176 9.36C15.0789 9.392 14.9642 9.45333 14.8736 9.544C14.7829 9.62933 14.7376 9.752 14.7376 9.912C14.7376 10.1093 14.8176 10.2507 14.9776 10.336C15.1376 10.4213 15.3722 10.5093 15.6816 10.6C15.9962 10.6907 16.2682 10.7813 16.4976 10.872C16.7322 10.9627 16.9136 11.08 17.0416 11.224C17.1696 11.368 17.2336 11.568 17.2336 11.824C17.2336 12.2187 17.0842 12.528 16.7856 12.752C16.4869 12.9707 16.0922 13.08 15.6016 13.08Z",fill:"#0047FF"})]});var Cr=Object(Qt.b)((function(e){return{stream:e.stream,queueMap:e.queueMap,playback:e.playback,main:e.main,modal:e.modal}}))((function(e){var t,a,n=e.stream,r=e.queueMap,i=e.playback,c=e.modal,o=r[i.nowPlayingUuid],s=i.volumeLevel.audio,u=!e.main.actions.length,l=null===o||void 0===o||null===(t=o.track)||void 0===t?void 0:t.service,d=n.nowPlayingUuid===i.nowPlayingUuid;a=l===se?Nt:l===ue?Bt:l===oe?Ft:l===de?Ut:l===le?Rt:Ut;var j=function(e){u&&va({pause:!0})},m=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:"played"===(null===o||void 0===o?void 0:o.status)?ha({fake:{api:!d,playback:!1}}):"paused"!==(null===o||void 0===o?void 0:o.status)&&d?va({pause:!1}):d||"paused"===(null===o||void 0===o?void 0:o.status)?fa({progress:o.statusAt-o.startedAt,fake:{api:!d,playback:!1}}):fa({progress:o.statusAt-o.startedAt,fake:{api:!0,playback:!1}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Lt.jsxs)("div",{className:mr.a.BottomBar,children:[Object(Lt.jsx)("div",{className:mr.a.ProgressBarContainer,children:Object(Lt.jsx)(br,{queue:o,playbackControls:e.playbackControls,allowIntervalDelete:!1})}),Object(Lt.jsx)("div",{className:mr.a.Settings,children:Object(Lt.jsx)("button",{onClick:function(){e.dispatch({type:"modal/open",payload:{view:Q}})},children:vr})}),Object(Lt.jsx)("button",{className:mr.a.Volume,onClick:function(){var t=ye(s);!function(e,t,a){var n;window.MusicKit.getInstance().volume=a;try{e.spotifyApi.setVolume(100*a)}catch(c){}try{e.youTubeApi.setVolume(100*a)}catch(c){}var r=null===t||void 0===t||null===(n=t.track)||void 0===n?void 0:n.uuid,i=e.files[r];try{i&&(i.all.volume=a,i.drums.volume=a,i.vocals.volume=a,i.bass.volume=a,i.piano.volume=a,i.other.volume=a)}catch(c){}try{i&&(i.volume=a)}catch(c){}}(i,o,t),e.dispatch({type:"playback/cycleVolumeLevelAudio"})},children:Object(Lt.jsx)(zn.a,{value:100*s,circleRatio:.75,strokeWidth:3,styles:Object(zn.b)({rotation:.625,strokeLinecap:"butt",pathColor:"#0047FF",trailColor:"#BCBCBC",pathTransitionDuration:.15}),children:Object(Lt.jsx)("div",{className:mr.a.IconContainer,children:a})})}),c.view===q?Object(Lt.jsxs)("div",{className:mr.a.Playback,children:[Object(Lt.jsx)("button",{onClick:j,disabled:!u,children:Or}),Object(Lt.jsx)("button",{onClick:j,disabled:!u,children:yr}),Object(Lt.jsxs)("button",{onClick:m,disabled:!u,children:[u?o&&"played"===o.status?fr:hr:Object(Lt.jsx)(Lt.Fragment,{}),!u&&Object(Lt.jsx)("i",{className:mr.a.ggSpinner})]}),Object(Lt.jsx)("button",{onClick:j,disabled:!u,children:xr}),Object(Lt.jsx)("button",{onClick:j,disabled:!u,children:kr})]}):Object(Lt.jsxs)("div",{className:mr.a.Playback,children:[Object(Lt.jsx)("button",{onClick:function(e){u&&Pt.dispatch({type:"main/addAction",payload:{action:{name:"prev",status:"kickoff",fake:!1}}})},disabled:!u,children:Yn}),Object(Lt.jsxs)("button",{onClick:m,disabled:!u,children:[u?o&&"played"===o.status?fr:hr:Object(Lt.jsx)(Lt.Fragment,{}),!u&&Object(Lt.jsx)("i",{className:mr.a.ggSpinner})]}),Object(Lt.jsx)("button",{onClick:j,disabled:!u,children:Gn})]})]})})),gr=a(31),wr=a.n(gr);var _r=Object(Qt.b)((function(e){return{sideBar:e.sideBar}}))((function(e){var t,a=e.sideBar,n=Object(o.useState)(0),r=Object(j.a)(n,2),i=(r[0],r[1]),c=function(t){e.dispatch({type:"sideBar/selectTab",payload:{tab:t}})};return"search"===a.tab?t="28px":"queue"===a.tab?t="91.5px":"feed"===a.tab&&(t="155px"),Object(Lt.jsx)("div",{className:wr.a.SideBar,children:Object(Lt.jsxs)("div",{className:wr.a.MenuContainer,children:[Object(Lt.jsxs)("div",{className:wr.a.Menu,onClick:function(e){i((function(e){return e+1}))},children:[Object(Lt.jsx)("div",{className:"search"===a.tab&&wr.a.LiSelected||"",children:Object(Lt.jsx)(Jt.b,{to:"/app/search",onClick:function(){c("search")},style:{color:"#000"},children:"Search"})}),Object(Lt.jsx)("div",{className:"queue"===a.tab&&wr.a.LiSelected||"",children:Object(Lt.jsx)(Jt.b,{to:"/app/queue",onClick:function(){c("queue")},style:{color:"#000"},children:"Queue"})}),Object(Lt.jsx)("div",{className:"feed"===a.tab&&wr.a.LiSelected||"",children:Object(Lt.jsx)(Jt.b,{to:"/app/feed",onClick:function(){c("feed")},style:{color:"#000"},children:"Feed"})})]}),Object(Lt.jsx)("div",{className:wr.a.BlockContainer,children:Object(Lt.jsx)("div",{className:wr.a.Block,style:{top:t}})})]})})})),Mr=a(35),Ar=a.n(Mr),Pr=Object(Lt.jsxs)("svg",{width:"38",height:"38",viewBox:"0 0 213 213",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Lt.jsx)("rect",{width:"213",height:"213",fill:"#0047FF"}),Object(Lt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.9999 172.354L65.9999 140.822C93.3189 140.822 115.465 118.675 115.465 91.3561L115.465 91.3535L147 91.3535L147 91.3544C147 136.089 110.735 172.354 66 172.354C66 172.354 65.9999 172.354 65.9999 172.354Z",fill:"white"}),Object(Lt.jsx)("circle",{cx:"130.924",cy:"56.7267",r:"16.0763",fill:"white"})]});var Lr=Object(Qt.b)((function(e){return{modal:e.modal}}))((function(e){var t=e.modal;return Object(o.useEffect)((function(){"/app/welcome"===window.location.pathname&&e.dispatch({type:"modal/open",payload:{view:I}})}),[]),Object(Lt.jsxs)("div",{className:Ar.a.Session,children:[Object(Lt.jsx)("div",{className:Ar.a.Logo,children:Pr}),!t.isOpen&&Object(Lt.jsx)(_r,{}),!t.isOpen&&Object(Lt.jsx)("div",{className:Ar.a.Content,children:Object(Lt.jsxs)(Et.c,{children:[Object(Lt.jsx)(Et.a,{path:"/app/feed",children:Object(Lt.jsx)(Da,{})}),Object(Lt.jsxs)(Et.a,{path:"/app/queue",children:[Object(Lt.jsx)("div",{className:Ar.a.PrimaryContent,children:Object(Lt.jsx)(Xa,{})}),Object(Lt.jsx)("div",{className:Ar.a.SecondaryContent,children:Object(Lt.jsx)(jn,{})})]}),Object(Lt.jsxs)(Et.a,{path:"/app/search",children:[Object(Lt.jsx)("div",{className:Ar.a.PrimaryContent,children:Object(Lt.jsx)(dn,{})}),Object(Lt.jsxs)("div",{className:Ar.a.SecondaryContent,children:[Object(Lt.jsx)(jn,{}),Object(Lt.jsx)(Jt.b,{to:"/app/queue",onClick:function(){var t;t="queue",e.dispatch({type:"sideBar/selectTab",payload:{tab:t}})},style:{textDecoration:"none",color:"#000"},children:Object(Lt.jsx)(tn,{})})]})]})]})}),(!t.isOpen||t.isOpen&&t.config.bottomBar)&&Object(Lt.jsx)(Cr,{}),Object(Lt.jsx)(Zn,{})]})}));var Sr=Object(Qt.b)((function(e){return{}}))((function(e){return Object(Lt.jsxs)(Et.c,{children:[Object(Lt.jsx)(Et.a,{path:"/app/:content",children:Object(Lt.jsx)(Lr,{})}),Object(Lt.jsx)(Et.a,{path:"/u/:username",children:Object(Lt.jsx)("span",{children:"PROFILE"})}),Object(Lt.jsx)(Et.a,{path:"/spotify",children:Object(Lt.jsx)(zt,{})}),Object(Lt.jsx)(Et.a,{children:Object(Lt.jsx)(Lr,{})})]})})),Ur=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return a=e.sent,Pt.dispatch(a.redux),e.next=6,O(t);case 6:n=e.sent,Pt.dispatch(n.redux);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nr=function(){if("paused"===Pt.getState().playback.action){Pt.dispatch({type:"playback/action",payload:{action:null}})}},Br=function(){if("played"===Pt.getState().playback.action){Pt.dispatch({type:"playback/action",payload:{action:null}})}},Fr=function(){if("played"===Pt.getState().playback.action){Pt.dispatch({type:"playback/action",payload:{action:null}})}},Tr=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Pt.getState(),Pt.dispatch({type:"main/actionStart"}),Pt.dispatch({type:"main/disable"}),Pt.dispatch({type:"stream/nextTrack"}),a=t.main,n=a.actions[0],Pt.dispatch({type:"feedApp/resetTextComment"}),n.settings.pause&&Pt.dispatch({type:"main/addAction",payload:{action:{name:"pause",status:"kickoff",fake:!0}}}),n.settings.skip&&Pt.dispatch({type:"main/addAction",payload:{action:{name:"skip",status:"kickoff",fake:!1}}}),Pt.dispatch({type:"main/addAction",payload:{action:{name:"mount",status:"kickoff",fake:!0}}}),Pt.dispatch({type:"main/addAction",payload:{action:{name:"play",status:"kickoff",fake:{api:!0,playback:!n.settings.play}}}}),e.next=12,A(!1);case 12:Pt.dispatch({type:"main/actionShift"});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dr=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pt.dispatch({type:"main/actionStart"}),Pt.dispatch({type:"main/disable"}),Pt.dispatch({type:"stream/prevTrack"}),Pt.dispatch({type:"feedApp/resetTextComment"}),Pt.dispatch({type:"main/addAction",payload:{action:{name:"pause",status:"kickoff",fake:!0}}}),Pt.dispatch({type:"main/addAction",payload:{action:{name:"mount",status:"kickoff",fake:!0}}}),Pt.dispatch({type:"main/addAction",payload:{action:{name:"play",status:"kickoff",fake:{api:!0}}}}),e.next=9,S(!1);case 9:Pt.dispatch({type:"main/actionShift"});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rr=function(){var e,t=Pt.getState(),a=t.feedApp,n=t.playback,r=t.queueMap,i=t.voiceRecordingTimeoutId,c=t.voiceRecordingMap;if(!(i>0)){var o=r[n.nowPlayingUuid];if(o){var s,u=fe(o,o.startedAt)[0];if((s=(s=Object(he.a)((null===(e=a.trackMap[o.track.uuid])||void 0===e?void 0:e.voiceRecordingUuids)||[]).map((function(e){return c[e]}))).filter((function(e){return e.timestampMilliseconds>u}))).length){var l=(s=s.sort((function(e,t){return e.timeoutMilliseconds-t.voiceRecordings})))[0].timestampMilliseconds-u,d=setTimeout((function(){Pt.dispatch({type:"voiceRecording/play"})}),l);Pt.dispatch({type:"voiceRecording/schedulePlay",payload:{timeoutId:d}})}}}};var Ir=Object(Qt.b)((function(e){return{main:e.main,playback:e.playback,queueMap:e.queueMap,lastUpQueueUuids:e.lastUpQueueUuids,nextUpQueueUuids:e.nextUpQueueUuids,stream:e.stream,feedApp:e.feedApp,voiceRecordingMap:e.voiceRecordingMap,voiceRecordingTimeoutId:e.voiceRecordingTimeoutId,streamEngine:e.streamEngine}}))((function(e){var t=e.main,a=e.stream,n=e.feedApp,r=e.playback,i=e.queueMap,c=e.streamEngine,s=e.lastUpQueueUuids,u=e.nextUpQueueUuids,l=e.voiceRecordingTimeoutId,d=i[r.nowPlayingUuid],j=nt(s[s.length-1],i),m=nt(u[0],i),h=a.nowPlayingUuid===r.nowPlayingUuid,f=function(){var a=Object(b.a)(p.a.mark((function a(){var n,r,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.dispatch({type:"main/actionStart"}),e.dispatch({type:"main/disable"}),e.dispatch({type:"main/clearAutoplayTimeoutId"}),n=t.actions[0],r=n.timestampMilliseconds,e.playbackControls.seek(r)){a.next=9;break}return e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"}),a.abrupt("return");case 9:if(e.dispatch({type:"voiceRecording/pause"}),e.dispatch({type:"voiceRecording/play"}),e.dispatch({type:"feed/takeAction",payload:{timestampMilliseconds:r,action:"seeked",trackUuid:d.track.uuid}}),r&&e.dispatch({type:"feed/takeAction",payload:{timestampMilliseconds:r,action:"seeked",trackUuid:d.track.uuid}}),i=Date.now()-r,n.fake){a.next=17;break}return a.next=17,U(i);case 17:e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"});case 19:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),v=function(){var a=Object(b.a)(p.a.mark((function a(){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.dispatch({type:"main/actionStart"}),e.dispatch({type:"main/disable"}),n=t.actions[0],e.playbackControls.pause()){a.next=8;break}return e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"}),a.abrupt("return");case 8:if(e.dispatch({type:"voiceRecording/pause"}),e.dispatch({type:"feed/takeAction",payload:{action:"paused"}}),n.fake){a.next=13;break}return a.next=13,P();case 13:e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"});case 15:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),k=function(){var a=Object(b.a)(p.a.mark((function a(){var n,r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.dispatch({type:"main/actionStart"}),e.dispatch({type:"main/disable"}),e.dispatch({type:"main/clearAutoplayTimeoutId"}),n=t.actions[0],r=n.timestampMilliseconds,e.playbackControls.play(r,n.fake.playback)){a.next=9;break}return e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"}),a.abrupt("return");case 9:if(e.dispatch({type:"voiceRecording/play"}),e.dispatch({type:"feed/takeAction",payload:{timestampMilliseconds:r,action:"played",trackUuid:d.track.uuid}}),n.fake.api){a.next=14;break}return a.next=14,L(r);case 14:e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"});case 16:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),x=function(){var a=Object(b.a)(p.a.mark((function a(){var n,i,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.dispatch({type:"main/actionStart"}),e.dispatch({type:"main/disable"}),n=t.actions[0],i=n.queue,r.files.hasOwnProperty(i.track.uuid)){a.next=12;break}if(i.track.service!==de){a.next=10;break}return a.next=7,M(i.track.uuid);case 7:(c=a.sent).redux.payload=Object(R.a)(Object(R.a)({},c.redux.payload),{},{onplay:Br,onpause:Nr,onseeked:Fr}),e.dispatch(c.redux);case 10:i.track.service===le&&e.dispatch({type:"playback/loadAudius",payload:{id:i.track.externalId,trackUuid:i.track.uuid,onplay:Br,onpause:Nr,onseeked:Fr}}),e.dispatch({type:"streamEngine/queueLoaded",payload:{queueUuid:i.uuid}});case 12:e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"});case 14:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),y=function(){var a=Object(b.a)(p.a.mark((function a(){var n,r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.dispatch({type:"main/actionStart"}),e.dispatch({type:"main/disable"}),n=t.actions[0],r=n.queue,a.next=5,Ur(r.track.uuid);case 5:e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"});case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(p.a.mark((function t(){var a,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dispatch({type:"main/actionStart"}),e.dispatch({type:"main/disable"}),a=e.queueMap,n=e.stream,r=a[n.nowPlayingUuid],e.playbackControls.skip(r)){t.next=8;break}return e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"}),t.abrupt("return");case 8:e.dispatch({type:"main/actionShift"});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){if(console.log(t.actions),t.actions.length){var a=t.actions[0];"kickoff"===a.status&&(r.action||("seek"===a.name?f():"pause"===a.name?v():"play"===a.name?k():"skip"===a.name?O():"next"===a.name?Tr():"prev"===a.name?Dr():"loadAudio"===a.name?x():"loadFeed"===a.name?y():"mount"===a.name?function(){e.dispatch({type:"main/actionStart"}),e.dispatch({type:"main/disable"});var a=t.actions[0],n={};a.queue?n={queue:a.queue}:a.stream,e.dispatch({type:"playback/mount",payload:n}),e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"})}():"openModal"===a.name?function(){e.dispatch({type:"main/actionStart"}),e.dispatch({type:"main/disable"});var a=t.actions[0].view;e.dispatch({type:"modal/open",payload:{view:a}}),e.dispatch({type:"main/actionShift"}),e.dispatch({type:"main/enable"})}():"closeModal"===a.name&&(Pt.dispatch({type:"main/actionStart"}),Pt.dispatch({type:"modal/close"}),Pt.dispatch({type:"main/actionShift"}))))}}),[t,r]),Object(o.useEffect)((function(){if(r.nowPlayingUuid===a.nowPlayingUuid&&!t.autoplayTimeoutId&&r.isPlaying){var n=Date.now()-d.startedAt,i=d.durationMilliseconds-n,c=setTimeout(C,i-5e3);e.dispatch({type:"main/setAutoplayTimeoutId",payload:{timeoutId:c}})}}),[t,r]);var C=function(){e.dispatch({type:"main/disable"});var t=Date.now()-d.startedAt,a=d.durationMilliseconds-t;setTimeout(g,a-4850)},g=function(){if(m){var t=Date.now()-d.startedAt,a=d.durationMilliseconds-t,n=!0,r=!1,i=!0;if(e.playbackControls.queue(null===m||void 0===m?void 0:m.uuid)){var c=d.playbackIntervals.length-1;n=!1,r=d.playbackIntervals[c].endPosition!==d.track.durationMilliseconds,i=!1}var o={pause:n,skip:r,play:i};setTimeout((function(){e.dispatch({type:"main/addAction",payload:{action:{name:"next",status:"kickoff",fake:!1,settings:o}}})}),a)}};Object(o.useEffect)((function(){if(r.nowPlayingUuid!==a.nowPlayingUuid&&!t.autoplayTimeoutId&&r.isPlaying){var n=Date.now()-d.startedAt,i=d.durationMilliseconds-n,c=setTimeout(w,i);e.dispatch({type:"main/setAutoplayTimeoutId",payload:{timeoutId:c}})}}),[t,r]);var w=function(){var t=Date.now();e.dispatch({type:"queue/update",payload:{queues:[Object(R.a)(Object(R.a)({},d),{},{startedAt:t,statusAt:t,status:"paused"})]}})};return Object(o.useEffect)((function(){if(h){for(var a=[j,d,m],r=new Set(t.actions.filter((function(e){return"loadAudio"===e.name})).map((function(e){return e.queue.uuid}))),i=0,o=a;i<o.length;i++){var s=o[i];if(null===s||void 0===s?void 0:s.track){if(r.has(s.uuid))return;c.loadedQueueUuids.has(s.track.uuid)||e.dispatch({type:"main/addAction",payload:{action:{name:"loadAudio",queue:s,status:"kickoff",fake:!0}}})}}for(var u=new Set(t.actions.filter((function(e){return"loadFeed"===e.name})).map((function(e){return e.queue.uuid}))),l=0,p=a;l<p.length;l++){var b=p[l];(null===b||void 0===b?void 0:b.track)&&(u.has(b.uuid)||n.trackMap.hasOwnProperty(b.track.uuid)||e.dispatch({type:"main/addAction",payload:{action:{name:"loadFeed",queue:b,status:"kickoff",fake:!1}}}))}}}),[r]),Object(o.useEffect)(Rr,[l]),Object(Lt.jsx)(Sr,{})})),qr=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a=document.createElement("script");a.src=t,a.async=!0,a.onload=function(){e()},document.body.appendChild(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hr=a(69),Vr=a.n(Hr),Qr=a(206);var Wr=Object(Qt.b)((function(e){return{stream:e.stream,playback:e.playback,queueMap:e.queueMap,lastUpQueueUuids:e.lastUpQueueUuids,nextUpQueueUuids:e.nextUpQueueUuids,userSettings:e.userSettings,feedApp:e.feedApp,sideBar:e.sideBar,modal:e.modal}}))((function(e){var t,a,n,r,i,c,s=e.stream,u=e.playback,l=e.userSettings,d=e.feedApp,m=e.sideBar,h=e.modal,f=e.queueMap,v=f[u.nowPlayingUuid],k=Object(o.useState)(!1),x=Object(j.a)(k,2),y=x[0],O=x[1],C=Object(o.useState)(void 0),g=Object(j.a)(C,2),w=g[0],_=g[1],M={seek:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!v)return!1;if(!u.isPlaying)return!1;if(u.action)return!1;var a="played";e.dispatch({type:"playback/action",payload:{action:a}}),e.dispatch({type:"playback/clearSeekTimeoutId"});var n=void 0===t?v.startedAt:Date.now()-t;return v.startedAt=n,Kn(u,v),e.dispatch({type:"queue/update",payload:{queues:[Object(R.a)(Object(R.a)({},v),{},{startedAt:n,statusAt:Date.now(),status:"played"})]}}),!0},pause:function(){if(!v)return!1;if(!u.isPlaying)return!1;if(u.action)return!1;return e.dispatch({type:"playback/action",payload:{action:"paused"}}),e.dispatch({type:"playback/clearSeekTimeoutId"}),function(e,t){var a=t.track.service;if(a===oe)window.MusicKit.getInstance().pause().then((function(){Pt.dispatch({type:"playback/action",payload:{action:null}})}));else if(a===se)e.spotifyApi.pause();else if(a===ue)e.youTubeApi.pauseVideo();else if(a===de)for(var n=t.track.uuid,r=e.files[n],i=0,c=Object.entries(r);i<c.length;i++){var o=Object(j.a)(c[i],2),s=(o[0],o[1]);s.paused||s.pause()}else if(a===le){var u=t.track.uuid;e.files[u].pause()}}(u,v),e.dispatch({type:"queue/update",payload:{queues:[Object(R.a)(Object(R.a)({},v),{},{statusAt:Date.now(),status:"paused"})]}}),!0},play:function(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!v)return!1;if(u.isPlaying)return!1;if(u.action)return!1;if(!(null===(t=v.track)||void 0===t?void 0:t.uuid))return!1;var r="played";e.dispatch({type:"playback/action",payload:{action:r}});var i=Date.now(),c=a?i-a:i;return v.status="played",v.statusAt=i,v.startedAt=c,n?v.track.service===oe&&e.dispatch({type:"playback/action",payload:{action:null}}):Jn(u,v),e.dispatch({type:"queue/update",payload:{queues:[Object(R.a)(Object(R.a)({},v),{},{startedAt:c,statusAt:i,status:"played"})]}}),!0},skip:function(){return!!v&&(!!u.isPlaying&&(!u.action&&(e.dispatch({type:"playback/clearSeekTimeoutId"}),function(e,t){var a=t.track.service;a===oe?window.MusicKit.getInstance().skipToNextItem():a===se&&e.spotifyApi.skipToNext()}(u,v),e.dispatch({type:"queue/update",payload:{queues:[Object(R.a)(Object(R.a)({},v),{},{statusAt:Date.now(),status:"paused"})]}}),!0)))},queue:function(e){var t=f[e],a=v.track.service===oe&&t.track.service===oe,n=v.track.service===se&&t.track.service===se&&0===t.playbackIntervals[0].startPosition;return!(!a&&!n)&&(function(e,t){t.track.service===oe&&window.MusicKit.getInstance().playNext({song:t.track.externalId,startTime:t.playbackIntervals[0].startTime/1e3}),t.track.service===se&&e.spotifyApi.queue(t.track.externalId)}(u,t),console.log("queued!"),!0)}};Object(o.useEffect)((function(){if("played"===(null===v||void 0===v?void 0:v.status)&&u.isPlaying&&!u.seekTimeoutId){var t=fe(v,v.startedAt)[1];if(t){var a=setTimeout((function(){e.dispatch({type:"main/addAction",payload:{action:{name:"seek",status:"kickoff",fake:!0}}})}),t);e.dispatch({type:"playback/setSeekTimeoutId",payload:{timeoutId:a}})}}}),[u]),Object(o.useEffect)((function(){A(),S()}),[]);var A=function(){window.onSpotifyWebPlaybackSDKReady=function(){O(!0)},qr("https://sdk.scdn.co/spotify-player.js")};Object(o.useEffect)((function(){if(y){var t=new window.Spotify.Player({name:"Jukebox Radio",getOAuthToken:function(t){N().then((function(a){var n=a.data.spotify.accessToken;if(n){t(n);var r=new Qr;r.setAccessToken(a.data.spotify.accessToken),e.dispatch({type:"playback/spotify",payload:{spotifyApi:r}})}}))}});t.addListener("ready",(function(e){var t=e.device_id;_(t)})),t.addListener("player_state_changed",(function(t){if(t){var a=Pt.getState();if(a.playback.loaded.spotify||e.dispatch({type:"playback/loaded",payload:{service:"spotify"}}),"paused"===a.playback.action&&t.paused){e.dispatch({type:"playback/action",payload:{action:null}})}else if("played"!==a.playback.action||t.paused){if("seek"===a.playback.action){e.dispatch({type:"playback/action",payload:{action:null}})}}else{e.dispatch({type:"playback/action",payload:{action:null}})}}})),t.connect()}}),[y]),Object(o.useEffect)((function(){w&&(!function(e,t){setTimeout((function(){e.spotifyApi.transferMyPlayback([t])}),1e3)}(u,w),e.dispatch({type:"playback/enable"}))}),[w]);var P={},L=300;P="/app/welcome"!==window.location.pathname&&(null===v||void 0===v||null===(t=v.track)||void 0===t?void 0:t.service)===oe&&"video"===(null===v||void 0===v||null===(a=v.track)||void 0===a?void 0:a.format)?s.nowPlayingUuid===u.nowPlayingUuid?"feed"===m.tab&&d.contentContainer?{position:"absolute",width:L=d.contentContainer.width-88,height:L/16*9,top:"".concat(139,"px"),left:"".concat(385,"px"),zIndex:16}:{position:"absolute",width:300,height:169,top:"95px",right:"57px",boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.15)"}:{position:"fixed",top:"295px",right:"257px"}:{display:"none"},P.zIndex=3;var S=function(){qr("https://js-cdn.music.apple.com/musickit/v3/musickit.js"),window.addEventListener("musickitloaded",Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.MusicKit.configure({developerToken:l.appleMusic.token,app:{name:"Jukebox Radio",build:"0.0.1"}});case 2:e.dispatch({type:"playback/loaded",payload:{service:"appleMusic"}});case 3:case"end":return t.stop()}}),t)}))))},U={},B=300;U=(null===v||void 0===v||null===(n=v.track)||void 0===n?void 0:n.service)===ue&&"video"===(null===v||void 0===v||null===(r=v.track)||void 0===r?void 0:r.format)?"feed"===m.tab&&d.contentContainer&&!h.isOpen?{position:"absolute",width:B=d.contentContainer.width-88,height:B/16*9,top:"".concat(139,"px"),left:"".concat(385,"px"),zIndex:16}:{position:"absolute",width:300,height:169,top:"95px",right:"57px",boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.15)"}:{display:"none"},U.zIndex=3;var F=v,T=(null===F||void 0===F||null===(i=F.track)||void 0===i?void 0:i.service)===ue,D=T?Math.floor(F.playbackIntervals[0].startPosition/1e3):null,I=T?null===F||void 0===F||null===(c=F.track)||void 0===c?void 0:c.externalId:null,q={width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1,origin:"jukeboxrad.io",playsinline:1,start:D}};return Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)("div",{className:Vr.a.YouTubeContainer,style:U,children:Object(Lt.jsx)(Wt.a,{videoId:I,opts:q,onReady:function(t){var a=t.target;e.dispatch({type:"playback/loaded",payload:{service:"youtube"}}),console.log("YouTube on ready:",u.youTubeAutoplay),u.youTubeAutoplay&&(a.setVolume(100*u.volumeLevel),a.playVideo(),e.dispatch({type:"playback/youTubeTriggerAutoplay",payload:{autoplay:!1}})),e.dispatch({type:"playback/youTube",payload:{youTubeApi:a}})},onPause:function(){if(u.action){e.dispatch({type:"playback/action",payload:{action:null}})}},onPlay:function(){if(u.action){e.dispatch({type:"playback/action",payload:{action:null}})}}})}),Object(Lt.jsx)("div",{className:Vr.a.AppleMusicContainer,style:P,children:Object(Lt.jsx)("div",{id:"apple-music-video-container"})}),Object(Lt.jsx)(Ir,{playbackControls:M})]})})),Er=a(213),Zr=a(100);var zr=function(){var e=Object(o.useState)("initial"),t=Object(j.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){var t,a,r,i,c,o,s,u,l,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:if(e.sent){e.next=6;break}return n("unauthenticated"),e.abrupt("return");case 6:return n("authenticated"),e.next=9,N();case 9:return a=e.sent,e.next=12,Pt.dispatch({type:"user/get-settings",userSettings:a.data});case 12:return e.next=14,_();case 14:return a=e.sent,e.next=17,Pt.dispatch(a.redux);case 17:return r=Pt.getState(),i=r.stream,c=r.queueMap,o=c[i.nowPlayingUuid],Pt.dispatch({type:"main/addAction",payload:{action:{name:"mount",stream:i,status:"kickoff",fake:!0}}}),e.next=21,F();case 21:return a=e.sent,e.next=24,Pt.dispatch(a.redux);case 24:if(!(null===o||void 0===o||null===(t=o.track)||void 0===t?void 0:t.uuid)){e.next=35;break}return e.next=27,y(null===o||void 0===o||null===(s=o.track)||void 0===s?void 0:s.uuid);case 27:return l=e.sent,e.next=30,Pt.dispatch(l.redux);case 30:return e.next=32,O(null===o||void 0===o||null===(u=o.track)||void 0===u?void 0:u.uuid);case 32:return d=e.sent,e.next=35,Pt.dispatch(d.redux);case 35:n("ready");case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Er.a.addDefaultLocale(Zr),function(){e.apply(this,arguments)}(),"serviceWorker"in navigator&&navigator.serviceWorker.register("worker.js",{scope:"."}).then((function(e){console.log("Worker registration successful",e.scope)})),Pt.dispatch({type:"sideBar/selectTab",payload:{tab:window.location.pathname.substring(5)}}),window.addEventListener("beforeunload",(function(e){e.preventDefault();var t=Pt.getState(),a=t.stream;"played"===t.queueMap[a.nowPlayingUuid].status&&P()}))}),[]),window.addEventListener("playbackStateDidChange",(function(e){console.log("apple loaded!!")})),"initial"===a?Object(Lt.jsx)("div",{className:"app-main-container"}):"unauthenticated"===a?Object(Lt.jsx)(Jt.a,{children:Object(Lt.jsx)(Qt.a,{store:Pt,children:Object(Lt.jsx)("div",{className:"app-main-container",children:Object(Lt.jsx)(Vt,{})})})}):"authenticated"===a?Object(Lt.jsx)(Jt.a,{children:Object(Lt.jsx)(Qt.a,{store:Pt,children:Object(Lt.jsx)("div",{className:"app-main-container",style:{textAlign:"center",lineHeight:"100vh",fontSize:"24px",fontWeight:"400",letterSpacing:"0.03em"},children:"Loading..."})})}):Object(Lt.jsx)(Jt.a,{children:Object(Lt.jsx)(Qt.a,{store:Pt,children:Object(Lt.jsx)("div",{className:"app-main-container",children:Object(Lt.jsx)(Wr,{})})})})},Jr=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,214)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};l.a.render(Object(Lt.jsx)(s.a.StrictMode,{children:Object(Lt.jsx)(zr,{})}),document.getElementById("root")),Jr()},21:function(e,t,a){e.exports={ModalClose:"Upload_ModalClose__1MagQ",ModalContent:"Upload_ModalContent__1NVpY",Title:"Upload_Title__2m1UJ",FormLabel:"Upload_FormLabel__NeOF-",FileInput:"Upload_FileInput__1qCpp",FormSubmit:"Upload_FormSubmit__2SD7j"}},23:function(e,t,a){e.exports={FeedApp:"FeedApp_FeedApp__2YJHa",ContentContainer:"FeedApp_ContentContainer__35Ble",ImageContainer:"FeedApp_ImageContainer__2bkPv",FeedWrapper:"FeedApp_FeedWrapper__5dQdY",Feed:"FeedApp_Feed__3NWaq",ComposeBar:"FeedApp_ComposeBar__1Ruxz",NotationButton:"FeedApp_NotationButton__I_SwR",RecordButton:"FeedApp_RecordButton__3saQA",SubmitButton:"FeedApp_SubmitButton__2uOQ-",spotify:"FeedApp_spotify__uumF9",apple_music:"FeedApp_apple_music__1nUmb",youtube:"FeedApp_youtube__1OvA_",audius:"FeedApp_audius__2vOKN",jukebox_radio:"FeedApp_jukebox_radio__3q45Z"}},24:function(e,t,a){e.exports={BottomBar:"BottomBar_BottomBar__1CmT1",ProgressBarContainer:"BottomBar_ProgressBarContainer__2HMvq",Playback:"BottomBar_Playback__3C1vo",Settings:"BottomBar_Settings__2kDhC",Volume:"BottomBar_Volume__j16DP",IconContainer:"BottomBar_IconContainer__1WboC",ggSpinner:"BottomBar_ggSpinner__1CLTx",spinner:"BottomBar_spinner__35Mfe"}},25:function(e,t,a){e.exports={QueueApp:"QueueApp_QueueApp__3OUXI",NowPlaying:"QueueApp_NowPlaying__1b43j",NowPlayingArt:"QueueApp_NowPlayingArt__lmZtW",NowPlayingInformation:"QueueApp_NowPlayingInformation__2MrMS",NowPlayingDuration:"QueueApp_NowPlayingDuration__2hzHf",QueueContainer:"QueueApp_QueueContainer__1NMWJ",PlaybackDuration:"QueueApp_PlaybackDuration__1DbyU",AddToQueue:"QueueApp_AddToQueue__1Zpmd"}},26:function(e,t,a){e.exports={QueueCollection:"QueueCollection_QueueCollection__2uTSJ",QueueCollectionMain:"QueueCollection_QueueCollectionMain__2fm5w",AlbumArtContainer:"QueueCollection_AlbumArtContainer__1LjHs",QueueInformation:"QueueCollection_QueueInformation__3MDGa",ButtonContainer:"QueueCollection_ButtonContainer__1NOfG",DurationContainer:"QueueCollection_DurationContainer__2u08t"}},27:function(e,t,a){e.exports={QueueTrackHead:"QueueTrack_QueueTrackHead__1p7iu",QueueTrackChild:"QueueTrack_QueueTrackChild__1kwMH",AlbumArtContainer:"QueueTrack_AlbumArtContainer__31HWs",QueueInformationHead:"QueueTrack_QueueInformationHead__T9dRY",QueueInformationChild:"QueueTrack_QueueInformationChild__3laIO",TrackInfoDuration:"QueueTrack_TrackInfoDuration__3KwoI",ButtonContainer:"QueueTrack_ButtonContainer__1X5d4",ButtonHead:"QueueTrack_ButtonHead__1L5IW",ButtonChild:"QueueTrack_ButtonChild__1CWxx",DurationContainerChild:"QueueTrack_DurationContainerChild__3O650",DurationContainerHead:"QueueTrack_DurationContainerHead__3tRZT"}},28:function(e,t,a){e.exports={SearchResult:"SearchResult_SearchResult__djXCo",SearchResultSubmitted:"SearchResult_SearchResultSubmitted__2krh6",ImageParent:"SearchResult_ImageParent__1wD2d",ResultInformation:"SearchResult_ResultInformation__1iB5a",ServiceLogo:"SearchResult_ServiceLogo__38ftd",AddButton:"SearchResult_AddButton__1rvJ4",AddButtonInverted:"SearchResult_AddButtonInverted__bx1zo",ggSpinner:"SearchResult_ggSpinner__iNeQG",spinner:"SearchResult_spinner__u3axZ"}},29:function(e,t,a){e.exports={ModalClose:"UserSettings_ModalClose__TMEfI",ModalContent:"UserSettings_ModalContent__rIa2n",Title:"UserSettings_Title__1fJxW",FormLabel:"UserSettings_FormLabel__3Owp7",FileInput:"UserSettings_FileInput__193Gt",FormSubmit:"UserSettings_FormSubmit__wJJ9i"}},30:function(e,t,a){e.exports={ProgressBarMarker:"ProgressBarMarker_ProgressBarMarker__aRKWB",ProgressBarMarkerPointer:"ProgressBarMarker_ProgressBarMarkerPointer__AnS6j",ProgressBarMarkerPointerGrey:"ProgressBarMarker_ProgressBarMarkerPointerGrey___FkjK",ProgressBarMarkerPointerHighlighted:"ProgressBarMarker_ProgressBarMarkerPointerHighlighted__2JSMh",ProgressBarMarkerPointerExtensionHighlighted:"ProgressBarMarker_ProgressBarMarkerPointerExtensionHighlighted__oCS46",ProgressBarMarkerPointerExtensionGrey:"ProgressBarMarker_ProgressBarMarkerPointerExtensionGrey__WTP-1",ProgressBarMarkerPointerExtension:"ProgressBarMarker_ProgressBarMarkerPointerExtension__1hWc_",HoverContainer:"ProgressBarMarker_HoverContainer__25980",ProgressBarMarkerName:"ProgressBarMarker_ProgressBarMarkerName__1pzoE",Delete:"ProgressBarMarker_Delete__2dpJS",Play:"ProgressBarMarker_Play__1yFuS",Stop:"ProgressBarMarker_Stop__3hbtd"}},31:function(e,t,a){e.exports={SideBar:"SideBar_SideBar__3xsKP",Logo:"SideBar_Logo__ulAwG",MenuContainer:"SideBar_MenuContainer__BscPZ",Menu:"SideBar_Menu__DcLJC",LiSelected:"SideBar_LiSelected__3sQKu",BlockContainer:"SideBar_BlockContainer__ugvnR",Block:"SideBar_Block__1skEF"}},33:function(e,t,a){e.exports={LoginContainer:"Login_LoginContainer__3eIQR",Logo:"Login_Logo__B0Tmi",LoginHeader:"Login_LoginHeader__3gqy1",Login:"Login_Login__1ujut",FormBlock:"Login_FormBlock__S_rix",FormBlockInline:"Login_FormBlockInline__10vy2",Checkbox:"Login_Checkbox__z2SaG",Submit:"Login_Submit__2KJUu",ForgotPassword:"Login_ForgotPassword__9hZWd"}},34:function(e,t,a){e.exports={ProgressAll:"ChildProgressBar_ProgressAll__1AfFF",ProgressStem_isolation:"ChildProgressBar_ProgressStem_isolation__26xzw",ProgressMuted:"ChildProgressBar_ProgressMuted__vkPsR",ProgressHoverContainerAll:"ChildProgressBar_ProgressHoverContainerAll__1RtHL",ProgressHoverContainerMuted:"ChildProgressBar_ProgressHoverContainerMuted__20eR1",ProgressHoverPointerAll:"ChildProgressBar_ProgressHoverPointerAll__dkwK8",ProgressHoverPointerMuted:"ChildProgressBar_ProgressHoverPointerMuted__3_QuM",ProgressHoverPurpose:"ChildProgressBar_ProgressHoverPurpose__2BFx6",ProgressHoverDelete:"ChildProgressBar_ProgressHoverDelete__35aeX",HoverContainer:"ChildProgressBar_HoverContainer__1xREQ"}},35:function(e,t,a){e.exports={Session:"Session_Session__3ONuN",Logo:"Session_Logo__2dDnf",Content:"Session_Content__2rLER",MainContent:"Session_MainContent__CQXzB",PrimaryContent:"Session_PrimaryContent__1CWje",SecondaryContent:"Session_SecondaryContent__3Vc17"}},38:function(e,t,a){e.exports={ABCNotationDisplayContainer:"TheoryNotationDisplay_ABCNotationDisplayContainer__3kJ5R",ABCNotationDisplay:"TheoryNotationDisplay_ABCNotationDisplay__1uumz",ABCNotationDisplayDeleted:"TheoryNotationDisplay_ABCNotationDisplayDeleted__wxN29",HoverBuffer:"TheoryNotationDisplay_HoverBuffer__2l_ce",HoverContainer:"TheoryNotationDisplay_HoverContainer__2ErbZ"}},39:function(e,t,a){e.exports={VoiceRecordingContainer:"VoiceRecording_VoiceRecordingContainer__3KlG9",VoiceRecording:"VoiceRecording_VoiceRecording__29j03",VoiceRecordingDeleted:"VoiceRecording_VoiceRecordingDeleted__3_8Xz",HoverBuffer:"VoiceRecording_HoverBuffer__1o_ZD",HoverContainer:"VoiceRecording_HoverContainer__IkgPO"}},40:function(e,t,a){e.exports={TextCommentContainer:"TextComment_TextCommentContainer__SVUy9",TextComment:"TextComment_TextComment__92FmQ",TextCommentDeleted:"TextComment_TextCommentDeleted__2uxdr",HoverBuffer:"TextComment_HoverBuffer__3Q-eC",HoverContainer:"TextComment_HoverContainer__2jQUc"}},44:function(e,t,a){e.exports={ContentContainer:"NotationCompose_ContentContainer__Pn7p5",NotationContainer:"NotationCompose_NotationContainer__kNNH2",RenderingContainer:"NotationCompose_RenderingContainer__HQ-6Y",RenderingWrapper:"NotationCompose_RenderingWrapper__10KKf",CloseModal:"NotationCompose_CloseModal__2bQAW"}},48:function(e,t,a){e.exports={ParentProgressBar:"ProgressBar_ParentProgressBar__2J9NP",ProgressBar:"ProgressBar_ProgressBar__3sxNS",ProgressPointer:"ProgressBar_ProgressPointer__Elhdc",ProgressMarkerContainer:"ProgressBar_ProgressMarkerContainer__3QNJx"}},63:function(e,t,a){e.exports={NotableText:"NotableText_NotableText__gYPiJ",Popover:"NotableText_Popover__1cHGj"}},64:function(e,t,a){e.exports={SystemActionContainer:"SystemAction_SystemActionContainer__2HNLC",SystemAction:"SystemAction_SystemAction__2qCDO"}},67:function(e,t,a){e.exports={ModalPrimary:"ModalApp_ModalPrimary__6QkEo",ModalSecondary:"ModalApp_ModalSecondary__WxhoU",ModalOverlay:"ModalApp_ModalOverlay__1VP2Y",CloseModal:"ModalApp_CloseModal__JA8WS"}},69:function(e,t,a){e.exports={YouTubeContainer:"PlaybackEngine_YouTubeContainer__2Vcxv",AppleMusicContainer:"PlaybackEngine_AppleMusicContainer__1Df7e"}},97:function(e,t,a){e.exports={MiniQueue:"MiniQueue_MiniQueue__2HfJP"}},98:function(e,t,a){e.exports={MiniNotes:"MiniNotes_MiniNotes__2g428"}}},[[207,1,2]]]);
//# sourceMappingURL=main.a6d90599.chunk.js.map