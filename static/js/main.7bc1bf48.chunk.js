(this["webpackJsonpjukebox-radio"]=this["webpackJsonpjukebox-radio"]||[]).push([[0],{19:function(e,t,n){e.exports={Upload:"Upload_Upload__tMDig",FormBlock:"Upload_FormBlock__2ls6S"}},23:function(e,t,n){e.exports={Login:"Login_Login__1ujut",FormBlock:"Login_FormBlock__S_rix"}},24:function(e,t,n){e.exports={Search:"Search_Search__2SQmI",FormBlock:"Search_FormBlock__3ZZZJ"}},30:function(e,t,n){e.exports={Chat:"Chat_Chat__3NjUX"}},31:function(e,t,n){e.exports={NotableText:"NotableText_NotableText__1_8Yx",Notated:"NotableText_Notated__1OpEa"}},41:function(e,t,n){e.exports={TextComment:"TextComment_TextComment__15QHu",Notated:"TextComment_Notated__24bZz"}},42:function(e,t,n){e.exports={VoiceRecording:"VoiceRecording_VoiceRecording__10J4X"}},44:function(e,t,n){e.exports={Queue:"Queue_Queue__YTCBa"}},45:function(e,t,n){e.exports={QueueItem:"QueueItem_QueueItem__e3nEn"}},52:function(e,t,n){},53:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),s=n.n(a),c=n(26),u=n.n(c),i=(n(52),n(53),n(10)),o=n(1),l=n.n(o),h=n(3),d=n(11),p=n(30),b=n.n(p),f="http://localhost:3000",j="GET",m="POST";function x(){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(l.a.mark((function e(){var t,n,r,a,s,c,u,i,o,h,p,b,j,m,x,v,O,k,y,g,w,C,S,N=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N.length>0&&void 0!==N[0]?N[0]:"",n=N.length>1&&void 0!==N[1]?N[1]:"",r=N.length>2&&void 0!==N[2]?N[2]:{},n=f+n,"GET"===t){e.next=16;break}for(s=new FormData,c=0,u=Object.entries(r);c<u.length;c++)i=Object(d.a)(u[c],2),o=i[0],h=i[1],s.append(o,h);return p={headers:{}},(b=localStorage.getItem("accessToken"))&&(p.headers.Authorization="Bearer ".concat(b)),j=new Request(n,p),e.next=13,fetch(j,{method:t,mode:"cors",body:s});case 13:a=e.sent,e.next=26;break;case 16:for(m=new URLSearchParams,x=0,v=Object.entries(r);x<v.length;x++)O=Object(d.a)(v[x],2),k=O[0],y=O[1],m.set(k,y);return g=n+"/?"+m.toString(),w={headers:{"Content-Type":"application/json"}},(C=localStorage.getItem("accessToken"))&&(w.headers.Authorization="Bearer ".concat(C)),S=new Request(g,w),e.next=25,fetch(S,{method:t,mode:"cors"});case 25:a=e.sent;case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/comments/text-comment/create/",{text:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(j,"/comments/text-comment/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(j,"/comments/voice-recording/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/comments/text-comment/delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/comments/text-comment-modification/list-delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/comments/voice-recording/delete/",{voiceRecordingUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=n(36),N=n(46),T=n(31),P=n.n(T),F=function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,a){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/comments/text-comment-modification/create/",{textCommentUuid:t,style:n,anchorOffset:r,focusOffset:a});case 2:return s=e.sent,e.next=5,s.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),_=["underline","box","circle","highlight","strike-through","crossed-off","bracket"];var B=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!0),s=Object(d.a)(n,2),c=s[0],u=s[1],i=Object(a.useState)(null),o=Object(d.a)(i,2),p=o[0],b=o[1],f=Object(a.useState)(null),j=Object(d.a)(f,2),m=j[0],x=j[1],v=function(){var t=Object(h.a)(l.a.mark((function t(n,r){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.data.uuid,t.next=4,F(a,r,p,m);case 4:s=t.sent,e.create(a,s.data),u(!1);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=window.getSelection()).anchorNode===t.focusNode){e.next=6;break}return u(!1),b(null),x(null),e.abrupt("return");case 6:n=parseInt(t.anchorNode.parentNode.getAttribute("offset")),u(!0),b(n+t.anchorOffset),x(n+t.focusOffset);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),b(null),x(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){e._svg.style.zIndex=-1};return Object(r.jsxs)("div",{className:P.a.NotableText,children:[Object(r.jsx)("p",{ref:t,children:function(){for(var t=e.data,n=t.text,a=t.modifications,s=0,c=Object(r.jsx)(r.Fragment,{}),u=0;u<a.length;u++){var i=a[u],o=n.substring(s,i.startPtr),l=n.substring(i.startPtr,i.endPtr);c=Object(r.jsxs)(r.Fragment,{children:[c,Object(r.jsx)("span",{offset:s,children:o}),Object(r.jsx)(N.a,{className:P.a.Notated,show:!0,multiline:!0,color:"red",type:i.type,animate:i.animate,getAnnotationObject:y,children:l})]}),s=i.endPtr}var h=n.substring(s,n.length);return c=Object(r.jsxs)(r.Fragment,{children:[c,Object(r.jsx)("span",{offset:s,children:h})]})}()}),Object(r.jsx)(S.a,{selectionRef:t,onTextSelect:O,onTextUnselect:k,isOpen:c,children:_.map((function(e,t){return Object(r.jsx)("form",{onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(n,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:t})},t)}))})]})},Q=n(41),A=n.n(Q);var D=function(e){return Object(r.jsxs)("div",{className:A.a.TextComment,children:[Object(r.jsx)(B,{data:e.data,create:e.create}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroyModifications(e.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Clear modifications"}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(e.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"})]})},I=n(42),R=n.n(I);var U=function(e){var t=function(){var t=Object(h.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.data.uuid,t.next=4,C(r);case 4:return t.next=6,e.destroy(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=e.data;return Object(r.jsxs)("div",{className:R.a.VoiceRecording,children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"null"===n.transcriptFinal?"<transcript not available>":n.transcriptFinal})}),Object(r.jsx)("form",{onSubmit:function(){var e=Object(h.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:"Delete"})})]})};var q=function(e){var t=Object(a.useState)(void 0),n=Object(d.a)(t,2),s=n[0],c=n[1],u=Object(a.useState)(void 0),o=Object(d.a)(u,2),p=o[0],f=o[1],j=Object(a.useState)(""),m=Object(d.a)(j,2),x=m[0],v=m[1];Object(a.useEffect)((function(){function e(){return(e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return 200===(t=e.sent).system.status&&c(t.data),e.next=6,y();case 6:200===(n=e.sent).system.status&&f(n.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var S,N=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p,r=s.filter((function(e){return e.uuid!==t})),a=n.filter((function(e){return e.uuid!==t})),c(r),f(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:n=s.findIndex((function(e){return e.uuid===t})),s[n].modifications=[],c(Object(i.a)(s));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return e.next=4,g(t);case 4:return e.next=6,N(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return e.next=4,N(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O(x);case 3:n=e.sent,s.push(n.data),c(Object(i.a)(s)),v("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r,a,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.findIndex((function(e){return e.uuid===t})),(a=s[r].modifications).push(n),u=a.sort((function(e,t){return e.startPtr-t.startPtr})),s[r].modifications=u,c(Object(i.a)(s));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return S=Array.isArray(s)&&Array.isArray(p)?[].concat(Object(i.a)(s),Object(i.a)(p)).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds})):[],Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:b.a.Chat,children:S.map((function(e,t){return"TextComment"===e.class?Object(r.jsx)(D,{data:e,destroy:P,destroyModifications:T,create:B},t):"VoiceRecording"===e.class?Object(r.jsx)(U,{data:e,destroy:F},t):null}))}),Object(r.jsxs)("form",{className:b.a.CreateTextComment,onSubmit:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("input",{type:"text",name:"text",placeholder:"text",value:x,onChange:function(e){v(e.target.value)}}),Object(r.jsx)("button",{type:"submit",children:"Send"})]})]})},M=n(8),L=n(9),V=n(4),E=n(13),J=n(12),z=n(17),Y=n(23),Z=n.n(Y),G=function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/auth/obtain-tokens/",{username:t,password:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(e){Object(E.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(M.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,username:"",password:"",rememberMe:!1},r.handleChange=r.handleChange.bind(Object(V.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(V.a)(r)),r}return Object(L.a)(n,[{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,G(this.state.username,this.state.password);case 3:if((n=e.sent).access&&n.refresh){e.next=6;break}return e.abrupt("return");case 6:localStorage.setItem("accessToken",n.access),localStorage.setItem("refreshToken",n.refresh);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("form",{className:Z.a.Login,onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleSubmit(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Sign in"}),Object(r.jsxs)("p",{children:["If you have not created an account yet, then please ",Object(r.jsx)(z.b,{to:"/signup",children:"Sign Up"})," first."]}),Object(r.jsxs)("label",{className:Z.a.FormBlock,children:["Username",Object(r.jsx)("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange})]}),Object(r.jsxs)("label",{className:Z.a.FormBlock,children:["Password",Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange})]}),Object(r.jsxs)("label",{className:Z.a.FormBlock,children:[Object(r.jsx)("input",{type:"checkbox",name:"remember-me",value:this.state.rememberMe,onChange:this.handleChange}),"Remember Me"]}),Object(r.jsxs)("div",{className:Z.a.FormBlock,children:[Object(r.jsx)("button",{type:"submit",children:"Sign In"}),Object(r.jsx)("span",{children:Object(r.jsx)(z.b,{to:"/forgotpassword",children:"Forgot Password?"})})]})]})}}]),n}(s.a.Component);X.defaultProps={};var H=X,K=n(44),W=n.n(K),$=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(j,"/streams/queue/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/streams/queue/delete/",{queueUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=n(45),ne=n.n(te),re=function(e){Object(E.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(M.a)(this,n),(r=t.call(this,e)).state={reveal:!1},r.handleDelete=r.handleDelete.bind(Object(V.a)(r)),r.toggleReveal=r.toggleReveal.bind(Object(V.a)(r)),r}return Object(L.a)(n,[{key:"handleDelete",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.data.uuid,e.next=4,this.props.destroy(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleReveal",value:function(e){this.setState({reveal:!this.state.reveal})}},{key:"render",value:function(){var e=this,t=this.props.data,a="-".repeat(t.depth)+" ";return Object(r.jsxs)("div",{className:ne.a.QueueItem,children:[Object(r.jsxs)("span",{children:[a,!t.isDeleted&&(t.trackName||t.collectionName)]}),!t.isDeleted&&0===t.depth&&Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.destroy(e.props.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"}),!t.isDeleted&&1===t.depth&&Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.destroyChild(e.props.parentQueueUuid,e.props.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"}),t.children.length>0&&!this.state.reveal&&Object(r.jsx)("button",{type:"button",onClick:this.toggleReveal,children:"More"}),t.children.length>0&&this.state.reveal&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{type:"button",onClick:this.toggleReveal,children:"Less"}),Object(r.jsx)("div",{children:t.children.map((function(a,s){return Object(r.jsx)(n,{data:a,destroy:e.props.destroy,destroyChild:e.props.destroyChild,parentQueueUuid:t.uuid},s)}))})]})]})}}]),n}(s.a.Component);re.defaultProps={};var ae=re,se=function(e){Object(E.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(M.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,queues:[]},r.destroyQueueItem=r.destroyQueueItem.bind(Object(V.a)(r)),r.destroyChildQueueItem=r.destroyChildQueueItem.bind(Object(V.a)(r)),r}return Object(L.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:if(200===(t=e.sent).system.status){e.next=7;break}this.errorMessage=t.system.message,e.next=14;break;case 7:if(n=t.data,this.setState({queues:n}),n.length){e.next=12;break}return localStorage.setItem("lastQueueUuid",""),e.abrupt("return");case 12:r=n[n.length-1].uuid,localStorage.setItem("lastQueueUuid",r);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroyQueueItem",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:return n=this.state.queues,r=n.filter((function(e){return e.uuid!==t})),e.next=6,this.setState({queues:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroyChildQueueItem",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(n);case 2:return r=Object(i.a)(this.state.queues),a=r.findIndex((function(e){return e.uuid===t})),s=r[a].children,c=s.filter((function(e){return e.uuid!==n})),r[a].children=c,e.next=9,this.setState({queues:r});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:W.a.Queue,children:Object(r.jsx)("div",{children:this.state.queues.map((function(t,n){return Object(r.jsx)(ae,{data:t,destroy:e.destroyQueueItem,destroyChild:e.destroyChildQueueItem},n)}))})})}}]),n}(s.a.Component);se.defaultProps={};var ce=se,ue=n(18),ie=n(24),oe=n.n(ie),le=function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,a,s,c,u,i){var o,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(j,"/music/search",{query:t,providerSpotify:n,providerYouTube:r,providerJukeboxRadio:a,formatTrack:s,formatAlbum:c,formatPlaylist:u,formatVideo:i});case 2:return o=e.sent,e.next=5,o.json();case 5:return h=e.sent,e.abrupt("return",h);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s,c,u,i){return e.apply(this,arguments)}}(),he=function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,a){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/streams/queue/create/",{className:t,genericUuid:n,prevQueueUuid:r,nextQueueUuid:a});case 2:return s=e.sent,e.next=5,s.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),de=function(e){Object(E.a)(n,e);var t=Object(J.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"render",value:function(){var e=this,t=this.props.data;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[t.provider," ",t.format," ",t.name]}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.addToQueue(e.props.data.class,e.props.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Add"})]})}}]),n}(s.a.Component);de.defaultProps={};var pe=de,be=function(e){Object(E.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(M.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,searchResults:[],query:"",provider:{spotify:!0,youTube:!0,jukeboxRadio:!0},format:{track:!0,album:!0,playlist:!0,video:!0}},r.handleChange=r.handleChange.bind(Object(V.a)(r)),r.handleCheckboxChange=r.handleCheckboxChange.bind(Object(V.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(V.a)(r)),r.addToQueue=r.addToQueue.bind(Object(V.a)(r)),r}return Object(L.a)(n,[{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleCheckboxChange",value:function(e){var t=e.target.name.split("."),n=Object(d.a)(t,2),r=n[0],a=n[1],s=e.target.checked,c={};c[r]=Object(ue.a)({},this.state[r]),c[r][a]=s,this.setState(c)}},{key:"handleSubmit",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,le(this.state.query,this.state.provider.spotify,this.state.provider.youTube,this.state.provider.jukeboxRadio,this.state.format.track,this.state.format.album,this.state.format.playlist,this.state.format.video);case 3:n=e.sent,this.setState({searchResults:n.data});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addToQueue",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("lastQueueUuid")||null,null,e.next=4,he(t,n,r,null);case 4:this.setState({searchResults:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("form",{className:oe.a.Login,onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleSubmit(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Search"}),Object(r.jsxs)("label",{className:oe.a.FormBlock,children:["Query",Object(r.jsx)("input",{type:"text",name:"query",placeholder:"Search by name or artist",value:this.state.query,onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:oe.a.FormBlock,children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.spotify",checked:this.state.provider.spotify,onChange:this.handleCheckboxChange}),"Spotify"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.youTube",checked:this.state.provider.youTube,onChange:this.handleCheckboxChange}),"YouTube"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.jukeboxRadio",checked:this.state.provider.jukeboxRadio,onChange:this.handleCheckboxChange}),"Jukebox Radio"]})]}),Object(r.jsxs)("div",{className:oe.a.FormBlock,children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"format.track",checked:this.state.format.track,onChange:this.handleCheckboxChange}),"Track"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"format.album",checked:this.state.format.album,onChange:this.handleCheckboxChange}),"Album"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"format.playlist",checked:this.state.format.playlist,onChange:this.handleCheckboxChange}),"Playlist"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"format.video",checked:this.state.format.video,onChange:this.handleCheckboxChange}),"Video"]})]}),Object(r.jsx)("div",{className:oe.a.FormBlock,children:Object(r.jsx)("button",{type:"submit",children:"Search"})})]}),Object(r.jsx)("div",{children:this.state.searchResults.map((function(t,n){return Object(r.jsx)(pe,{data:t,addToQueue:e.addToQueue},n)}))})]})}}]),n}(s.a.Component);be.defaultProps={};var fe=be,je=n(19),me=n.n(je),xe=function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,a,s){var c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/music/track/create/",{audioFile:t,imageFile:n,trackName:r,artistName:a,albumName:s});case 2:return c=e.sent,e.next=5,c.json();case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),ve=function(e){Object(E.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(M.a)(this,n),(r=t.call(this,e)).state={errorMessage:null,audioFile:"",imageFile:"",trackName:"",artistName:"",albumName:""},r.handleFileChange=r.handleFileChange.bind(Object(V.a)(r)),r.handleChange=r.handleChange.bind(Object(V.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(V.a)(r)),r}return Object(L.a)(n,[{key:"handleFileChange",value:function(e){var t={};t[e.target.name]=e.target.files[0],this.setState(t)}},{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,xe(this.state.audioFile,this.state.imageFile,this.state.trackName,this.state.artistName,this.state.albumName);case 3:this.setState({trackName:"",artistName:"",albumName:""});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("form",{className:me.a.Login,onSubmit:function(){var t=Object(h.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleSubmit(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Upload"}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Audio file",Object(r.jsx)("input",{type:"file",name:"audioFile",onChange:this.handleFileChange})]}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Image file",Object(r.jsx)("input",{type:"file",name:"imageFile",onChange:this.handleFileChange})]}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Track name",Object(r.jsx)("input",{type:"text",name:"trackName",placeholder:"Track name",value:this.state.trackName,onChange:this.handleChange})]}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Artist name",Object(r.jsx)("input",{type:"text",name:"artistName",placeholder:"Artist name",value:this.state.artistName,onChange:this.handleChange})]}),Object(r.jsxs)("label",{className:me.a.FormBlock,children:["Album name",Object(r.jsx)("input",{type:"text",name:"albumName",placeholder:"Album name",value:this.state.albumName,onChange:this.handleChange})]}),Object(r.jsx)("div",{className:me.a.FormBlock,children:Object(r.jsx)("button",{type:"submit",children:"Upload"})})]})}}]),n}(s.a.Component);ve.defaultProps={};var Oe=ve,ke=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(j,"/streams/stream/get");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/streams/stream/next-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/streams/stream/pause-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/streams/stream/play-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/streams/stream/previous-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/streams/stream/scan-backward/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(m,"/streams/stream/scan-forward/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(e){Object(E.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(M.a)(this,n),(r=t.call(this,e)).state={progress:void 0,_nextTrackScheduledAt:void 0,stream:void 0},r.getStream=r.getStream.bind(Object(V.a)(r)),r.animateProgressBar=r.animateProgressBar.bind(Object(V.a)(r)),r.handlePrevTrack=r.handlePrevTrack.bind(Object(V.a)(r)),r.handleNextTrack=r.handleNextTrack.bind(Object(V.a)(r)),r.handlePlayTrack=r.handlePlayTrack.bind(Object(V.a)(r)),r.handlePauseTrack=r.handlePauseTrack.bind(Object(V.a)(r)),r.handleScanBackward=r.handleScanBackward.bind(Object(V.a)(r)),r.handleScanForward=r.handleScanForward.bind(Object(V.a)(r)),r}return Object(L.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStream();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:return t=e.sent,n=t.data,e.next=6,this.setState({stream:n});case 6:this.animateProgressBar();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"animateProgressBar",value:function(){var e=this;!function t(){var n=e.state.stream;if(null===n||void 0===n?void 0:n.nowPlaying)if(n.isPlaying||!n.isPaused){var r=(new Date).getTime()-1e3*n.playedAt;r>n.nowPlaying.durationMilliseconds+3e3?e.setState({progress:void 0,stream:void 0}):(e.setState({progress:r}),window.requestAnimationFrame(t))}else e.setState({progress:1e3*n.pausedAt-1e3*n.playedAt});else e.setState({progress:void 0,stream:void 0})}()}},{key:"handlePrevTrack",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ce();case 3:return e.next=5,this.getStream();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleNextTrack",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),e.next=3,ye();case 3:return e.next=5,this.getStream();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePlayTrack",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.stream,e.next=4,we();case 4:return r=e.sent,e.next=7,this.setState({stream:Object(ue.a)(Object(ue.a)({},n),{},{isPlaying:!0,isPaused:!1,playedAt:r.data.playedAt})});case 7:this.animateProgressBar();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePauseTrack",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.stream,e.next=4,ge();case 4:return r=e.sent,e.next=7,this.setState({stream:Object(ue.a)(Object(ue.a)({},n),{},{isPlaying:!1,isPaused:!0,pausedAt:r.data.pausedAt})});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleScanBackward",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.stream,e.next=4,Se();case 4:return r=new Date,a=r.getTime(),s=n.playedAt+10,c=a-1e3*s>0?s:Math.floor(a/1e3),e.next=11,this.setState({stream:Object(ue.a)(Object(ue.a)({},n),{},{playedAt:c})});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleScanForward",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ne();case 3:if(200===(n=e.sent).system.status){e.next=6;break}throw n.system.message;case 6:return r=this.state.stream,e.next=9,this.setState({stream:Object(ue.a)(Object(ue.a)({},r),{},{playedAt:r.playedAt-10})});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this.state.stream;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[((null===n||void 0===n?void 0:n.isPlaying)||(null===n||void 0===n?void 0:n.isPaused))&&Object(r.jsx)("p",{children:null===n||void 0===n||null===(e=n.nowPlaying)||void 0===e?void 0:e.name}),Object(r.jsx)("progress",{value:this.state.progress,max:null===n||void 0===n||null===(t=n.nowPlaying)||void 0===t?void 0:t.durationMilliseconds})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:this.handlePrevTrack,children:"Prev"}),(null===n||void 0===n?void 0:n.isPaused)&&Object(r.jsx)("button",{onClick:this.handlePlayTrack,children:"Play"}),(null===n||void 0===n?void 0:n.isPlaying)&&Object(r.jsx)("button",{onClick:this.handlePauseTrack,children:"Pause"}),Object(r.jsx)("button",{onClick:this.handleNextTrack,children:"Next"})]}),Object(r.jsxs)("div",{children:[(null===n||void 0===n?void 0:n.isPlaying)&&Object(r.jsx)("button",{onClick:this.handleScanBackward,children:"Backward"}),(null===n||void 0===n?void 0:n.isPlaying)&&Object(r.jsx)("button",{onClick:this.handleScanForward,children:"Forward"})]})]})}}]),n}(s.a.Component);Te.defaultProps={};var Pe=Te,Fe=n(6);var _e=function(){return Object(r.jsx)(z.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/login",children:"Login"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/chat",children:"Chat"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/player",children:"Player"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/queue",children:"Queue"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/search",children:"Search"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/upload",children:"Upload"})})]})}),Object(r.jsxs)(Fe.c,{children:[Object(r.jsx)(Fe.a,{path:"/login",children:Object(r.jsx)(H,{})}),Object(r.jsx)(Fe.a,{path:"/chat",children:Object(r.jsx)(q,{})}),Object(r.jsx)(Fe.a,{path:"/player",children:Object(r.jsx)(Pe,{})}),Object(r.jsx)(Fe.a,{path:"/queue",children:Object(r.jsx)(ce,{})}),Object(r.jsx)(Fe.a,{path:"/search",children:Object(r.jsx)(fe,{})}),Object(r.jsx)(Fe.a,{path:"/upload",children:Object(r.jsx)(Oe,{})})]})]})})},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};u.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(_e,{})}),document.getElementById("root")),Be()}},[[74,1,2]]]);
//# sourceMappingURL=main.7bc1bf48.chunk.js.map