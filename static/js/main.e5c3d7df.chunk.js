(this["webpackJsonpjukebox-radio"]=this["webpackJsonpjukebox-radio"]||[]).push([[0],{16:function(e,t,n){e.exports={Upload:"Upload_Upload__tMDig",FormBlock:"Upload_FormBlock__2ls6S"}},21:function(e,t,n){e.exports={Login:"Login_Login__1ujut",FormBlock:"Login_FormBlock__S_rix"}},22:function(e,t,n){e.exports={Search:"Search_Search__2SQmI",FormBlock:"Search_FormBlock__3ZZZJ"}},31:function(e,t,n){e.exports={Chat:"Chat_Chat__3NjUX"}},32:function(e,t,n){e.exports={NotableText:"NotableText_NotableText__1_8Yx",Notated:"NotableText_Notated__1OpEa"}},44:function(e,t,n){e.exports={TextComment:"TextComment_TextComment__15QHu",Notated:"TextComment_Notated__24bZz"}},45:function(e,t,n){e.exports={VoiceRecording:"VoiceRecording_VoiceRecording__10J4X"}},47:function(e,t,n){e.exports={Queue:"Queue_Queue__YTCBa"}},48:function(e,t,n){e.exports={QueueCollection:"QueueCollection_QueueCollection__3PH8C"}},49:function(e,t,n){e.exports={QueueTrack:"QueueTrack_QueueTrack__14e2x"}},56:function(e,t,n){},58:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=n(18),u=n.n(s),i=(n(56),n(2)),o=n.n(i),l=n(3),p=(n(58),n(9)),d=n(4),j=n(17),b=n.n(j),f=n(38),x=n.n(f),h=n(31),O=n.n(h),m="https://jukeboxrad.io",v="GET",y="POST";function k(){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(o.a.mark((function e(){var t,n,r,a,c,s,u,i,l,p,j,b,f,x,h,O,v,y,k,w,g,U,S,C=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.length>0&&void 0!==C[0]?C[0]:"",n=C.length>1&&void 0!==C[1]?C[1]:"",r=C.length>2&&void 0!==C[2]?C[2]:{},n=m+n,"GET"===t){e.next=16;break}for(c=new FormData,s=0,u=Object.entries(r);s<u.length;s++)i=Object(d.a)(u[s],2),l=i[0],p=i[1],c.append(l,p);return j={headers:{}},(b=localStorage.getItem("accessToken"))&&(j.headers.Authorization="Bearer ".concat(b)),f=new Request(n,j),e.next=13,fetch(f,{method:t,mode:"cors",body:c});case 13:a=e.sent,e.next=26;break;case 16:for(x=new URLSearchParams,h=0,O=Object.entries(r);h<O.length;h++)v=Object(d.a)(O[h],2),y=v[0],k=v[1],x.set(y,k);return w=n+"/?"+x.toString(),g={headers:{"Content-Type":"application/json"}},(U=localStorage.getItem("accessToken"))&&(g.headers.Authorization="Bearer ".concat(U)),S=new Request(w,g),e.next=25,fetch(S,{method:t,mode:"cors"});case 25:a=e.sent;case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/comments/text-comment/create/",{text:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(v,"/comments/text-comment/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(v,"/comments/voice-recording/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/comments/text-comment/delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/comments/text-comment-modification/list-delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/comments/voice-recording/create/",{audioFile:t,transcriptData:n,transcriptFinal:r});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/comments/voice-recording/delete/",{voiceRecordingUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=n(39),F=n(50),T=n(32),A=n.n(T),B=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r,a){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/comments/text-comment-modification/create/",{textCommentUuid:t,style:n,anchorOffset:r,focusOffset:a});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),q=["underline","box","circle","highlight","strike-through","crossed-off","bracket"];var D=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!0),c=Object(d.a)(n,2),s=c[0],u=c[1],i=Object(a.useState)(null),p=Object(d.a)(i,2),j=p[0],b=p[1],f=Object(a.useState)(null),x=Object(d.a)(f,2),h=x[0],O=x[1],m=function(){var t=Object(l.a)(o.a.mark((function t(n,r){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.data.uuid,t.next=4,B(a,r,j,h);case 4:c=t.sent,e.create(a,c.data),u(!1);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=window.getSelection()).anchorNode===t.focusNode){e.next=6;break}return u(!1),b(null),O(null),e.abrupt("return");case 6:n=parseInt(t.anchorNode.parentNode.getAttribute("offset")),u(!0),b(n+t.anchorOffset),O(n+t.focusOffset);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),b(null),O(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){e._svg.style.zIndex=-1};return Object(r.jsxs)("div",{className:A.a.NotableText,children:[Object(r.jsx)("p",{ref:t,children:function(){for(var t=e.data,n=t.text,a=t.modifications,c=0,s=Object(r.jsx)(r.Fragment,{}),u=0;u<a.length;u++){var i=a[u],o=n.substring(c,i.startPtr),l=n.substring(i.startPtr,i.endPtr);s=Object(r.jsxs)(r.Fragment,{children:[s,Object(r.jsx)("span",{offset:c,children:o}),Object(r.jsx)(F.a,{className:A.a.Notated,show:!0,multiline:!0,color:"red",type:i.type,animate:i.animate,getAnnotationObject:k,children:l})]}),c=i.endPtr}var p=n.substring(c,n.length);return s=Object(r.jsxs)(r.Fragment,{children:[s,Object(r.jsx)("span",{offset:c,children:p})]})}()}),Object(r.jsx)(_.a,{selectionRef:t,onTextSelect:v,onTextUnselect:y,isOpen:s,children:q.map((function(e,t){return Object(r.jsx)("form",{onSubmit:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(n,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:t})},t)}))})]})},R=n(44),I=n.n(R);var L=function(e){return Object(r.jsxs)("div",{className:I.a.TextComment,children:[Object(r.jsx)(D,{data:e.data,create:e.create}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroyModifications(e.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Clear modifications"}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(e.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"})]})},M=n(45),J=n.n(M);var V=function(e){var t=function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.data.uuid,t.next=4,Q(r);case 4:return t.next=6,e.destroy(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=e.data;return Object(r.jsxs)("div",{className:J.a.VoiceRecording,children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"null"===n.transcriptFinal?"<transcript not available>":n.transcriptFinal})}),Object(r.jsx)("form",{onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(r.jsx)("button",{type:"submit",children:"Delete"})})]})};var E=function(e){var t=Object(a.useState)(void 0),n=Object(d.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)(void 0),i=Object(d.a)(u,2),f=i[0],h=i[1],m=Object(a.useState)(""),v=Object(d.a)(m,2),y=v[0],k=v[1],w=Object(a.useState)(!1),_=Object(d.a)(w,2),F=_[0],T=_[1],A=Object(a.useState)(new x.a({bitRate:320})),B=Object(d.a)(A,1)[0],q=Object(a.useState)([]),D=Object(d.a)(q,1)[0];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return 200===(t=e.sent).system.status&&s(t.data),e.next=6,S();case 6:200===(n=e.sent).system.status&&h(n.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var R,I=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f,r=c.filter((function(e){return e.uuid!==t})),a=n.filter((function(e){return e.uuid!==t})),s(r),h(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:n=c.findIndex((function(e){return e.uuid===t})),c[n].modifications=[],s(Object(p.a)(c));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return e.next=4,C(t);case 4:return e.next=6,I(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:return e.next=4,I(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g(y);case 3:n=e.sent,c.push(n.data),s(Object(p.a)(c)),k("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.findIndex((function(e){return e.uuid===t})),(a=c[r].modifications).push(n),u=a.sort((function(e,t){return e.startPtr-t.startPtr})),c[r].modifications=u,s(Object(p.a)(c));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=Object(j.useSpeechRecognition)(),G=Z.transcript,H=Z.resetTranscript;return R=Array.isArray(c)&&Array.isArray(f)?[].concat(Object(p.a)(c),Object(p.a)(f)).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds})):[],Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:O.a.Chat,children:R.map((function(e,t){return"TextComment"===e.class?Object(r.jsx)(L,{data:e,destroy:J,destroyModifications:M,create:Y},t):"VoiceRecording"===e.class?Object(r.jsx)(V,{data:e,destroy:E},t):Object(r.jsx)(r.Fragment,{})}))}),Object(r.jsxs)("form",{className:O.a.CreateTextComment,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("input",{type:"text",name:"text",placeholder:"text",value:y,onChange:function(e){k(e.target.value)}}),Object(r.jsx)("button",{type:"submit",children:"Send"})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"button",onClick:function(){F?(b.a.browserSupportsSpeechRecognition()&&b.a.stopListening(),B.stop().getMp3().then((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new File(n,"voice.mp3",{type:r.type,lastModified:Date.now()}),e.next=3,N(t,JSON.stringify(D),G);case 3:a=e.sent,f.push(a.data),h(Object(p.a)(f)),b.a.browserSupportsSpeechRecognition()&&H();case 7:case"end":return e.stop()}}),e)})))()})),T(!1)):(b.a.browserSupportsSpeechRecognition()&&b.a.startListening({continuous:!0}),B.start(),T(!0))},children:"Record"})})]})},z=n(14),Y=n(21),Z=n.n(Y),G=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/auth/obtain-tokens/",{username:t,password:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/stream/initialize/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var X=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)(""),i=Object(d.a)(u,2),p=i[0],j=i[1],b=Object(a.useState)(!1),f=Object(d.a)(b,2),x=f[0],h=f[1],O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,G(c,p);case 3:if((n=e.sent).access&&n.refresh){e.next=6;break}return e.abrupt("return");case 6:return localStorage.setItem("accessToken",n.access),localStorage.setItem("refreshToken",n.refresh),e.next=10,H();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{className:Z.a.Login,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Sign in"}),Object(r.jsxs)("p",{children:["If you have not created an account yet, then please ",Object(r.jsx)(z.b,{to:"/signup",children:"Sign Up"})," first."]}),Object(r.jsxs)("label",{className:Z.a.FormBlock,children:["Username",Object(r.jsx)("input",{type:"text",name:"username",placeholder:"username",value:c,onChange:function(e){s(e.target.value)}})]}),Object(r.jsxs)("label",{className:Z.a.FormBlock,children:["Password",Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",value:p,onChange:function(e){j(e.target.value)}})]}),Object(r.jsxs)("label",{className:Z.a.FormBlock,children:[Object(r.jsx)("input",{type:"checkbox",name:"remember-me",value:x,onChange:function(e){h(e.target.value)}}),"Remember Me"]}),Object(r.jsxs)("div",{className:Z.a.FormBlock,children:[Object(r.jsx)("button",{type:"submit",children:"Sign In"}),Object(r.jsx)("span",{children:Object(r.jsx)(z.b,{to:"/forgotpassword",children:"Forgot Password?"})})]})]})},W=n(15),K=n(47),$=n.n(K),ee=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(v,"/streams/queue/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/queue/delete/",{queueUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=n(48),re=n.n(ne),ae=n(49),ce=n.n(ae);var se=Object(W.b)((function(e){return{stream:e.stream,lastUp:e.lastUp}}))((function(e){var t,n=e.data,a=e.stream,c=e.lastUp,s=((null===a||void 0===a||null===(t=a.nowPlaying)||void 0===t?void 0:t.index)||c.index)<n.index,u=n.parentUuid&&s?"-":"";return Object(r.jsxs)("div",{className:ce.a.QueueTrack,children:[Object(r.jsxs)("span",{children:[u,n.track.name]}),s&&Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"})]})}));var ue=Object(W.b)((function(e){return{stream:e.stream,lastUp:e.lastUp}}))((function(e){var t,n=e.data,c=e.stream,s=e.lastUp,u=e.data.uuid,i=(null===c||void 0===c?void 0:c.isPlaying)&&(null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t?void 0:t.parentUuid)===u||!(null===c||void 0===c?void 0:c.isPlaying)&&(null===s||void 0===s?void 0:s.parentUuid)&&(null===s||void 0===s?void 0:s.parentUuid)===u,p=Object(a.useState)(i),j=Object(d.a)(p,2),b=j[0],f=j[1],x=function(e){f(!b)};return Object(r.jsxs)("div",{className:re.a.QueueCollection,children:[Object(r.jsx)("span",{children:n.collection.name}),!i&&Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"}),n.children.length>0&&!b&&Object(r.jsx)("button",{type:"button",onClick:x,children:"More"}),n.children.length>0&&b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{type:"button",onClick:x,children:"Less"}),Object(r.jsx)("div",{children:n.children.map((function(t,n){return Object(r.jsx)(se,{data:t,destroy:e.destroy},n)}))})]})]})}));var ie=Object(W.b)((function(e){return{stream:e.stream,nextUpQueues:e.nextUpQueues,lastUpQueues:e.lastUpQueues}}))((function(e){var t,n,a=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.uuid,t.next=3,te(r);case 3:(a=n.parentUuid)?e.dispatch({type:"queue/deleteChildNode",parentUuid:a,queueUuid:r}):e.dispatch({type:"queue/deleteNode",queueUuid:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:$.a.Queue,children:[Object(r.jsx)("div",{children:e.lastUpQueues.map((function(e,t){return e.track?Object(r.jsx)(se,{data:e,destroy:function(){}},t):Object(r.jsx)(r.Fragment,{})}))}),Object(r.jsxs)("div",{children:[Object(r.jsx)("i",{children:"Now playing..."}),Object(r.jsx)("p",{children:null===(t=e.stream)||void 0===t||null===(n=t.nowPlaying)||void 0===n?void 0:n.track.name})]}),Object(r.jsx)("div",{children:e.nextUpQueues.map((function(e,t){return e.collection?Object(r.jsx)(ue,{data:e,destroy:a},t):e.track?Object(r.jsx)(se,{data:e,destroy:a},t):Object(r.jsx)(r.Fragment,{})}))})]})})),oe=n(22),le=n.n(oe),pe=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r,a,c,s,u,i){var l,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(v,"/music/search",{query:t,providerSpotify:n,providerYouTube:r,providerJukeboxRadio:a,formatTrack:c,formatAlbum:s,formatPlaylist:u,formatVideo:i});case 2:return l=e.sent,e.next=5,l.json();case 5:return p=e.sent,e.abrupt("return",p);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s,u,i){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/queue/create/",{className:t,genericUuid:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var je=function(e){var t=e.data;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[t.provider," ",t.format," ",t.name]}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addToQueue(e.data.class,e.data.uuid);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Add"})]})};var be=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)([]),i=Object(d.a)(u,2),p=i[0],j=i[1],b=Object(a.useState)(!0),f=Object(d.a)(b,2),x=f[0],h=f[1],O=Object(a.useState)(!0),m=Object(d.a)(O,2),v=m[0],y=m[1],k=Object(a.useState)(!0),w=Object(d.a)(k,2),g=w[0],U=w[1],S=Object(a.useState)(!0),C=Object(d.a)(S,2),P=C[0],N=C[1],Q=Object(a.useState)(!0),_=Object(d.a)(Q,2),F=_[0],T=_[1],A=Object(a.useState)(!0),B=Object(d.a)(A,2),q=B[0],D=B[1],R=Object(a.useState)(!0),I=Object(d.a)(R,2),L=I[0],M=I[1],J=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,pe(p,x,v,g,P,F,q,L);case 3:n=e.sent,s(n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t,n);case 2:s([]);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("form",{className:le.a.Login,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Search"}),Object(r.jsxs)("label",{className:le.a.FormBlock,children:["Query",Object(r.jsx)("input",{type:"text",name:"query",placeholder:"Search by name or artist",value:p,onChange:function(e){j(e.target.value)}})]}),Object(r.jsxs)("div",{className:le.a.FormBlock,children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:x,onChange:function(e){h(e.target.checked)}}),"Spotify"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.youTube",checked:v,onChange:function(e){y(e.target.checked)}}),"YouTube"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"provider.jukeboxRadio",checked:g,onChange:function(e){U(e.target.checked)}}),"Jukebox Radio"]})]}),Object(r.jsxs)("div",{className:le.a.FormBlock,children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:P,onChange:function(e){N(e.target.checked)}}),"Track"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:F,onChange:function(e){T(e.target.checked)}}),"Album"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:q,onChange:function(e){D(e.target.checked)}}),"Playlist"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:L,onChange:function(e){M(e.target.checked)}}),"Video"]})]}),Object(r.jsx)("div",{className:le.a.FormBlock,children:Object(r.jsx)("button",{type:"submit",children:"Search"})})]}),Object(r.jsx)("div",{children:c.map((function(e,t){return Object(r.jsx)(je,{data:e,addToQueue:V},t)}))})]})},fe=n(16),xe=n.n(fe),he=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r,a,c){var s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/music/track/create/",{audioFile:t,imageFile:n,trackName:r,artistName:a,albumName:c});case 2:return s=e.sent,e.next=5,s.json();case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}();var Oe=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)(""),i=Object(d.a)(u,2),p=i[0],j=i[1],b=Object(a.useState)(""),f=Object(d.a)(b,2),x=f[0],h=f[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),v=m[0],y=m[1],k=Object(a.useState)(""),w=Object(d.a)(k,2),g=w[0],U=w[1],S=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,he(c,p,x,v,g);case 3:h(""),y(""),U("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{className:xe.a.Login,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)("h3",{children:"Upload"}),Object(r.jsxs)("label",{className:xe.a.FormBlock,children:["Audio file",Object(r.jsx)("input",{type:"file",name:"audioFile",onChange:function(e){s(e.target.files[0])}})]}),Object(r.jsxs)("label",{className:xe.a.FormBlock,children:["Image file",Object(r.jsx)("input",{type:"file",name:"imageFile",onChange:function(e){j(e.target.files[0])}})]}),Object(r.jsxs)("label",{className:xe.a.FormBlock,children:["Track name",Object(r.jsx)("input",{type:"text",name:"trackName",placeholder:"Track name",value:x,onChange:function(e){h(e.target.value)}})]}),Object(r.jsxs)("label",{className:xe.a.FormBlock,children:["Artist name",Object(r.jsx)("input",{type:"text",name:"artistName",placeholder:"Artist name",value:v,onChange:function(e){y(e.target.value)}})]}),Object(r.jsxs)("label",{className:xe.a.FormBlock,children:["Album name",Object(r.jsx)("input",{type:"text",name:"albumName",placeholder:"Album name",value:g,onChange:function(e){U(e.target.value)}})]}),Object(r.jsx)("div",{className:xe.a.FormBlock,children:Object(r.jsx)("button",{type:"submit",children:"Upload"})})]})},me=n(5),ve=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(v,"/streams/stream/get");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/stream/next-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/stream/pause-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/stream/play-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/stream/previous-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/stream/scan-backward/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y,"/streams/stream/scan-forward/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var Ce=Object(W.b)((function(e){return{stream:e.stream,lastUp:e.lastUp,lastUpQueues:e.lastUpQueues,nextUp:e.nextUp,nextUpQueues:e.nextUpQueues}}))((function(e){var t,n,c=e.stream,s=null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t?void 0:t.track,u=e.nextUp,i=e.lastUp,p=Object(a.useState)(0),j=Object(d.a)(p,2),b=j[0],f=j[1],x=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a,c,s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,ge();case 3:return r=t.sent,t.next=6,ee();case 6:return a=t.sent,c=a.data,s=c.nextUpQueues,u=c.lastUpQueues,t.next=10,e.dispatch({type:"stream/prevTrack",startedAt:r.data.startedAt});case 10:e.dispatch({type:"queue/listSet",lastUpQueues:u,nextUpQueues:s});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a,c,s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n&&n.preventDefault(),t.next=3,ye();case 3:return r=t.sent,t.next=6,ee();case 6:return a=t.sent,c=a.data,s=c.nextUpQueues,u=c.lastUpQueues,t.next=10,e.dispatch({type:"stream/nextTrack",startedAt:r.data.startedAt});case 10:e.dispatch({type:"queue/listSet",lastUpQueues:u,nextUpQueues:s});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,we();case 3:r=t.sent,e.dispatch({type:"stream/set",stream:Object(me.a)(Object(me.a)({},c),{},{isPlaying:!0,isPaused:!1,playedAt:r.data.playedAt})});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,ke();case 3:r=t.sent,e.dispatch({type:"stream/set",stream:Object(me.a)(Object(me.a)({},c),{},{isPlaying:!1,isPaused:!0,pausedAt:r.data.pausedAt})});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a,s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Ue();case 3:return r=new Date,a=r.getTime(),s=c.startedAt+1e4,u=a-s>0?s:a,console.log(c.startedAt,u),console.log(c.startedAt-u),t.next=12,e.dispatch({type:"stream/set",stream:Object(me.a)(Object(me.a)({},c),{},{startedAt:u})});case 12:f(b+1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Se();case 3:if(400!==t.sent.system.status){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.dispatch({type:"stream/set",stream:Object(me.a)(Object(me.a)({},c),{},{startedAt:c.startedAt-1e4})});case 8:f(b+1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Previous..."})}),Object(r.jsx)("p",{children:null===i||void 0===i||null===(n=i.track)||void 0===n?void 0:n.name})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Now playing..."})}),((null===c||void 0===c?void 0:c.isPlaying)||(null===c||void 0===c?void 0:c.isPaused))&&Object(r.jsx)("p",{children:null===s||void 0===s?void 0:s.name}),!(null===c||void 0===c?void 0:c.isPlaying)&&!(null===c||void 0===c?void 0:c.isPaused)&&Object(r.jsx)("p",{children:"Waiting..."})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:x,children:"Prev"}),(null===c||void 0===c?void 0:c.isPaused)&&Object(r.jsx)("button",{onClick:O,children:"Play"}),(null===c||void 0===c?void 0:c.isPlaying)&&Object(r.jsx)("button",{onClick:m,children:"Pause"}),Object(r.jsx)("button",{onClick:h,children:"Next"})]}),Object(r.jsxs)("div",{children:[(null===c||void 0===c?void 0:c.isPlaying)&&Object(r.jsx)("button",{onClick:v,children:"Backward"}),(null===c||void 0===c?void 0:c.isPlaying)&&Object(r.jsx)("button",{onClick:y,children:"Forward"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Next..."})}),Object(r.jsx)("p",{children:null===u||void 0===u?void 0:u.track.name})]})]})})),Pe=n(27),Ne={nextUpQueues:[],lastUpQueues:[],_lastPlayed:void 0},Qe=Object(Pe.b)((function(){var e,t,n,r,a,c,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,u=arguments.length>1?arguments[1]:void 0;switch(u.type){case"stream/set":return n=u.stream,c=Object(me.a)(Object(me.a)({},s),{},{stream:n}),n.isPlaying||n.isPaused||!n.nowPlaying||(c.lastUp=n.nowPlaying,c._lastPlayed=n.nowPlaying,c.stream.nowPlaying=void 0),c;case"stream/prevTrack":return r=(t=Object(p.a)(s.lastUpQueues))[t.length-1],Object(me.a)(Object(me.a)({},s),{},{stream:Object(me.a)(Object(me.a)({},s.stream),{},{startedAt:u.startedAt,nowPlaying:r})});case"stream/nextTrack":return r=(a=Object(p.a)(s.nextUpQueues))[0].children.length?a[0].children[0]:a[0],Object(me.a)(Object(me.a)({},s),{},{stream:Object(me.a)(Object(me.a)({},s.stream),{},{startedAt:u.startedAt,nowPlaying:r})});case"stream/expire":(n=Object(me.a)({},s.stream)).isPlaying=!1,n.isPaused=!1;var i=n.nowPlaying;return n.nowPlaying=void 0,Object(me.a)(Object(me.a)({},s),{},{stream:n,_lastPlayed:i});case"queue/listSet":t=u.lastUpQueues,a=u.nextUpQueues;var o=s._lastPlayed;o&&t.push(o),(n=s.stream).isPlaying||n.isPaused||!n.nowPlaying||(t.push(n.nowPlaying),n=Object(me.a)(Object(me.a)({},n),{},{nowPlaying:void 0}));var l=t.length?t[t.length-1]:void 0,d=a.length?a[0].children.length?a[0].children[0]:a[0]:void 0;return Object(me.a)(Object(me.a)({},s),{},{stream:n,lastUp:l,lastUpQueues:t,nextUp:d,nextUpQueues:a});case"queue/deleteNode":var j=(e=s.nextUpQueues).filter((function(e){return e.uuid!==u.queueUuid}));return Object(me.a)(Object(me.a)({},s),{},{nextUpQueues:j});case"queue/deleteChildNode":var b=(e=Object(p.a)(s.nextUpQueues)).findIndex((function(e){return e.uuid===u.parentUuid})),f=e[b].children,x=f.filter((function(e){return e.uuid!==u.queueUuid}));return e[b].children=x,x.length||(e=e.filter((function(e){return e.uuid!==u.parentUuid}))),Object(me.a)(Object(me.a)({},s),{},{nextUpQueues:e});default:return s}})),_e=n(8);var Fe=function(){return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:return t=e.sent,e.next=5,Qe.dispatch({type:"stream/set",stream:t.data});case 5:return e.next=7,ee();case 7:return t=e.sent,n=t.data,r=n.nextUpQueues,a=n.lastUpQueues,e.next=11,Qe.dispatch({type:"queue/listSet",lastUpQueues:a,nextUpQueues:r});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.jsx)(z.a,{children:Object(r.jsxs)(W.a,{store:Qe,children:[Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/login",children:"Login"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/chat",children:"Chat"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/player",children:"Player"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/queue",children:"Queue"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/search",children:"Search"})}),Object(r.jsx)("li",{children:Object(r.jsx)(z.b,{to:"/upload",children:"Upload"})})]})}),Object(r.jsx)("div",{class:"app-main-container",children:Object(r.jsx)("div",{class:"app-main",children:Object(r.jsxs)(_e.c,{children:[Object(r.jsx)(_e.a,{path:"/login",children:Object(r.jsx)(X,{})}),Object(r.jsx)(_e.a,{path:"/chat",children:Object(r.jsx)(E,{})}),Object(r.jsx)(_e.a,{path:"/player",children:Object(r.jsx)(Ce,{})}),Object(r.jsx)(_e.a,{path:"/queue",children:Object(r.jsx)(ie,{})}),Object(r.jsx)(_e.a,{path:"/search",children:Object(r.jsx)(be,{})}),Object(r.jsx)(_e.a,{path:"/upload",children:Object(r.jsx)(Oe,{})})]})})})]})})},Te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Fe,{})}),document.getElementById("root")),Te()}},[[84,1,2]]]);
//# sourceMappingURL=main.e5c3d7df.chunk.js.map