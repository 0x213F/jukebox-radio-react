(this["webpackJsonpjukebox-radio"]=this["webpackJsonpjukebox-radio"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},17:function(e,t,n){e.exports={Session:"Session_Session__3G52u",Top:"Session_Top__3uCH7",Content:"Session_Content__3lPl4",PrimaryContent:"Session_PrimaryContent__3yGCf",SecondaryContent:"Session_SecondaryContent__1Uvc2"}},18:function(e,t,n){e.exports={Player:"Player_Player__Xx8fy",Div:"Player_Div__1Mznx",Button:"Player_Button__1lbWu",Image:"Player_Image__1PWwp",MoreNextUp:"Player_MoreNextUp__2_uZ-"}},19:function(e,t,n){e.exports={BottomBar:"BottomBar_BottomBar__3MLzc",Playback:"BottomBar_Playback__3N-qW",PlaybackButton:"BottomBar_PlaybackButton__1axWT",Volume:"BottomBar_Volume__25kUh",VolumeButton:"BottomBar_VolumeButton__26qBR",ExtraControl:"BottomBar_ExtraControl__2zuEs",ExtraControlButton:"BottomBar_ExtraControlButton__3Kvpp"}},196:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(27),i=n.n(s),u=(n(100),n(2)),o=n.n(u),l=n(4),d=n(6),p=(n(102),"https://prod.jukeboxrad.io"),b="GET",j="POST";function f(){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function e(){var t,n,a,r,c,s,i,u,l,b,j,f,h,x,v,O,m,y,k,g,w,P,C,_=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.length>0&&void 0!==_[0]?_[0]:"",n=_.length>1&&void 0!==_[1]?_[1]:"",a=_.length>2&&void 0!==_[2]?_[2]:{},n=p+n,"GET"===t){e.next=16;break}for(c=new FormData,s=0,i=Object.entries(a);s<i.length;s++)u=Object(d.a)(i[s],2),l=u[0],b=u[1],c.append(l,b);return j={headers:{}},(f=localStorage.getItem("accessToken"))&&(j.headers.Authorization="Bearer ".concat(f)),h=new Request(n,j),e.next=13,fetch(h,{method:t,mode:"cors",body:c});case 13:r=e.sent,e.next=26;break;case 16:for(x=new URLSearchParams,v=0,O=Object.entries(a);v<O.length;v++)m=Object(d.a)(O[v],2),y=m[0],k=m[1],x.set(y,k);return g=n+"/?"+x.toString(),w={headers:{"Content-Type":"application/json"}},(P=localStorage.getItem("accessToken"))&&(w.headers.Authorization="Bearer ".concat(P)),C=new Request(g,w),e.next=25,fetch(C,{method:t,mode:"cors"});case 25:r=e.sent;case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment/create/",{text:t,format:n,trackUuid:a,textCommentTimestamp:r});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/comments/text-comment/list",{trackUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/comments/voice-recording/list",{trackUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/auth/obtain-tokens/",{username:t,password:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/initialize/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accessToken"),e.next=3,f(j,"/auth/verify-token/",{token:t});case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/stream/get");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/music/track/get-files",{trackUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/next-track/",{nowPlayingTotalDurationMilliseconds:t,isPlanned:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/pause-track/",{nowPlayingTotalDurationMilliseconds:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/play-track/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/prev-track/",{nowPlayingTotalDurationMilliseconds:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/scan-backward/",{nowPlayingTotalDurationMilliseconds:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/stream/scan-forward/",{nowPlayingTotalDurationMilliseconds:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/queue/list");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue/delete/",{queueUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e,t){if(!e.nowPlaying)return[void 0,void 0];var n;n=e.isPaused?e.pausedAt-t:Date.now()-t;for(var a,r="all",c=0,s=0;;){var i=e.nowPlaying.playbackIntervals[c],u=i.endPosition-i.startPosition,o=n-s;if(o<u){n=i.startPosition+o,r=i.purpose,a=i.endPosition-n;break}c+=1,s+=u}return c===e.nowPlaying.playbackIntervals.length-1&&(a=void 0),[n,a,r]},Q=function(e){return e>.6?.6:e>.3?.3:e>0?0:1},A="apple_music",I="spotify",R="youtube",D="jukebox_radio",F=n(46),q=n(3),L=n(8),V="hide",E=function(e){var t=e.stream,n=z(t),a=Object(d.a)(n,3),r=a[0],c=a[1],s=a[2];if(!r)return[];var i=Object(L.a)(e.textComments),u=Object(L.a)(e.voiceRecordings),o=[].concat(Object(L.a)(i),Object(L.a)(u));return o=(o=(o=o.map((function(e){var t=e.timestampMilliseconds>s&&e.timestampMilliseconds<=c,n=e.timestampMilliseconds>c&&e.timestampMilliseconds<=r;return e.renderStatus=t?"history":n?"display":V,Object(q.a)({},e)}))).filter((function(e){return e.renderStatus!==V}))).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}))},z=function(e){var t;if(!(null===e||void 0===e||null===(t=e.nowPlaying)||void 0===t?void 0:t.track))return[void 0,void 0,void 0];for(var n=e.startedAt,a=e.isPlaying?Date.now()-n:e.pausedAt-n,r=0,c=0,s=0,i=0;;){var u=e.nowPlaying.playbackIntervals[r],o=u.endPosition-u.startPosition,l=void 0;if((l=a-3e4-i)>=0&&l<o&&(c=u.startPosition+l),(l=a-3e4-45e3-i)>=0&&l<o&&(s=u.startPosition+l),(l=a-i)<o){a=u.startPosition+l;break}r+=1,i+=o}return[a,c,s]},Z=function(e){return Object(q.a)(Object(q.a)({},e),{},{feed:E(e)})},H=function(e,t){var n=Object(q.a)({},e.trackMarkerMap),a=t.queueUuid,r=t.marker,c=[].concat(Object(L.a)(n[a]),[r]).sort((function(e,t){return e.timestampMilliseconds-t.timestampMilliseconds}));return n[a]=c,Object(q.a)(Object(q.a)({},e),{},{trackMarkerMap:n})},J=function(e,t){var n=Object(q.a)({},e.trackMarkerMap),a=t.queueUuid,r=t.marker,c=n[t.queueUuid].filter((function(e){return e.uuid!==r.uuid}));return n[a]=c,Object(q.a)(Object(q.a)({},e),{},{trackMarkerMap:n})},W=function(e,t){var n=t.queueUuid,a=t.markers,r=Object(q.a)({},e.trackMarkerMap);return r[n]=a,Object(q.a)(Object(q.a)({},e),{},{trackMarkerMap:r})},K=n(22),X=function(e){return e[e.length-1]},Y=function(e){return e.length?e[0].children.length?e[0].children[0]:e[0]:void 0},G=function(e,t){var n=function(e){var t=0;if(e.children.length){var n,a=Object(K.a)(e.children);try{for(a.s();!(n=a.n()).done;){t+=n.value.totalDurationMilliseconds}}catch(r){a.e(r)}finally{a.f()}}else t+=e.totalDurationMilliseconds;return t},a=function(e){return(null===e||void 0===e?void 0:e.isPaused)?e.pausedAt-e.startedAt:(null===e||void 0===e?void 0:e.isPlaying)?Date.now()-e.startedAt:void 0}(t),r=0;return a&&(r=t.nowPlaying.totalDurationMilliseconds-a),e.length?1===e.length?r+n(e[0]):r+e.reduce((function(e,t){return"number"!==typeof e&&(e=n(e)),e+n(t)})):r+0},$=function e(t){var n,a,r=Object(q.a)({},t);if(r.children.length){var c=r.children.map(e),s=c.reduce((function(e,t){return e+t.durationMilliseconds}),0);return r.children=c,r.totalDurationMilliseconds=s,r}(null===(n=r.track)||void 0===n?void 0:n.service)===A&&(r.track.imageUrl=r.track.imageUrl.replace("{w}","300"),r.track.imageUrl=r.track.imageUrl.replace("{h}","300"));var i=r.intervals,u=null===(a=r.track)||void 0===a?void 0:a.durationMilliseconds;if(!i.length)return r.totalDurationMilliseconds=u,r.playbackIntervals=[{startPosition:0,endPosition:u,purpose:"all"}],r;var o,l,d,p,b=[],j=Object(K.a)(i);try{for(j.s();!(d=j.n()).done;){var f=d.value;if("muted"!==f.purpose)if(f.lowerBound)f.upperBound?(b.push({startPosition:f.lowerBound.timestampMilliseconds,endPosition:f.upperBound.timestampMilliseconds,purpose:f.purpose}),o=f.upperBound.timestampMilliseconds):b.push({startPosition:f.lowerBound.timestampMilliseconds,endPosition:r.totalDurationMilliseconds,purpose:f.purpose});else{var h=f.upperBound.timestampMilliseconds||r.totalDurationMilliseconds;b.push({startPosition:0,endPosition:h,purpose:f.purpose}),o=f.upperBound.timestampMilliseconds}else f.lowerBound?f.upperBound?(o||(o=0),l=f.lowerBound.timestampMilliseconds,b.push({startPosition:o,endPosition:l,purpose:"all"}),o=f.upperBound.timestampMilliseconds,l=void 0):(o||(o=0),l=f.lowerBound.timestampMilliseconds,b.push({startPosition:o,endPosition:l,purpose:"all"}),o=void 0):o=f.upperBound.timestampMilliseconds}}catch(v){j.e(v)}finally{j.f()}o&&(l=u,b.push({startPosition:o,endPosition:l,purpose:"all",audioUuid:null===(p=r.track)||void 0===p?void 0:p.uuid}));var x=b.reduce((function(e,t){return e+(t.endPosition-t.startPosition)}),0);return r.totalDurationMilliseconds=x,r.playbackIntervals=b,r},ee=function(e,t){var n=t.lastUpQueues.map($),a=t.nextUpQueues.map($),r=e._lastPlayed;r&&n.push(r);var c=e.stream;c.isPlaying||c.isPaused||!c.nowPlaying||(n.push(c.nowPlaying),c=Object(q.a)(Object(q.a)({},c),{},{nowPlaying:void 0}));var s=n.length?n[n.length-1]:void 0,i=a.length?a[0].children.length?a[0].children[0]:a[0]:void 0;return Object(q.a)(Object(q.a)({},e),{},{stream:c,lastUp:s,lastUpQueues:n,nextUp:i,nextUpQueues:a})},te=function(e,t){var n=e.nextUpQueues.filter((function(e){return e.uuid!==t.queueUuid}));return Object(q.a)(Object(q.a)({},e),{},{nextUpQueues:n})},ne=function(e,t){var n=Object(L.a)(e.nextUpQueues),a=n.findIndex((function(e){return e.uuid===t.parentUuid})),r=n[a].children.filter((function(e){return e.uuid!==t.queueUuid}));return n[a].children=r,r.length||(n=n.filter((function(e){return e.uuid!==t.parentUuid}))),Object(q.a)(Object(q.a)({},e),{},{nextUpQueues:n})},ae=function(e,t){var n=t.stream,a=n.nowPlaying,r=Object(q.a)({},e);if(a&&(n.nowPlaying=$(a)),r.stream=n,n.isPlaying||n.isPaused||!n.nowPlaying){if(n.isPlaying){var c=Date.now()-n.startedAt;c&&c>=n.nowPlaying.totalDurationMilliseconds&&(r.lastUp=n.nowPlaying,r._lastPlayed=n.nowPlaying,r.stream.nowPlaying=void 0,r.stream.isPlaying=!1,r.stream.isPaused=!1)}}else r.lastUp=n.nowPlaying,r._lastPlayed=n.nowPlaying,r.stream.nowPlaying=void 0,r.stream.isPlaying=!1,r.stream.isPaused=!1;return r},re=function(e,t){var n={stream:Object(q.a)(Object(q.a)({},e.stream),{},{isPlaying:!0,isPaused:!1,startedAt:t.startedAt})};return ae(e,n)},ce=function(e,t){var n={stream:Object(q.a)(Object(q.a)({},e.stream),{},{isPlaying:!1,isPaused:!0,pausedAt:t.pausedAt})};return ae(e,n)},se=function(e,t){var n=Object(L.a)(e.lastUpQueues),a=Object(L.a)(e.nextUpQueues),r=e.stream.nowPlaying,c=a[0],s=n[n.length-1],i=(null===r||void 0===r?void 0:r.parentUuid)&&(null===c||void 0===c?void 0:c.uuid)&&(null===r||void 0===r?void 0:r.parentUuid)===(null===c||void 0===c?void 0:c.uuid);return r&&(i?c.children.unshift(r):a.unshift(r)),n.pop(),Object(q.a)(Object(q.a)({},e),{},{stream:Object(q.a)(Object(q.a)({},e.stream),{},{startedAt:t.startedAt,nowPlaying:s,isPlaying:!0,isPaused:!1}),lastUpQueues:n,nextUpQueues:a,_lastPlayed:void 0})},ie=function(e,t){var n=Object(L.a)(e.lastUpQueues),a=Object(L.a)(e.nextUpQueues),r=e.stream.nowPlaying,c=a[0],s=c?c.children.length?c.children[0]:c:void 0;return r&&n.push(r),c&&(c.children.length?(c.children.shift(),c.children.length||a.shift()):a.shift()),Object(q.a)(Object(q.a)({},e),{},{stream:Object(q.a)(Object(q.a)({},e.stream),{},{startedAt:t.startedAt,nowPlaying:s,isPlaying:!!s,isPaused:!1}),lastUpQueues:n,nextUpQueues:a,_lastPlayed:r})},ue=function(e,t){return Object(q.a)(Object(q.a)({},e),{},{playback:Object(q.a)(Object(q.a)({},e.playback),{},{appleMusic:{api:t.appleMusicApi},isReady:!0})})},oe=function(e,t){return Object(q.a)(Object(q.a)({},e),{},{playback:Object(q.a)(Object(q.a)({},e.playback),{},{spotifyApi:t.spotifyApi,isReady:!0})})},le=function(e,t){return Object(q.a)(Object(q.a)({},e),{},{playback:Object(q.a)(Object(q.a)({},e.playback),{},{youTubeApi:t.youTubeApi})})},de=function(e){var t=Y(e.nextUpQueues);if(!t)return Object(q.a)({},e);var n=Object(q.a)({},e.playback),a=e.stream.nowPlaying,r=a.track.service===A&&t.track.service===A&&0===t.playbackIntervals[0].startPosition,c=a.track.service===I&&t.track.service===I&&0===t.playbackIntervals[0].startPosition;if(r){n.queuedUp=!0;var s=a.playbackIntervals;s[s.length-1].endPosition===a.track.durationMilliseconds&&(n.noopNextTrack=!0)}if(c){n.queuedUp=!0;var i=a.playbackIntervals;i[i.length-1].endPosition===a.track.durationMilliseconds&&(n.noopNextTrack=!0)}return Object(q.a)(Object(q.a)({},e),{},{playback:n})},pe=function(e,t){var n=e;n=function(e){var t=Y(e.nextUpQueues),n=e.playback.queuedUp,a=e.playback.noopNextTrack,r=e.playback.addToQueueTimeoutId,c=e.playback.nextSeekTimeoutId,s=Object(q.a)(Object(q.a)({},e.playback),{},{queuedUp:!1,noopNextTrack:!1});return!t||a||n?(s.addToQueueTimeoutId=void 0,Object(q.a)(Object(q.a)({},e),{},{playback:s})):(clearTimeout(r),clearTimeout(c),s.isPlaying=!1,s.addToQueueTimeoutId=void 0,s.nextSeekTimeoutId=void 0,Object(q.a)(Object(q.a)({},e),{},{playback:s}))}(n);var a=t.payload,r=n.stream.nowPlaying;return a.startedAt=n.stream.startedAt+r.totalDurationMilliseconds,n=ie(n,a)},be=function(e){var t=e.playback.addToQueueTimeoutId,n=e.playback.nextSeekTimeoutId,a=Object(q.a)(Object(q.a)({},e.playback),{},{queuedUp:!1,noopNextTrack:!1,isPlaying:!1,addToQueueTimeoutId:void 0});return clearTimeout(t),clearTimeout(n),Object(q.a)(Object(q.a)({},e),{},{playback:a})},je=function(e){var t=Object(q.a)(Object(q.a)({},e.playback),{},{isPlaying:!0});return Object(q.a)(Object(q.a)({},e),{},{playback:t})},fe=function(e){var t=e.playback.addToQueueTimeoutId,n=e.playback.nextSeekTimeoutId,a=Object(q.a)(Object(q.a)({},e.playback),{},{addToQueueTimeoutId:void 0,nextSeekTimeoutId:void 0});return clearTimeout(t),clearTimeout(n),Object(q.a)(Object(q.a)({},e),{},{playback:a})},he=function(e,t){var n=Object(q.a)(Object(q.a)({},e.playback),{},{addToQueueTimeoutId:t.addToQueueTimeoutId});return Object(q.a)(Object(q.a)({},e),{},{playback:n})},xe=function(e,t){var n=e.playback.nextSeekTimeoutId,a=Object(q.a)(Object(q.a)({},e.playback),{},{nextSeekTimeoutId:t.nextSeekTimeoutId});return clearTimeout(n),Object(q.a)(Object(q.a)({},e),{},{playback:a})},ve=function(e){return Object(q.a)(Object(q.a)({},e),{},{playback:Object(q.a)(Object(q.a)({},e.playback),{},{controlsEnabled:!1})})},Oe=function(e){return Object(q.a)(Object(q.a)({},e),{},{playback:Object(q.a)(Object(q.a)({},e.playback),{},{controlsEnabled:!0})})},me=function(e,t){var n,a=Object(q.a)({},e.playback),r=Object(q.a)({},e.playback.files),c={all:new Audio(t.track.audioUrl)},s=Object(K.a)(t.track.stems);try{for(s.s();!(n=s.n()).done;){var i=n.value;c[i.instrument]=new Audio(i.audioUrl)}}catch(u){s.e(u)}finally{s.f()}return r[t.track.uuid]=c,Object(q.a)(Object(q.a)({},e),{},{playback:Object(q.a)(Object(q.a)({},a),{},{files:r})})},ye=function(e){var t=Object(q.a)({},e.playback.volumeLevel),n=t.audio;return t.audio=Q(n),Object(q.a)(Object(q.a)({},e),{},{playback:Object(q.a)(Object(q.a)({},e.playback),{},{volumeLevel:t})})},ke=function(e){return function(t){return t.uuid===e}},ge=function(e,t){return t.upperBound?e.upperBound?e.upperBound.timestampMilliseconds-e.upperBound.timestampMilliseconds:1:-1},we=function(e,t){var n,a=t.queueInterval,r=t.queueUuid,c=t.parentQueueUuid,s=e.nextUpQueues,i=-1;c&&(i=s.findIndex(ke(c)),s=s[i].children),n=s.findIndex(ke(r));var u=s[n],o=[].concat(Object(L.a)(u.intervals),[a]).sort(ge),l=Object(L.a)(e.nextUpQueues);-1!==i?l[i].children[n].intervals=o:l[n].intervals=o;var d=l.map($);return Object(q.a)(Object(q.a)({},e),{},{nextUpQueues:d})},Pe=function(e,t){var n,a=t.queueInterval,r=t.queueUuid,c=t.parentQueueUuid,s=e.nextUpQueues,i=-1;c&&(i=s.findIndex(ke(c)),s=s[i].children),n=s.findIndex(ke(r));var u,o=s[n],l=Object(L.a)(o.intervals).filter((u=a.uuid,function(e){return e.uuid!==u})),d=Object(L.a)(e.nextUpQueues);-1!==i?d[i].children[n].intervals=l:d[n].intervals=l;var p=d.map($);return Object(q.a)(Object(q.a)({},e),{},{nextUpQueues:p})},Ce=function(e,t){var n=t.textComments,a=Object(q.a)(Object(q.a)({},e),{},{textComments:n});return Object(q.a)(Object(q.a)({},a),{},{feed:E(a)})},_e=function(e,t){var n=[].concat(Object(L.a)(e.textComments),[t.textComment]),a=Object(q.a)(Object(q.a)({},e),{},{textComments:n});return Object(q.a)(Object(q.a)({},a),{},{feed:E(a)})},Se=function(e,t){var n=e.textComments.filter((function(e){return e.uuid!==t.textCommentUuid})),a=Object(q.a)(Object(q.a)({},e),{},{textComments:n});return Object(q.a)(Object(q.a)({},a),{},{feed:E(a)})},Me=function(e,t){var n,a=t.textCommentModifications,r=a.modified,c=a.deleted,s=t.textCommentUuid,i=Object(L.a)(e.textComments),u=i.findIndex((function(e){return e.uuid===s})),o=i[u],l=Object(L.a)(o.modifications);if(-1!==(n=l.findIndex((function(e){return e.uuid===r.uuid})))?l[n]=r:(l.push(r),l=l.sort((function(e,t){return e.startPtr-t.startPtr}))),c)for(var d=function(e){var t=c[e];-1!==(n=l.findIndex((function(e){return e.uuid===c.uuid})))&&(l=l.filter((function(e){return e.uuid!==t.uuid})))},p=0;p<c.length;p++)d(p);return i[u].modifications=l,Object(q.a)(Object(q.a)({},e),{},{textComments:i})},Te=function(e,t){var n=e.textComments.findIndex((function(e){return e.uuid===t.textCommentUuid})),a=Object(L.a)(e.textComments);return a[n].modifications=[],Object(q.a)(Object(q.a)({},e),{},{textComments:a})},Ue=function(e,t){var n=t.voiceRecordings,a=Object(q.a)(Object(q.a)({},e),{},{voiceRecordings:n});return Object(q.a)(Object(q.a)({},a),{},{feed:E(a)})},Ne=function(e,t){var n=[].concat(Object(L.a)(e.voiceRecordings),[t.voiceRecording]),a=Object(q.a)(Object(q.a)({},e),{},{voiceRecordings:n});return Object(q.a)(Object(q.a)({},a),{},{feed:E(a)})},Be=function(e,t){var n=e.voiceRecordings.filter((function(e){return e.uuid!==t.voiceRecordingUuid})),a=Object(q.a)(Object(q.a)({},e),{},{voiceRecordings:n});return Object(q.a)(Object(q.a)({},a),{},{feed:E(a)})},Qe=function(e,t){return Object(q.a)(Object(q.a)({},e),{},{userSettings:Object(q.a)(Object(q.a)({},e.userSettings),t)})},Ae=function(e,t){return Object(q.a)(Object(q.a)({},e),{},{userSettings:t.userSettings})},Ie={nextUpQueues:[],lastUpQueues:[],_lastPlayed:void 0,textComments:[],voiceRecordings:[],feed:[],userSettings:void 0,trackMarkerMap:{},playback:{controlsEnabled:!1,spotifyApi:void 0,youTubeApi:void 0,appleMusic:{},isPlaying:!1,queuedUp:!1,noopNextTrack:!1,addToQueueTimeoutId:void 0,isReady:!1,files:{},volumeLevel:{audio:1,voice:1}}},Re=Object(F.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"stream/set":return ae(e,t.payload);case"stream/play":return re(e,t.payload);case"stream/pause":return ce(e,t.payload);case"stream/prevTrack":return se(e,t.payload);case"stream/nextTrack":return ie(e,t.payload);case"queue/listSet":return ee(e,t.payload);case"queue/deleteNode":return te(e,t);case"queue/deleteChildNode":return ne(e,t);case"textComment/listSet":return Ce(e,t.payload);case"textComment/create":return _e(e,t.payload);case"textComment/delete":return Se(e,t.payload);case"textCommentModification/create":return Me(e,t.payload);case"textComment/clearModifications":return Te(e,t.payload);case"voiceRecording/create":return Ne(e,t);case"voiceRecording/listSet":return Ue(e,t.payload);case"voiceRecording/delete":return Be(e,t);case"feed/update":return Z(e);case"user/get-settings":return Ae(e,t);case"userSettings/update":return Qe(e,t.payload);case"marker/create":return H(e,t.payload);case"marker/delete":return J(e,t.payload);case"marker/list":return W(e,t.payload);case"queueInterval/create":return we(e,t.payload);case"queueInterval/delete":return Pe(e,t.payload);case"playback/disable":return ve(e);case"playback/enable":return Oe(e);case"playback/appleMusic":return ue(e,t.payload);case"playback/spotify":return oe(e,t.payload);case"playback/youTube":return le(e,t.payload);case"playback/addToQueue":return de(e);case"playback/plannedNextTrack":return pe(e,t.payload);case"playback/start":return be(e);case"playback/started":return je(e);case"playback/addToQueueReschedule":return fe(e);case"playback/addToQueueScheduled":return he(e,t.payload);case"playback/nextSeekScheduled":return xe(e,t.payload);case"playback/loadFiles":return me(e,t.payload);case"playback/cycleVolumeLevelAudio":return ye(e);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0})),De=function(e,t){var n=t.nowPlaying.track.service;if(n===A)window.MusicKit.getInstance().player.pause();else if(n===I)e.spotifyApi.pause();else if(n===R)e.youTubeApi.pauseVideo();else if(n===D)for(var a=t.nowPlaying.track.uuid,r=e.files[a],c=0,s=Object.entries(r);c<s.length;c++){var i=Object(d.a)(s[c],2),u=(i[0],i[1]);u.paused&&u.pause()}},Fe=function(e,t){var n=t.nowPlaying.track.service;if(n===A)window.MusicKit.getInstance().player.play();else if(n===I)e.spotifyApi.play();else if(n===R)e.youTubeApi.playVideo();else if(n===D){var a=B(t,t.startedAt)[2],r=t.nowPlaying.track.uuid;e.files[r][a].play()}},qe=function(e,t,n){var a=B(t,n),r=a[0],c=a[2],s=t.nowPlaying.track.service;if(s===A)window.MusicKit.getInstance().player.seekToTime(r/1e3);else if(s===I)e.spotifyApi.seek(r);else if(s===R)e.youTubeApi.seekTo(r/1e3),e.youTubeApi.playVideo();else if(s===D){for(var i=t.nowPlaying.track.uuid,u=e.files[i],o=u[c],l=0,p=Object.entries(u);l<p.length;l++){var b=Object(d.a)(p[l],2),j=b[0],f=b[1];j!==c&&(f.paused||f.pause())}o.currentTime=r/1e3,o.play()}},Le=function(e,t){var n=t.nowPlaying.track.service;n===A?window.MusicKit.getInstance().player.skipToNextItem():n===I&&e.spotifyApi.skipToNext()},Ve=function(e,t,n){if(n){var a=t.nowPlaying.track.service,r=n.track.service;if(r===A){var c=window.MusicKit.getInstance();c.player.prepareToPlay(n.track.externalId),a===A&&0===n.playbackIntervals[0].startPosition&&c.playNext({song:n.track.externalId})}a===I&&r===I&&0===n.playbackIntervals[0].startPosition&&e.spotifyApi.queue(n.track.externalId),r===D&&w(n.track.uuid).then((function(e){Re.dispatch(e.redux)}))}},Ee=n(10),ze=n(33),Ze=n.n(ze);var He=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(!1),f=Object(d.a)(j,2),h=f[0],x=f[1],v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m(c,p);case 3:if((n=e.sent).access&&n.refresh){e.next=6;break}return e.abrupt("return");case 6:return localStorage.setItem("accessToken",n.access),localStorage.setItem("refreshToken",n.refresh),e.next=10,y();case 10:window.location.href="/app/search";case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:Ze.a.Login,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("h3",{children:"Sign in"}),Object(a.jsx)("p",{children:"Contact a system administrator for login information."}),Object(a.jsx)("p",{children:"At this time, new registrations are on a case by case basis."}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{className:Ze.a.FormBlock,children:["Username\xa0\xa0",Object(a.jsx)("input",{type:"text",name:"username",placeholder:"username",value:c,onChange:function(e){s(e.target.value)}})]}),Object(a.jsxs)("label",{className:Ze.a.FormBlock,children:["Password\xa0\xa0",Object(a.jsx)("input",{type:"password",name:"password",placeholder:"password",value:p,onChange:function(e){b(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{className:Ze.a.FormBlock,children:[Object(a.jsx)("input",{type:"checkbox",name:"remember-me",value:h,onChange:function(e){x(e.target.value)}}),"Remember Me"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:Ze.a.FormBlock,children:[Object(a.jsx)("button",{type:"submit",children:"Sign In"}),Object(a.jsxs)("span",{children:["\xa0\xa0",Object(a.jsx)(Ee.b,{to:"/forgotpassword",children:"Forgot Password?"})]})]})]})},Je=n(7),We=n(77),Ke=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/users/user/get-settings");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/users/user/update-settings/",{field:t,value:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=n(11),Ge=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/users/user/connect-spotify/",{code:t,error:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var $e=function(e){return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.search,n=new URLSearchParams(t),a=n.get("code"),r=n.get("error"),e.next=3,Ge(a,r);case 3:window.location.href="../app/search";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsx)("p",{children:"Redirecting..."})},et=n(17),tt=n.n(et),nt=n(28),at=n.n(nt),rt=n(80),ct=n.n(rt),st=n(41),it=n.n(st),ut=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/voice-recording/create/",{audioFile:t,transcriptData:n,transcriptFinal:a});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ot=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/voice-recording/delete/",{voiceRecordingUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=n(81),dt=n(86),pt=n.n(dt),bt="bold",jt="italicize",ft="strikethrough",ht="highlight",xt=[bt,jt,ft,ht],vt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment-modification/create/",{textCommentUuid:t,style:n,anchorOffset:a,focusOffset:r});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();var Ot=Object(Je.b)((function(e){return{}}))((function(e){var t=e.textColor,n=Object(r.useRef)(null),c=Object(r.useState)(!0),s=Object(d.a)(c,2),i=s[0],u=s[1],p=Object(r.useState)(null),b=Object(d.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)(null),x=Object(d.a)(h,2),v=x[0],O=x[1],m=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.data.uuid,t.next=3,vt(a,n,j,v);case 3:r=t.sent,e.dispatch(r.redux),u(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.getSelection(),n=parseInt(t.anchorNode.parentNode.getAttribute("offset"))-1,a=parseInt(t.focusNode.parentNode.getAttribute("offset")),u(!0),f(n),O(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),f(null),O(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:pt.a.NotableText,style:{color:t},children:[Object(a.jsx)("p",{ref:n,children:function(){for(var t=e.data,n=t.text,r=t.modifications,c=[],s=0;s<n.length;s++)c[s]=new Set;for(var i=0;i<r.length;i++)for(var u=r[i],o=u.startPtr;o<u.endPtr;o++)c[o].add(u.style);for(var l=Object(a.jsx)(a.Fragment,{}),d=0;d<c.length;d++){var p=n[d],b=c[d],j={};b.has(bt)&&(j.fontWeight="bold"),b.has(jt)&&(j.fontStyle="italic"),b.has(ft)&&(j.textDecoration="line-through"),b.has(ht)&&(j.backgroundColor="yellow"),l=Object(a.jsxs)(a.Fragment,{children:[l,Object(a.jsx)("span",{offset:d,style:j,children:p})]})}return l}()}),Object(a.jsx)(lt.a,{selectionRef:n,onTextSelect:y,onTextUnselect:k,isOpen:i,children:xt.map((function(e,t){return Object(a.jsx)("button",{type:"button",onClick:Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:case"end":return t.stop()}}),t)}))),children:e},t)}))})]})})),mt=n(87),yt=n.n(mt),kt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment/delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/comments/text-comment-modification/list-delete/",{textCommentUuid:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var wt=Object(Je.b)((function(e){return{}}))((function(e){var t,n=e.data,r=n.uuid,c=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(r);case 2:n=t.sent,e.dispatch(n.redux);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt(r);case 2:return n=t.sent,t.next=5,e.dispatch(n.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t="history"===n.renderStatus?"grey":"display"===n.renderStatus?"black":"red",Object(a.jsxs)("div",{className:yt.a.TextComment,children:[Object(a.jsx)(Ot,{data:n,textColor:t}),Object(a.jsx)("button",{type:"button",onClick:s,children:"Clear modifications"}),Object(a.jsx)("button",{type:"button",onClick:c,children:"Delete"})]})})),Pt=n(47),Ct=n(88),_t=n.n(Ct);var St=Object(Je.b)((function(e){return{}}))((function(e){var t=e.data,n=t.uuid,r=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(n);case 2:a=t.sent,e.dispatch(a.redux);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:_t.a.ABCNotationDisplay,children:[Object(a.jsx)(Pt.Notation,{notation:t.text,engraverParams:{staffwidth:278}}),Object(a.jsx)("button",{type:"button",onClick:r,children:"Delete"})]})})),Mt=n(21),Tt=n.n(Mt);var Ut=Object(Je.b)((function(e){return{}}))((function(e){var t=e.trackUuid,n=e.textCommentTimestamp,c=e.isOpen,s=e.closeModal,i=Object(r.useState)(!1),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(""),f=Object(d.a)(j,2),h=f[0],v=f[1],O=function(){var a=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return b(!0),a.next=3,x(h,"abc_notation",t,n);case 3:r=a.sent,e.dispatch(r.redux),s(),v(""),b(!1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(a.jsxs)(Tt.a,{isOpen:c,ariaHideApp:!1,children:[Object(a.jsx)("button",{onClick:s,disabled:p,children:"Close"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:h,onChange:function(e){v(e.target.value)},disabled:p}),Object(a.jsx)(Pt.Notation,{notation:h,engraverParams:{staffwidth:278}})]}),Object(a.jsx)("button",{onClick:O,disabled:p,children:"Post"})]})})),Nt=n(89),Bt=n.n(Nt);var Qt=Object(Je.b)((function(e){return{}}))((function(e){var t=e.data,n=t.uuid,r=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot(n);case 2:e.dispatch({type:"voiceRecording/delete",voiceRecordingUuid:n});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:Bt.a.VoiceRecording,children:[Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"null"===t.transcriptFinal?"<transcript not available>":t.transcriptFinal})}),Object(a.jsx)("button",{type:"submit",onClick:r,children:"Delete"})]})}));var At=Object(Je.b)((function(e){return{stream:e.stream,textComments:e.textComments,voiceRecordings:e.voiceRecordings,feed:e.feed}}))((function(e){var t=e.feed,n=e.stream,c=Object(r.useState)(""),s=Object(d.a)(c,2),i=s[0],u=s[1],p=Object(r.useState)(void 0),b=Object(d.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)(void 0),v=Object(d.a)(h,2),O=v[0],m=v[1],y=Object(r.useState)(!1),k=Object(d.a)(y,2),g=k[0],w=k[1],P=Object(r.useState)(new ct.a({bitRate:320})),C=Object(d.a)(P,1)[0],_=Object(r.useState)([]),S=Object(d.a)(_,1)[0],M=Object(r.useState)(!1),T=Object(d.a)(M,2),U=T[0],N=T[1];Object(r.useEffect)((function(){var t=setInterval((function(){e.dispatch({type:"feed/update"})}),50);return function(){clearInterval(t)}}),[]);var Q=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),"text",t.next=4,x(i,"text",j,O);case 4:a=t.sent,e.dispatch(a.redux),m(void 0),f(void 0),u("");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=Object(nt.useSpeechRecognition)(),I=A.transcript,R=A.resetTranscript;return Object(a.jsxs)("div",{className:it.a.FeedApp,children:[Object(a.jsx)("div",{className:it.a.Feed,children:Object(a.jsx)("div",{className:it.a.FeedWrapper,children:t.map((function(e,t){if("TextComment"===e.class){if("text"===e.format)return Object(a.jsx)(wt,{data:e},t);if("abc_notation"===e.format)return Object(a.jsx)(St,{data:e},t)}else if("VoiceRecording"===e.class)return Object(a.jsx)(Qt,{data:e},t);return Object(a.jsx)(a.Fragment,{})}))})}),Object(a.jsxs)("form",{className:it.a.CreateTextComment,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("button",{type:"button",onClick:function(){var e=B(n,n.startedAt)[0];m(e),f(n.nowPlaying.track.uuid),N(!0)},disabled:!n.isPlaying,children:"Notation"}),Object(a.jsx)(Ut,{trackUuid:j,textCommentTimestamp:O,isOpen:U,closeModal:function(){N(!1)}}),Object(a.jsx)("button",{type:"button",onClick:function(){g?(at.a.browserSupportsSpeechRecognition()&&at.a.stopListening(),C.stop().getMp3().then((function(t){var n=Object(d.a)(t,2),a=n[0],r=n[1];Object(l.a)(o.a.mark((function t(){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new File(a,"voice.mp3",{type:r.type,lastModified:Date.now()}),t.next=3,ut(n,JSON.stringify(S),I);case 3:return c=t.sent,t.next=6,e.dispatch({type:"voiceRecording/create",voiceRecording:c.data});case 6:at.a.browserSupportsSpeechRecognition()&&R();case 7:case"end":return t.stop()}}),t)})))()})),w(!1)):(at.a.browserSupportsSpeechRecognition()&&at.a.startListening({continuous:!0}),C.start(),w(!0))},disabled:!n.isPlaying,children:"Record"}),Object(a.jsx)("input",{type:"text",name:"text",placeholder:"text",value:i,onChange:function(e){if(!j){var t=B(n,n.startedAt)[0];m(t),f(n.nowPlaying.track.uuid)}u(e.target.value)},disabled:!n.isPlaying}),Object(a.jsx)("button",{type:"submit",disabled:!n.isPlaying,children:"Send"})]})]})})),It=n(90),Rt=n.n(It);var Dt=function(e){return Object(a.jsx)("div",{className:Rt.a.MiniFeed,children:Object(a.jsx)("h3",{children:Object(a.jsx)("i",{children:"Feed..."})})})},Ft=n(60),qt=n.n(Ft),Lt=n(29),Vt=n.n(Lt),Et=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/marker/create/",{trackUuid:t,timestampMilliseconds:n,queueUuid:a});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),zt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/marker/delete/",{markerUuid:t,queueUuid:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/streams/marker/list",{trackUuid:t,queueUuid:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r,c,s){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue-interval/create/",{queueUuid:t,lowerBoundMarkerUuid:n,upperBoundMarkerUuid:a,purpose:r,repeatCount:c,parentQueueUuid:s});case 2:return i=e.sent,e.next=5,i.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,s){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue-interval/delete/",{queueIntervalUuid:t,queueUuid:n,parentQueueUuid:a});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();var Wt=Object(Je.b)((function(e){return{}}))((function(e){var t=e.data,n=t.queueInterval,r=t.queueUuid,c=t.parentQueueUuid,s=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jt(n.uuid,r,c);case 2:return a=t.sent,t.next=5,e.dispatch(a.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=n.purpose,u=n.lowerBound?n.lowerBound.timestampMilliseconds/1e3:"beginning",d=n.upperBound?n.upperBound.timestampMilliseconds/1e3:"end";return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:["[",i,"]",u," =>",d]}),Object(a.jsx)("button",{onClick:s,children:"Delete"})]})}));var Kt=Object(Je.b)((function(e){return{}}))((function(e){var t=e.data,n=t.trackMarker,r=t.queueUuid,c=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zt(n.uuid,r);case 2:return a=t.sent,t.next=5,e.dispatch(a.redux);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:["@ ",n.timestampMilliseconds/1e3]}),Object(a.jsx)("button",{onClick:c,children:"Delete"})]})}));var Xt=Object(Je.b)((function(e){return{trackMarkerMap:e.trackMarkerMap}}))((function(e){var t=e.data,n=t.uuid,c=t.parentUuid,s=e.shouldOpenModal,i=e.setShouldOpenModal,u=e.isOpen,p=e.openModal,b=e.closeModal,j=e.trackMarkerMap[n]||[],f=Object(r.useState)("muted"),h=Object(d.a)(f,2),x=h[0],v=h[1],O=Object(r.useState)(""),m=Object(d.a)(O,2),y=m[0],k=m[1],g=Object(r.useState)("null"),w=Object(d.a)(g,2),P=w[0],C=w[1],_=Object(r.useState)("null"),S=Object(d.a)(_,2),M=S[0],T=S[1],U=function(){var a=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Et(t.track.uuid,y,n);case 2:return r=a.sent,a.next=5,e.dispatch(r.redux);case 5:k("");case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),N=function(){var n=Object(l.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ht(t.uuid,P,M,x,null,c);case 2:return a=n.sent,n.next=5,e.dispatch(a.redux);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){function a(){return(a=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Zt(t.track.uuid,n);case 2:return r=a.sent,a.next=5,e.dispatch(r.redux);case 5:p();case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}s&&(i(!1),function(){a.apply(this,arguments)}())}),[s]),Object(a.jsxs)(Tt.a,{isOpen:u,ariaHideApp:!1,children:[Object(a.jsx)("button",{onClick:b,children:"Close"}),Object(a.jsx)("p",{children:"Markers"}),j.map((function(e,t){return Object(a.jsx)(Kt,{data:{trackMarker:e,queueUuid:n}},t)})),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",name:"timestampMilliseconds",placeholder:"timestamp",value:y,onChange:function(e){k(e.target.value)}}),Object(a.jsx)("button",{onClick:U,children:"Create Marker"})]}),Object(a.jsx)("p",{children:"Intervals"}),t.intervals.map((function(e,t){return Object(a.jsx)(Wt,{data:{queueInterval:e,queueUuid:n,parentQueueUuid:c}},t)})),Object(a.jsxs)("div",{children:[Object(a.jsxs)("select",{value:x,onChange:function(e){v(e.target.value)},children:[Object(a.jsx)("option",{value:"muted",children:"Muted"}),Object(a.jsx)("option",{value:"drums",children:"Solo drums"}),Object(a.jsx)("option",{value:"vocals",children:"Solo vocals"}),Object(a.jsx)("option",{value:"bass",children:"Solo bass"}),Object(a.jsx)("option",{value:"other",children:"Solo other"})]}),Object(a.jsxs)("select",{value:P,onChange:function(e){C(e.target.value)},children:[Object(a.jsx)("option",{value:"null",children:"Beginning"}),j.map((function(e,t){return Object(a.jsxs)("option",{value:e.uuid,children:["@ ",e.timestampMilliseconds]},t)}))]}),Object(a.jsxs)("select",{value:M,onChange:function(e){T(e.target.value)},children:[j.map((function(e,t){return Object(a.jsxs)("option",{value:e.uuid,children:["@ ",e.timestampMilliseconds]},t)})),Object(a.jsx)("option",{value:"null",children:"End"})]}),Object(a.jsx)("button",{onClick:N,children:"Create Interval"})]})]})})),Yt=n(48),Gt=n.n(Yt);var $t=Object(Je.b)((function(e){return{stream:e.stream,lastUp:e.lastUp}}))((function(e){var t,n=e.data,c=e.stream,s=e.lastUp,i=Object(r.useState)(!1),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(!1),f=Object(d.a)(j,2),h=f[0],x=f[1],v=(null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t?void 0:t.index)||(null===s||void 0===s?void 0:s.index),O=!v||v<n.index,m=n.parentUuid&&O?"-":"";return Object(a.jsxs)("div",{className:Gt.a.QueueTrack,children:[Object(a.jsxs)("span",{children:[m,n.track.name]}),O&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:Gt.a.Button,type:"button",onClick:function(){x(!0)},children:"Edit"}),Object(a.jsx)("button",{className:Gt.a.Button,type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"})]}),Object(a.jsx)(Xt,{data:n,isOpen:p,shouldOpenModal:h,setShouldOpenModal:x,openModal:function(){b(!0)},closeModal:function(){b(!1)}})]})}));var en=Object(Je.b)((function(e){return{stream:e.stream,lastUpQueues:e.lastUpQueues}}))((function(e){var t,n=e.data,c=e.stream,s=e.lastUpQueues,i=s[s.length-1],u=n.uuid,p=(null===c||void 0===c?void 0:c.nowPlaying)&&(null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t?void 0:t.parentUuid)===u||!(null===c||void 0===c?void 0:c.nowPlaying)&&(null===i||void 0===i?void 0:i.parentUuid)&&(null===i||void 0===i?void 0:i.parentUuid)===u,b=Object(r.useState)(p),j=Object(d.a)(b,2),f=j[0],h=j[1],x=function(e){h(!f)};return Object(a.jsxs)("div",{className:Vt.a.QueueCollection,children:[Object(a.jsxs)("div",{className:Vt.a.Item,children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{children:n.collection.name})}),"\xa0\xa0",n.children.length>0&&!f&&Object(a.jsx)("button",{className:Vt.a.Button,type:"button",onClick:x,children:"More"}),"\xa0\xa0",n.children.length>0&&f&&Object(a.jsx)("button",{className:Vt.a.Button,type:"button",onClick:x,children:"Less"}),"\xa0\xa0",!p&&Object(a.jsx)("button",{className:Vt.a.Button,type:"button",onClick:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.destroy(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Delete"})]}),n.children.length>0&&f&&Object(a.jsx)("div",{className:Vt.a.Children,children:n.children.map((function(t,n){return Object(a.jsx)($t,{data:t,destroy:e.destroy},n)}))})]})})),tn=n(201);var nn=Object(Je.b)((function(e){return{stream:e.stream,nextUpQueues:e.nextUpQueues,lastUpQueues:e.lastUpQueues}}))((function(e){var t,n,r=e.nextUpQueues,c=e.stream,s=null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.name,i=G(r,c),u=new Date(Date.now()+i),d=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.uuid,t.next=3,N(a);case 3:(r=n.parentUuid)?e.dispatch({type:"queue/deleteChildNode",parentUuid:r,queueUuid:a}):e.dispatch({type:"queue/deleteNode",queueUuid:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:qt.a.QueueApp,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:"Last up..."})}),Object(a.jsx)("div",{children:e.lastUpQueues.map((function(e,t){if(e.track)return Object(a.jsx)($t,{data:e,destroy:function(){}},t)}))}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:"Now playing..."})}),s?Object(a.jsx)("p",{children:s}):Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"Nothing is playing..."})})]}),Object(a.jsx)("h2",{children:Object(a.jsx)("i",{children:"Next up..."})}),Object(a.jsxs)("div",{children:[r.map((function(e,t){return e.collection?Object(a.jsx)(en,{data:e,destroy:d},e.uuid):e.track?Object(a.jsx)($t,{data:e,destroy:d},e.uuid):void 0})),i?Object(a.jsx)("p",{children:Object(a.jsxs)("i",{children:["Playback will end\xa0",Object(a.jsx)(tn.a,{future:!0,date:u,locale:"en-US"})]})}):Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"There is nothing in the queue."})}),Object(a.jsx)(Ee.b,{to:"/app/search",children:Object(a.jsx)("button",{className:qt.a.AddToQueue,children:"Add to Queue"})})]})]})})),an=n(62),rn=n.n(an);var cn=Object(Je.b)((function(e){return{nextUpQueues:e.nextUpQueues,stream:e.stream}}))((function(e){var t,n,r=e.nextUpQueues,c=e.stream;r.length?(t=function(e){if(e.length){var t,n=[],a=Object(K.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.children.length){var c,s=Object(K.a)(r.children);try{for(s.s();!(c=s.n()).done;){var i=c.value;n.push(i)}}catch(u){s.e(u)}finally{s.f()}}else n.push(r)}}catch(u){a.e(u)}finally{a.f()}return n}}([r[0]]),n=[].concat(Object(L.a)(t),Object(L.a)(r.slice(1)))):n=[];var s=G(r,c),i=new Date(Date.now()+s);return Object(a.jsxs)("div",{className:rn.a.MiniQueue,children:[Object(a.jsx)("h3",{children:Object(a.jsx)("i",{children:"Next up..."})}),s?Object(a.jsx)("p",{children:Object(a.jsxs)("i",{children:["Playback will end\xa0",Object(a.jsx)(tn.a,{future:!0,date:i,locale:"en-US"})]})}):Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"There is nothing in the queue."})}),Object(a.jsx)("div",{children:n.map((function(e,t){var n,r;return Object(a.jsx)("div",{className:rn.a.MiniQueueItem,children:(null===(n=e.track)||void 0===n?void 0:n.name)||(null===(r=e.collection)||void 0===r?void 0:r.name)},t)}))})]})})),sn=n(30),un=n.n(sn),on=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r,c,s,i,u,l){var d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(b,"/music/search",{query:t,providerAppleMusic:n,providerSpotify:a,providerYouTube:r,providerJukeboxRadio:c,formatTrack:s,formatAlbum:i,formatPlaylist:u,formatVideo:l});case 2:return d=e.sent,e.next=5,d.json();case 5:return p=e.sent,e.abrupt("return",p);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,s,i,u,o){return e.apply(this,arguments)}}(),ln=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/streams/queue/create/",{className:t,genericUuid:n});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dn=n(35),pn=n.n(dn),bn=Object(a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M10.5858 13.4142L7.75735 10.5858L6.34314 12L10.5858 16.2427L17.6568 9.1716L16.2426 7.75739L10.5858 13.4142Z",fill:"currentColor"})});var jn=function(e){var t=e.data,n=e.addToQueue,c=Object(r.useState)(!1),s=Object(d.a)(c,2),i=s[0],u=s[1],p=Object(r.useState)(!1),b=Object(d.a)(p,2),j=b[0],f=b[1],h=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,n(t.class,t.uuid);case 3:f(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:pn.a.SearchResult,children:[Object(a.jsxs)("span",{children:[t.provider," ",t.format," ",t.name,"\xa0\xa0\xa0\xa0\xa0"]}),!i&&!j&&Object(a.jsx)("button",{type:"button",className:pn.a.Button,onClick:h,disabled:!1,children:"Add"}),i&&!j&&Object(a.jsx)("button",{type:"button",className:pn.a.Button,disabled:!0,children:Object(a.jsx)("i",{className:pn.a.ggSpinner})}),j&&Object(a.jsx)("button",{type:"button",className:pn.a.Button,disabled:!0,children:bn})]})},fn=n(24),hn=n.n(fn),xn=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r,c){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(j,"/music/track/create/",{audioFile:t,imageFile:n,trackName:a,artistName:r,albumName:c});case 2:return s=e.sent,e.next=5,s.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}();var vn=function(e){var t=Object(r.useState)(0),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(!1),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(""),f=Object(d.a)(j,2),h=f[0],x=f[1],v=Object(r.useState)(""),O=Object(d.a)(v,2),m=O[0],y=O[1],k=Object(r.useState)(""),g=Object(d.a)(k,2),w=g[0],P=g[1],C=Object(r.useState)(""),_=Object(d.a)(C,2),S=_[0],M=_[1],T=Object(r.useState)(""),U=Object(d.a)(T,2),N=U[0],B=U[1],Q=e.isOpen,A=e.closeModal,I=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,xn(h,m,w,S,N);case 3:b(!1),s((function(e){return e+2})),P(""),M(""),B(""),A();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(Tt.a,{isOpen:Q,ariaHideApp:!1,children:[Object(a.jsx)("button",{onClick:A,disabled:p,children:"Close"}),Object(a.jsxs)("div",{className:hn.a.Login,children:[Object(a.jsx)("h3",{children:"Upload"}),Object(a.jsxs)("label",{className:hn.a.FormBlock,children:["Audio file",Object(a.jsx)("input",{type:"file",name:"audioFile",onChange:function(e){x(e.target.files[0])},disabled:p},c)]}),Object(a.jsxs)("label",{className:hn.a.FormBlock,children:["Image file",Object(a.jsx)("input",{type:"file",name:"imageFile",onChange:function(e){y(e.target.files[0])},disabled:p},c+1)]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{className:hn.a.FormBlock,children:["Track name",Object(a.jsx)("input",{type:"text",name:"trackName",placeholder:"Track name",value:w,onChange:function(e){P(e.target.value)},disabled:p})]}),Object(a.jsxs)("label",{className:hn.a.FormBlock,children:["Artist name",Object(a.jsx)("input",{type:"text",name:"artistName",placeholder:"Artist name",value:S,onChange:function(e){M(e.target.value)},disabled:p})]}),Object(a.jsxs)("label",{className:hn.a.FormBlock,children:["Album name",Object(a.jsx)("input",{type:"text",name:"albumName",placeholder:"Album name",value:N,onChange:function(e){B(e.target.value)},disabled:p})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:hn.a.FormBlock,children:Object(a.jsx)("button",{type:"submit",onClick:I,disabled:p,children:"Submit"})})]})]})};var On=Object(Je.b)((function(e){return{}}))((function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),u=Object(d.a)(i,2),p=u[0],b=u[1],j=Object(r.useState)(!0),f=Object(d.a)(j,2),h=f[0],x=f[1],v=Object(r.useState)(!0),O=Object(d.a)(v,2),m=O[0],y=O[1],k=Object(r.useState)(!0),g=Object(d.a)(k,2),w=g[0],P=g[1],C=Object(r.useState)(!0),_=Object(d.a)(C,2),S=_[0],M=_[1],T=Object(r.useState)(!0),N=Object(d.a)(T,2),B=N[0],Q=N[1],A=Object(r.useState)(!0),I=Object(d.a)(A,2),R=I[0],D=I[1],F=Object(r.useState)(!0),q=Object(d.a)(F,2),L=q[0],V=q[1],E=Object(r.useState)(!0),z=Object(d.a)(E,2),Z=z[0],H=z[1],J=Object(r.useState)(!1),W=Object(d.a)(J,2),K=W[0],X=W[1],Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,on(p,h,m,w,S,B,R,L,Z);case 4:t=e.sent,s(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var t=Object(l.a)(o.a.mark((function t(n,a){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ln(n,a);case 2:return t.next=4,U();case 4:r=t.sent,e.dispatch(r.redux);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:un.a.SearchApp,children:[Object(a.jsxs)("label",{children:["\xa0",Object(a.jsx)("input",{type:"text",name:"query",placeholder:"",className:un.a.SearchBar,value:p,onChange:function(e){b(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Y()}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:un.a.FormBlock,children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:h,onChange:function(e){x(e.target.checked)}}),"Apple Music"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:m,onChange:function(e){y(e.target.checked)}}),"Spotify"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",name:"provider.youTube",checked:w,onChange:function(e){P(e.target.checked)}}),"YouTube"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",name:"provider.jukeboxRadio",checked:S,onChange:function(e){M(e.target.checked)}}),"Jukebox Radio"]})]}),Object(a.jsxs)("div",{className:un.a.FormBlock,children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:B,onChange:function(e){Q(e.target.checked)}}),"Track"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:R,onChange:function(e){D(e.target.checked)}}),"Album"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:L,onChange:function(e){V(e.target.checked)}}),"Playlist"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:Z,onChange:function(e){H(e.target.checked)}}),"Video"]})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:un.a.FormBlock,onClick:Y,children:Object(a.jsx)("button",{type:"submit",children:"Search"})})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:un.a.SearchResults,children:c.map((function(e,t){return Object(a.jsx)(jn,{data:e,addToQueue:G},e.uuid)}))}),Object(a.jsx)(vn,{isOpen:K,closeModal:function(){X(!1)}})]})})),mn=n(36),yn=n.n(mn),kn=Object(a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C8.44771 2 8 2.44772 8 3V5C8 5.55228 8.44771 6 9 6C9.55229 6 10 5.55228 10 5V3C10 2.44772 9.55229 2 9 2ZM8 9H16V11C16 13.2091 14.2091 15 12 15C9.79086 15 8 13.2091 8 11V9ZM13 16.917C15.8377 16.441 18 13.973 18 11V7H6V11C6 13.973 8.16229 16.441 11 16.917V22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V16.917ZM14 3C14 2.44772 14.4477 2 15 2C15.5523 2 16 2.44772 16 3V5C16 5.55228 15.5523 6 15 6C14.4477 6 14 5.55228 14 5V3Z",fill:"currentColor"})});var gn=Object(Je.b)((function(e){return{userSettings:e.userSettings,playback:e.playback}}))((function(e){var t,n=Object(Ye.f)(),r=e.userSettings,c=e.playback,s=e.isOpen,i=e.closeModal;return Object(a.jsx)(Tt.a,{isOpen:s,ariaHideApp:!1,children:Object(a.jsxs)("div",{className:yn.a.WelcomeApp,children:[Object(a.jsx)("button",{onClick:i,children:"Close"}),Object(a.jsx)("h2",{children:"Welcome"}),Object(a.jsx)("p",{children:"Where do you want to start?"}),Object(a.jsxs)("button",{className:yn.a.Button,onClick:function(){window.MusicKit.getInstance().musicUserToken?(n.push("/app/search"),i()):c.appleMusic.api.authorize()},disabled:!c.appleMusic.api,children:[c.appleMusic.api&&!(null===(t=c.appleMusic.api)||void 0===t?void 0:t.musicUserToken)&&kn,"Apple Music"]}),"\xa0\xa0\xa0\xa0",Object(a.jsxs)("button",{className:yn.a.Button,onClick:function(){r&&!r.spotify.accessToken?window.location.href=e.userSettings.spotify.authorizationUrl:n.push("/app/search"),i()},disabled:!r,children:[r&&!r.spotify.accessToken&&kn,"Spotify"]}),"\xa0\xa0\xa0\xa0",Object(a.jsx)("button",{className:yn.a.Button,onClick:function(){n.push("/app/search"),i()},children:"YouTube"}),"\xa0\xa0\xa0\xa0",Object(a.jsx)("button",{className:yn.a.Button,onClick:function(){n.push("/app/search"),i()},children:"Library"})]})})})),wn=n(49),Pn=n.n(wn),Cn=n(37),_n=n.n(Cn);var Sn=function(e){var t=e.interval,n="mute"===t.purpose?"mute":"all",r=e.duration,c=(t.endPosition-t.startPosition)/r*400+"px",s="Progress"+(n.charAt(0).toUpperCase()+n.slice(1)),i=[];return i.push(_n.a[s]),0===t.startPosition&&i.push(_n.a.FirstInterval),t.endPosition===r&&i.push(_n.a.LastInterval),Object(a.jsx)("div",{className:"all"===n?_n.a.ProgressParentMuted:_n.a.ProgressParentBare,children:Object(a.jsx)("div",{className:i.join(" "),style:{width:c}})})},Mn=Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M6 17L14 12L6 7V17Z",fill:"currentColor"}),Object(a.jsx)("path",{d:"M18 7H15V12V17H18V7Z",fill:"currentColor"})]}),Tn=Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M18 17L10 12L18 7V17Z",fill:"currentColor"}),Object(a.jsx)("path",{d:"M6 7H9V17H6V7Z",fill:"currentColor"})]}),Un=Object(a.jsx)("svg",{width:"22",height:"18",viewBox:"0 0 22 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M11 18L21.3923 0.75L0.607696 0.749998L11 18Z",fill:"#5BC9EC"})});var Nn=Object(Je.b)((function(e){return{stream:e.stream}}))((function(e){var t,n,c=function(e){var t,n=null===e||void 0===e?void 0:e.playbackIntervals,a=[];if(!(null===n||void 0===n?void 0:n.length))return a;var r,c=Object(K.a)(n);try{for(c.s();!(r=c.n()).done;){var s=r.value;t&&t!==s.startPosition&&a.push({startPosition:t,endPosition:s.startPosition,purpose:"mute"}),a.push(s),t=s.endPosition}}catch(l){c.e(l)}finally{c.f()}var i=a[0].startPosition;0!==i&&a.unshift({startPosition:0,endPosition:i,purpose:"mute"});var u=a[a.length-1].endPosition,o=e.track.durationMilliseconds;return u!==o&&a.push({startPosition:u,endPosition:o,purpose:"mute"}),a}(e.queue),s=e.stream,i=(null===(t=s.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.durationMilliseconds)||0,u=B(s,s.startedAt)[0]/i*400+"px",o=Object(r.useState)(0),l=Object(d.a)(o,2),p=(l[0],l[1]);return Object(r.useEffect)((function(){var e=setInterval((function(){p((function(e){return e+1}))}),50);return function(){clearInterval(e)}}),[]),Object(a.jsxs)("div",{className:Pn.a.ParentProgressBar,children:[Object(a.jsx)("div",{className:Pn.a.ProgressPointer,style:{left:u},children:Un}),Object(a.jsx)("div",{className:Pn.a.ProgressBar,children:c.map((function(e,t){return Object(a.jsx)(Sn,{interval:e,duration:i},t)}))})]})})),Bn=n(18),Qn=n.n(Bn);var An=Object(Je.b)((function(e){return{stream:e.stream,lastUpQueues:e.lastUpQueues,nextUpQueues:e.nextUpQueues,playback:e.playback}}))((function(e){var t,n,c,s,i,u=e.stream,o=e.playback,l=null===(t=u.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.imageUrl,p=null===u||void 0===u||null===(c=u.nowPlaying)||void 0===c?void 0:c.track,b=X(e.lastUpQueues),j=Y(e.nextUpQueues),f=Object(r.useState)(0),h=Object(d.a)(f,2),x=(h[0],h[1]);return 1===(null===u||void 0===u||null===(s=u.nowPlaying)||void 0===s?void 0:s.index)||b||window.location.reload(),Object(r.useEffect)((function(){var e=setInterval((function(){x((function(e){return e+1}))}),100);return function(){clearInterval(e)}}),[]),Object(a.jsxs)("div",{className:Qn.a.Player,children:[Object(a.jsxs)("div",{className:Qn.a.Div,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:"Last..."})}),Object(a.jsx)("p",{children:null===b||void 0===b||null===(i=b.track)||void 0===i?void 0:i.name})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:Qn.a.Div,children:[Object(a.jsx)("h2",{children:Object(a.jsx)("i",{children:"Now playing..."})}),l&&Object(a.jsx)("img",{alt:"",src:l,className:Qn.a.Image}),((null===u||void 0===u?void 0:u.isPlaying)||(null===u||void 0===u?void 0:u.isPaused))&&Object(a.jsx)("h3",{children:null===p||void 0===p?void 0:p.name}),!(null===u||void 0===u?void 0:u.isPlaying)&&!(null===u||void 0===u?void 0:u.isPaused)&&Object(a.jsx)("h3",{children:Object(a.jsx)("i",{children:"Waiting..."})})]}),Object(a.jsx)("div",{className:Qn.a.Div,children:Object(a.jsx)(Nn,{queue:null===u||void 0===u?void 0:u.nowPlaying})}),Object(a.jsxs)("div",{className:Qn.a.Div,children:[Object(a.jsx)("button",{className:Qn.a.Button,onClick:e.prevTrack,disabled:!o.controlsEnabled,children:Tn}),Object(a.jsx)("button",{className:Qn.a.Button,onClick:e.nextTrack,disabled:!o.controlsEnabled,children:Mn})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:Qn.a.Div,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:"Next..."})}),Object(a.jsx)("p",{children:null===j||void 0===j?void 0:j.track.name})]}),Object(a.jsx)(Ee.b,{to:"/app/queue",children:Object(a.jsx)("button",{className:Qn.a.MoreNextUp,children:"More"})})]})})),In=n(91),Rn=n.n(In);var Dn=Object(Je.b)((function(e){return{stream:e.stream}}))((function(e){var t,n,r,c,s=e.stream,i=null===(t=s.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.imageUrl,u=null===s||void 0===s||null===(r=s.nowPlaying)||void 0===r||null===(c=r.track)||void 0===c?void 0:c.name;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:Object(a.jsx)("i",{children:"Now playing..."})}),i&&Object(a.jsx)("img",{alt:"",src:i,className:Rn.a.Image}),u?Object(a.jsx)("p",{children:u}):Object(a.jsx)("p",{children:Object(a.jsx)("i",{children:"Nothing is playing..."})})]})})),Fn=n(63),qn=(n(194),n(19)),Ln=n.n(qn),Vn=Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#000000",children:[Object(a.jsxs)("g",{children:[Object(a.jsx)("rect",{fill:"none",height:"48",width:"48"}),Object(a.jsx)("rect",{fill:"none",height:"48",width:"48"}),Object(a.jsx)("rect",{fill:"none",height:"48",width:"48"})]}),Object(a.jsxs)("g",{children:[Object(a.jsx)("g",{}),Object(a.jsxs)("g",{children:[Object(a.jsx)("path",{d:"M18,13c0,3.31-2.69,6-6,6s-6-2.69-6-6s2.69-6,6-6v4l5-5l-5-5v4c-4.42,0-8,3.58-8,8c0,4.42,3.58,8,8,8s8-3.58,8-8H18z"}),Object(a.jsx)("polygon",{points:"10.9,16 10.9,11.73 10.81,11.73 9.04,12.36 9.04,13.05 10.05,12.74 10.05,16"}),Object(a.jsx)("path",{d:"M14.32,11.78c-0.18-0.07-0.37-0.1-0.59-0.1s-0.41,0.03-0.59,0.1s-0.33,0.18-0.45,0.33s-0.23,0.34-0.29,0.57 s-0.1,0.5-0.1,0.82v0.74c0,0.32,0.04,0.6,0.11,0.82s0.17,0.42,0.3,0.57s0.28,0.26,0.46,0.33s0.37,0.1,0.59,0.1s0.41-0.03,0.59-0.1 s0.33-0.18,0.45-0.33s0.22-0.34,0.29-0.57s0.1-0.5,0.1-0.82V13.5c0-0.32-0.04-0.6-0.11-0.82s-0.17-0.42-0.3-0.57 S14.49,11.85,14.32,11.78z M14.33,14.35c0,0.19-0.01,0.35-0.04,0.48s-0.06,0.24-0.11,0.32s-0.11,0.14-0.19,0.17 s-0.16,0.05-0.25,0.05s-0.18-0.02-0.25-0.05s-0.14-0.09-0.19-0.17s-0.09-0.19-0.12-0.32s-0.04-0.29-0.04-0.48v-0.97 c0-0.19,0.01-0.35,0.04-0.48s0.06-0.23,0.12-0.31s0.11-0.14,0.19-0.17s0.16-0.05,0.25-0.05s0.18,0.02,0.25,0.05 s0.14,0.09,0.19,0.17s0.09,0.18,0.12,0.31s0.04,0.29,0.04,0.48V14.35z"})]})]})]}),En=Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#000000",children:[Object(a.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(a.jsx)("path",{d:"M11.99 5V1l-5 5 5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6h-2c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8zm-1.1 11h-.85v-3.26l-1.01.31v-.69l1.77-.63h.09V16zm4.28-1.76c0 .32-.03.6-.1.82s-.17.42-.29.57-.28.26-.45.33-.37.1-.59.1-.41-.03-.59-.1-.33-.18-.46-.33-.23-.34-.3-.57-.11-.5-.11-.82v-.74c0-.32.03-.6.1-.82s.17-.42.29-.57.28-.26.45-.33.37-.1.59-.1.41.03.59.1.33.18.46.33.23.34.3.57.11.5.11.82v.74zm-.85-.86c0-.19-.01-.35-.04-.48s-.07-.23-.12-.31-.11-.14-.19-.17-.16-.05-.25-.05-.18.02-.25.05-.14.09-.19.17-.09.18-.12.31-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32.11.14.19.17.16.05.25.05.18-.02.25-.05.14-.09.19-.17.09-.19.11-.32.04-.29.04-.48v-.97z"})]}),zn=Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#000000",children:[Object(a.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(a.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]}),Zn=Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#000000",children:[Object(a.jsx)("g",{children:Object(a.jsx)("rect",{fill:"none",height:"24",width:"24"})}),Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M9,16h2V8H9V16z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8 s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z M13,16h2V8h-2V16z"})})})]}),Hn=Object(a.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 8.95439L17.6352 7.82736C19.0102 7.55235 20 6.34501 20 4.94274C20 3.08637 18.3017 1.69406 16.4813 2.05813L12.4117 2.87206C11.0094 3.15252 10 4.38376 10 5.8138V13.8895C9.41165 13.5492 8.72857 13.3544 8 13.3544C5.79086 13.3544 4 15.1453 4 17.3544C4 19.5635 5.79086 21.3544 8 21.3544C10.2091 21.3544 12 19.5635 12 17.3544V8.95439ZM16.8736 4.01929L12.8039 4.83322C12.3365 4.92671 12 5.33712 12 5.8138V6.91479L17.2429 5.8662C17.6831 5.77816 18 5.39165 18 4.94274C18 4.34846 17.4563 3.90274 16.8736 4.01929ZM10 17.3544C10 16.2498 9.10457 15.3544 8 15.3544C6.89543 15.3544 6 16.2498 6 17.3544C6 18.459 6.89543 19.3544 8 19.3544C9.10457 19.3544 10 18.459 10 17.3544Z",fill:"currentColor"})});var Jn=Object(Je.b)((function(e){return{stream:e.stream,playback:e.playback,nextUpQueues:e.nextUpQueues}}))((function(e){var t=e.playbackControls,n=e.stream,r=e.playback,c=r.volumeLevel.audio,s=e.nextUpQueues,i=!n.nowPlaying||n.isPaused||!r.controlsEnabled,u=!n.nowPlaying||!r.controlsEnabled,o=!n.nowPlaying&&!!s.length,l=!n.nowPlaying&&!s.length,d=function(e){i||t.seek(e)};return Object(a.jsxs)("div",{className:Ln.a.BottomBar,children:[Object(a.jsxs)("div",{className:Ln.a.ExtraControl,children:[o&&Object(a.jsx)("button",{className:Ln.a.ExtraControlButton,onClick:function(){t.nextTrack()},children:"Start Playback"}),l&&Object(a.jsx)(Ee.b,{to:"/app/search",children:Object(a.jsx)("button",{className:Ln.a.ExtraControlButton,children:"Add to Queue"})})]}),Object(a.jsx)("div",{className:Ln.a.Volume,children:Object(a.jsx)("button",{className:Ln.a.VolumeButton,onClick:function(){var t=Q(c);!function(e,t,n){var a,r;window.MusicKit.getInstance().player.volume=n,e.spotifyApi.setVolume(100*n),e.youTubeApi.setVolume(100*n);var c=null===(a=t.nowPlaying)||void 0===a||null===(r=a.track)||void 0===r?void 0:r.uuid,s=e.files[c];s&&(s.all.volume=n,s.drums.volume=n,s.vocals.volume=n,s.bass.volume=n,s.other.volume=n)}(r,n,t),e.dispatch({type:"playback/cycleVolumeLevelAudio"})},children:Object(a.jsx)(Fn.a,{value:100*c,circleRatio:.75,styles:Object(Fn.b)({rotation:.625,strokeLinecap:"butt",trailColor:"#eee"}),children:Hn})})}),Object(a.jsxs)("div",{className:Ln.a.Playback,children:[Object(a.jsx)("button",{className:Ln.a.PlaybackButton,onClick:function(){d("backward")},disabled:i,children:En}),Object(a.jsx)("button",{className:Ln.a.PlaybackButton,onClick:function(){u||(n.isPlaying&&t.pause(),n.isPaused&&t.play())},disabled:u,children:n.nowPlaying&&n.isPlaying?Zn:zn}),Object(a.jsx)("button",{className:Ln.a.PlaybackButton,onClick:function(){d("forward")},disabled:i,children:Vn})]})]})}));var Wn=Object(Je.b)((function(e){return{userSettings:e.userSettings}}))((function(e){var t=e.isOpen,n=e.closeModal,c=Object(r.useState)(!0),s=Object(d.a)(c,2),i=s[0];return s[1],e.userSettings?Object(a.jsxs)(Tt.a,{isOpen:t,ariaHideApp:!1,children:[Object(a.jsx)("button",{onClick:n,children:"Close"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("a",{href:e.userSettings.spotify.authorizationUrl,children:"Connect Your Spotify Account"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:e.userSettings.idleQueue,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{idleQueue:t.target.checked}}),Xe("idle_after_now_playing",t.target.checked)},disabled:!i}),"Idle After Queue"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:e.userSettings.speakVoice,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{speakVoice:t.target.checked}}),Xe("mute_voice_recordings",t.target.checked)},disabled:!i}),"Speak Voice Recordings"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:e.userSettings.focusMode,onChange:function(t){e.dispatch({type:"userSettings/update",payload:{focusMode:t.target.checked}}),Xe("focus_mode",t.target.checked)},disabled:!i}),"Focus Mode"]}),Object(a.jsx)("br",{})]})]})]}):Object(a.jsx)(a.Fragment,{})})),Kn=n(23),Xn=n.n(Kn),Yn=Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"}),Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"})]}),Gn=Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 15C6.65685 15 8 13.6569 8 12C8 10.3431 6.65685 9 5 9C3.34315 9 2 10.3431 2 12C2 13.6569 3.34315 15 5 15ZM5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z",fill:"currentColor"}),Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15ZM12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",fill:"currentColor"}),Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 13.6569 20.6569 15 19 15C17.3431 15 16 13.6569 16 12C16 10.3431 17.3431 9 19 9C20.6569 9 22 10.3431 22 12ZM20 12C20 12.5523 19.5523 13 19 13C18.4477 13 18 12.5523 18 12C18 11.4477 18.4477 11 19 11C19.5523 11 20 11.4477 20 12Z",fill:"currentColor"})]});var $n=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],s=n[1];return Object(a.jsxs)("div",{className:Xn.a.SideBar,children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:Xn.a.Logo,children:Yn}),Object(a.jsx)("div",{className:Xn.a.Jb,children:"Jukebox Radio"}),Object(a.jsxs)("ul",{className:Xn.a.Menu,children:[Object(a.jsx)("li",{className:Xn.a.Search,children:Object(a.jsx)(Ee.b,{to:"/app/search",children:"Search"})}),Object(a.jsx)("li",{className:Xn.a.Queue,children:Object(a.jsx)(Ee.b,{to:"/app/queue",children:"Queue"})}),Object(a.jsx)("li",{className:Xn.a.Player,children:Object(a.jsx)(Ee.b,{to:"/app/player",children:"Player"})}),Object(a.jsx)("li",{className:Xn.a.Feed,children:Object(a.jsx)(Ee.b,{to:"/app/feed",children:"Feed"})})]}),Object(a.jsx)("div",{className:Xn.a.Settings,children:Object(a.jsx)("button",{onClick:function(){s(!0)},children:Gn})}),Object(a.jsx)(Wn,{isOpen:c,closeModal:function(){s(!1)}})]})};var ea=Object(Je.b)((function(e){return{stream:e.stream,nextUpQueues:e.nextUpQueues}}))((function(e){var t=e.stream,n=e.nextUpQueues,c=Object(r.useState)(!1),s=Object(d.a)(c,2),i=s[0],u=s[1],o=Object(r.useState)(!1),l=Object(d.a)(o,2),p=l[0],b=l[1];return Object(r.useEffect)((function(){!t.isPlaying&&!t.isPaused&&!n.length&&!p&&(u(!0),b(!0))}),[t,n,p]),Object(a.jsxs)("div",{className:tt.a.Session,children:[Object(a.jsx)(gn,{isOpen:i,closeModal:function(){u(!1)}}),Object(a.jsxs)("div",{className:tt.a.Top,children:[Object(a.jsx)($n,{}),Object(a.jsx)("div",{className:tt.a.Content,children:Object(a.jsxs)(Ye.c,{children:[Object(a.jsx)(Ye.a,{path:"/app/feed",children:Object(a.jsx)("div",{className:tt.a.PrimaryContent,children:Object(a.jsx)(At,{})})}),Object(a.jsxs)(Ye.a,{path:"/app/player",children:[Object(a.jsx)("div",{className:tt.a.PrimaryContent,children:Object(a.jsx)(An,{nextTrack:e.playbackControls.nextTrack,prevTrack:e.playbackControls.prevTrack,seek:e.playbackControls.seek,pause:e.playbackControls.pause,play:e.playbackControls.play})}),Object(a.jsx)("div",{className:tt.a.SecondaryContent,children:Object(a.jsx)(Ee.b,{to:"/app/feed",children:Object(a.jsx)(Dt,{})})})]}),Object(a.jsxs)(Ye.a,{path:"/app/queue",children:[Object(a.jsx)("div",{className:tt.a.PrimaryContent,children:Object(a.jsx)(nn,{})}),Object(a.jsx)("div",{className:tt.a.SecondaryContent,children:Object(a.jsx)(Ee.b,{to:"/app/player",children:Object(a.jsx)(Dn,{})})})]}),Object(a.jsxs)(Ye.a,{path:"/app/search",children:[Object(a.jsx)("div",{className:tt.a.PrimaryContent,children:Object(a.jsx)(On,{})}),Object(a.jsx)("div",{className:tt.a.SecondaryContent,children:Object(a.jsx)(Ee.b,{to:"/app/queue",children:Object(a.jsx)(cn,{})})})]})]})})]}),Object(a.jsx)(Jn,{playbackControls:e.playbackControls})]})}));var ta=function(e){return Object(a.jsxs)(Ye.c,{children:[Object(a.jsx)(Ye.a,{path:"/app/:content",children:Object(a.jsx)(ea,{playbackControls:e.playbackControls})}),Object(a.jsx)(Ye.a,{path:"/u/:username",children:Object(a.jsx)("span",{children:"PROFILE"})}),Object(a.jsx)(Ye.a,{path:"/spotify",children:Object(a.jsx)($e,{})}),Object(a.jsx)(Ye.a,{children:Object(a.jsx)(ea,{playbackControls:e.playbackControls})})]})},na=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return n=e.sent,e.next=5,O(t);case 5:a=e.sent,Re.dispatch(n.redux),Re.dispatch(a.redux);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),aa=n(195);var ra=Object(Je.b)((function(e){return{stream:e.stream,playback:e.playback,lastUpQueues:e.lastUpQueues,nextUpQueues:e.nextUpQueues,userSettings:e.userSettings}}))((function(e){var t,n,c=e.stream,s=e.playback,i=X(e.lastUpQueues),u=Y(e.nextUpQueues),p=Object(r.useState)(!1),b=Object(d.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)(!1),x=Object(d.a)(h,2),v=x[0],O=x[1],m=Object(r.useState)(void 0),y=Object(d.a)(m,2),k=y[0],g=y[1],U=Object(r.useState)(!1),N=Object(d.a)(U,2),Q=N[0],F=N[1],L=Object(r.useState)(!1),V=Object(d.a)(L,2),E=V[0],z=V[1],Z=Object(r.useState)({}),H=Object(d.a)(Z,2),J=H[0],W=H[1],K=Object(r.useState)({}),G=Object(d.a)(K,2),$=G[0],ee=G[1],te=function(e,t){var n=c.nowPlaying,a=null===n||void 0===n?void 0:n.playbackIntervals,r=a?a[a.length-1]:void 0;return(null===n||void 0===n?void 0:n.track)&&(n.track.service===D||n.track.service===I&&!(null===e||void 0===e?void 0:e.track)||n.track.service===I&&e.track.service!==I&&(!t||r.endPosition!==n.totalDurationMilliseconds&&t)||n.track.service===A&&!(null===e||void 0===e?void 0:e.track)||n.track.service===A&&(null===e||void 0===e?void 0:e.track.service)!==A&&(!t||r.endPosition!==n.totalDurationMilliseconds&&t)||n.track.service===R&&!(null===e||void 0===e?void 0:e.track)||n.track.service===R&&e.track.service!==R&&(!t||r.endPosition!==n.totalDurationMilliseconds&&t))},ne=function(){var t;(null===(t=c.nowPlaying)||void 0===t?void 0:t.track)&&(e.dispatch({type:"playback/started"}),function(e,t){var n=B(t,t.startedAt),a=n[0],r=n[2],c=t.nowPlaying.track.service;if(c===A){var s=window.MusicKit.getInstance();s.setQueue({song:t.nowPlaying.track.externalId}).then((function(){s.player.play().then((function(){s.player.pause().then((function(){var e=B(t,t.startedAt)[0];s.player.seekToTime(e/1e3).then((function(){s.player.play()}))}))}))}))}else if(c===I)e.spotifyApi.play({uris:[t.nowPlaying.track.externalId],position_ms:a});else if(c===R)e.youTubeApi.seekTo(a/1e3),e.youTubeApi.playVideo();else if(c===D){var i=t.nowPlaying.track.uuid,u=e.files[i][r];a>0&&(u.currentTime=a/1e3),u.play()}}(s,c))},ae=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:return t.next=4,P(null===(n=c.nowPlaying)||void 0===n?void 0:n.totalDurationMilliseconds,!0);case 4:return a=t.sent,ee(a),t.next=8,e.dispatch({type:"playback/addToQueue"});case 8:Ve(s,c,u),z(!0);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te(u,!0)&&De(s,c),s.queuedUp&&Le(s,c),t.next=5,e.dispatch({type:"playback/plannedNextTrack",payload:{payload:$.redux}});case 5:return t.next=7,e.dispatch({type:"playback/enable"});case 7:return t.next=9,na(null===u||void 0===u||null===(n=u.track)||void 0===n?void 0:n.uuid);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ce=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,r,u,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:if(te(i,!1)&&De(s,c),(null===(n=i.track)||void 0===n?void 0:n.service)!==D){t.next=9;break}return t.next=6,w(i.track.uuid);case 6:return u=t.sent,t.next=9,e.dispatch(u.redux);case 9:return t.next=11,S(null===(a=c.nowPlaying)||void 0===a?void 0:a.totalDurationMilliseconds);case 11:return l=t.sent,t.next=14,e.dispatch(l.redux);case 14:return t.next=16,e.dispatch({type:"playback/start"});case 16:return t.next=18,e.dispatch({type:"playback/enable"});case 18:return t.next=20,na(null===i||void 0===i||null===(r=i.track)||void 0===r?void 0:r.uuid);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:if(te(u,!1)&&De(s,c),(null===u||void 0===u?void 0:u.track.service)!==D){t.next=9;break}return t.next=6,w(u.track.uuid);case 6:return r=t.sent,t.next=9,e.dispatch(r.redux);case 9:return t.next=11,P(null===(n=c.nowPlaying)||void 0===n?void 0:n.totalDurationMilliseconds,!1);case 11:return i=t.sent,t.next=14,e.dispatch(i.redux);case 14:return t.next=16,e.dispatch({type:"playback/start"});case 16:return t.next=18,e.dispatch({type:"playback/enable"});case 18:return t.next=20,na(null===u||void 0===u||null===(a=u.track)||void 0===a?void 0:a.uuid);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,r,i,u,l,d,p,b=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.length>0&&void 0!==b[0]?b[0]:void 0,t.next=3,e.dispatch({type:"playback/disable"});case 3:if("forward"!==n){t.next=14;break}return t.next=6,T(c.nowPlaying.totalDurationMilliseconds);case 6:if(400!==t.sent.system.status){t.next=11;break}return t.next=10,e.dispatch({type:"playback/enable"});case 10:return t.abrupt("return");case 11:a=c.startedAt-1e4,t.next=22;break;case 14:if("backward"!==n){t.next=21;break}return t.next=17,M(c.nowPlaying.totalDurationMilliseconds);case 17:r=new Date,i=r.getTime(),u=c.startedAt+1e4,a=i-u>0?u:i,t.next=22;break;case 21:a=c.startedAt;case 22:return t.next=24,e.dispatch({type:"stream/set",payload:{stream:Object(q.a)(Object(q.a)({},c),{},{startedAt:a})}});case 24:return l=B(c,a),d=l[1],qe(s,c,a),t.next=28,e.dispatch({type:"playback/addToQueueReschedule"});case 28:return d&&(p=setTimeout((function(){ie()}),d),e.dispatch({type:"playback/nextSeekScheduled",payload:{nextSeekTimeoutId:p}})),t.next=31,e.dispatch({type:"playback/enable"});case 31:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ue=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.nowPlaying){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.dispatch({type:"playback/disable"});case 4:return t.next=6,C(c.nowPlaying.totalDurationMilliseconds);case 6:return n=t.sent,t.next=9,e.dispatch(n.redux);case 9:return t.next=11,e.dispatch({type:"playback/addToQueueReschedule"});case 11:return De(s,c),clearTimeout(J),t.next=15,e.dispatch({type:"playback/enable"});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),oe=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"playback/disable"});case 2:return t.next=4,_();case 4:return n=t.sent,t.next=7,e.dispatch(n.redux);case 7:if(s.isPlaying){t.next=11;break}return t.next=10,e.dispatch({type:"playback/enable"});case 10:return t.abrupt("return");case 11:return t.next=13,e.dispatch({type:"playback/addToQueueReschedule"});case 13:return Fe(s,c),t.next=16,e.dispatch({type:"playback/enable"});case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){!function(){var e=document.createElement("script");e.src="https://sdk.scdn.co/spotify-player.js",e.async=!0,new Promise((function(e){window.Spotify?e():window.onSpotifyWebPlaybackSDKReady=e})).then((function(){O(!0)})),document.body.appendChild(e)}(),new Promise((function(e){var t=document.createElement("script");t.src="https://js-cdn.music.apple.com/musickit/v1/musickit.js",t.async=!0,t.onload=function(){e()},document.body.appendChild(t)})).then((function(){f(!0)}))}),[]),Object(r.useEffect)((function(){j&&Ke().then((function(t){var n=window.MusicKit.configure({developerToken:t.data.appleMusic.token,app:{name:"Jukebox Radio",build:"0.0.1"}});n.addEventListener("mediaPlaybackError",(function(e){console.log("mediaPlaybackError"),console.log(e)})),n.addEventListener("playbackStateDidChange",(function(e){console.log("playbackStateDidChange"),console.log(e)})),e.dispatch({type:"playback/appleMusic",payload:{appleMusicApi:n}})}))}),[j]),Object(r.useEffect)((function(){if(v){var t=new window.Spotify.Player({name:"Jukebox Radio",getOAuthToken:function(t){Ke().then((function(n){if(t(n.data.spotify.accessToken),e.dispatch({type:"user/get-settings",userSettings:n.data}),n.data.spotify.accessToken){var a=new aa;a.setAccessToken(n.data.spotify.accessToken),e.dispatch({type:"playback/spotify",payload:{spotifyApi:a}})}e.dispatch({type:"playback/enable"}),F(!0)}))}});t.addListener("ready",(function(e){var t=e.device_id;g(t)})),t.addListener("player_state_changed",(function(e){})),t.connect()}}),[v]),Object(r.useEffect)((function(){Q&&k&&function(e,t){e.spotifyApi.transferMyPlayback([t])}(s,k)}),[Q,k]),Object(r.useEffect)((function(){if(c.isPlaying&&s.isPlaying&&!s.addToQueueTimeoutId&&(null===c||void 0===c?void 0:c.nowPlaying)){var t=Date.now()-c.startedAt,n=c.nowPlaying.totalDurationMilliseconds-t,a=setTimeout((function(){ae()}),n-5e3);e.dispatch({type:"playback/addToQueueScheduled",payload:{addToQueueTimeoutId:a}});var r=B(c,c.startedAt)[1];if(r){var i=setTimeout((function(){ie()}),r);e.dispatch({type:"playback/nextSeekScheduled",payload:{nextSeekTimeoutId:i}})}}}),[s]),Object(r.useEffect)((function(){if(E){z(!1);var e=Date.now()-c.startedAt,t=c.nowPlaying.totalDurationMilliseconds-e,n=setTimeout((function(){re()}),t);clearTimeout(J),W(n)}}),[E]),Object(r.useEffect)((function(){c.isPlaying&&!s.isPlaying&&s.isReady&&ne()}),[c,s]);var le={nextTrack:se,prevTrack:ce,seek:ie,pause:ue,play:oe},de=null===c||void 0===c||null===(t=c.nowPlaying)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.externalId;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(We.a,{videoId:de,opts:{height:"135",width:"240",playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1,origin:"jukeboxrad.io",playsinline:1}},onReady:function(t){var n=t.target;e.dispatch({type:"playback/youTube",payload:{youTubeApi:n}})},onPause:function(){c.isPaused||ue()},onPlay:function(){c.isPlaying||oe()}})}),Object(a.jsx)(ta,{playbackControls:le})]})})),ca=n(200),sa=n(92);var ia=function(){var e=Object(r.useState)("initial"),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,a,r,s,i,u,l,d,p,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(e.sent){e.next=6;break}return c("unauthenticated"),e.abrupt("return");case 6:return c("authenticated"),e.next=9,g();case 9:return i=e.sent,e.next=12,Re.dispatch(i.redux);case 12:if(u=i.redux.payload,(null===(l=null===(t=u.stream.nowPlaying)||void 0===t?void 0:t.track)||void 0===l?void 0:l.service)!==D){e.next=20;break}return d=l.uuid,e.next=17,w(d);case 17:return i=e.sent,e.next=20,Re.dispatch(i.redux);case 20:return e.next=22,U();case 22:return i=e.sent,e.next=25,Re.dispatch(i.redux);case 25:return e.next=27,v(null===(n=u.stream.nowPlaying)||void 0===n||null===(a=n.track)||void 0===a?void 0:a.uuid);case 27:return p=e.sent,e.next=30,Re.dispatch(p.redux);case 30:return e.next=32,O(null===(r=u.stream.nowPlaying)||void 0===r||null===(s=r.track)||void 0===s?void 0:s.uuid);case 32:return b=e.sent,e.next=35,Re.dispatch(b.redux);case 35:c("ready");case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ca.a.addDefaultLocale(sa),function(){e.apply(this,arguments)}(),window.addEventListener("beforeunload",(function(e){e.preventDefault();var t=Re.getState();t.stream.isPlaying&&(C(),De(t.playback,t.stream))}))}),[]),"initial"===n?Object(a.jsx)(a.Fragment,{}):"unauthenticated"===n?Object(a.jsx)(Ee.a,{children:Object(a.jsx)(Je.a,{store:Re,children:Object(a.jsx)("div",{className:"app-main-container",children:Object(a.jsx)("div",{className:"app-main",children:Object(a.jsx)(He,{})})})})}):"authenticated"===n?Object(a.jsx)(Ee.a,{children:Object(a.jsx)(Je.a,{store:Re,children:"Loading..."})}):Object(a.jsx)(Ee.a,{children:Object(a.jsx)(Je.a,{store:Re,children:Object(a.jsx)("div",{className:"app-main-container",children:Object(a.jsx)(ra,{})})})})},ua=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,202)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ia,{})}),document.getElementById("root")),ua()},23:function(e,t,n){e.exports={SideBar:"SideBar_SideBar__2JzAY",Logo:"SideBar_Logo__3Rpb1",Jb:"SideBar_Jb__7bttp",Menu:"SideBar_Menu__2AXUO",Search:"SideBar_Search__3Nyec",Queue:"SideBar_Queue__17nHt",Player:"SideBar_Player__1PY5E",Feed:"SideBar_Feed__1PPpo",Settings:"SideBar_Settings__2re0B"}},24:function(e,t,n){e.exports={Upload:"Upload_Upload__tMDig",FormBlock:"Upload_FormBlock__2ls6S"}},29:function(e,t,n){e.exports={QueueCollection:"QueueCollection_QueueCollection__2uTSJ",Item:"QueueCollection_Item__2k6HI",Button:"QueueCollection_Button__KLnuj",Children:"QueueCollection_Children__1Q1i5"}},30:function(e,t,n){e.exports={SearchApp:"SearchApp_SearchApp__Mfcqz",SearchBar:"SearchApp_SearchBar__CS1zo",FormBlock:"SearchApp_FormBlock__1myUf",SearchResults:"SearchApp_SearchResults__p1J6y"}},33:function(e,t,n){e.exports={Login:"Login_Login__1ujut",FormBlock:"Login_FormBlock__S_rix"}},35:function(e,t,n){e.exports={SearchResult:"SearchResult_SearchResult__djXCo",Button:"SearchResult_Button__1Hbjl",ggSpinner:"SearchResult_ggSpinner__iNeQG",spinner:"SearchResult_spinner__u3axZ"}},36:function(e,t,n){e.exports={WelcomeApp:"WelcomeApp_WelcomeApp__3mJcH"}},37:function(e,t,n){e.exports={FirstInterval:"ChildProgressBar_FirstInterval__1gNR-",LastInterval:"ChildProgressBar_LastInterval__2llh2",ProgressParentBare:"ChildProgressBar_ProgressParentBare__3_wH6",ProgressParentMuted:"ChildProgressBar_ProgressParentMuted__2Yfxu",ProgressAll:"ChildProgressBar_ProgressAll__2IIt8",ProgressMute:"ChildProgressBar_ProgressMute__3zy-Z"}},41:function(e,t,n){e.exports={FeedApp:"FeedApp_FeedApp__2YJHa",Feed:"FeedApp_Feed__3NWaq",FeedWrapper:"FeedApp_FeedWrapper__5dQdY",CreateTextComment:"FeedApp_CreateTextComment__1tCDm"}},48:function(e,t,n){e.exports={QueueTrack:"QueueTrack_QueueTrack__cD3iI",Button:"QueueTrack_Button__3peLA"}},49:function(e,t,n){e.exports={ProgressBar:"ParentProgressBar_ProgressBar__uCese",ProgressPointer:"ParentProgressBar_ProgressPointer__2qz3g"}},60:function(e,t,n){e.exports={QueueApp:"QueueApp_QueueApp__3OUXI",AddToQueue:"QueueApp_AddToQueue__1Zpmd"}},62:function(e,t,n){e.exports={MiniQueue:"MiniQueue_MiniQueue__2HfJP",MiniQueueItem:"MiniQueue_MiniQueueItem__2-wsK"}},86:function(e,t,n){e.exports={NotableText:"NotableText_NotableText__gYPiJ"}},87:function(e,t,n){e.exports={TextComment:"TextComment_TextComment__92FmQ",Notated:"TextComment_Notated__8XL21"}},88:function(e,t,n){e.exports={ABCNotationDisplay:"ABCNotationDisplay_ABCNotationDisplay__2WbrS"}},89:function(e,t,n){e.exports={VoiceRecording:"VoiceRecording_VoiceRecording__29j03"}},90:function(e,t,n){e.exports={MiniFeed:"MiniFeed_MiniFeed__2GXUK"}},91:function(e,t,n){e.exports={MiniPlayer:"MiniPlayer_MiniPlayer__w1Mms",Image:"MiniPlayer_Image__1dVlH"}}},[[196,1,2]]]);
//# sourceMappingURL=main.7f85f39a.chunk.js.map